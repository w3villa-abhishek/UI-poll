function pushInitialize(){return"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?($(".config_push_items").hide(),$(".enable_push_from_denied").show(),void console.warn("The user has blocked notifications.")):"PushManager"in window?void navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){if(!t)return $(".config_push_items").hide(),void $(".enable_push_from_disabled").show();$(".config_push_items").hide(),$(".disable_push_from_enabled").show(),pushSendSubscriptionToServer(t.endpoint,!0)})["catch"](function(t){console.warn("Error during getSubscription()",t)})}):void console.warn("Push messaging isn't supported."):void console.warn("Notifications aren't supported.")}function pushSubscribe(){navigator.serviceWorker.ready.then(function(t){t.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){return $(".config_push_items").hide(),$(".disable_push_from_enabled").show(),pushSendSubscriptionToServer(t.endpoint,!0)})["catch"](function(t){"denied"===Notification.permission?($(".config_push_items").hide(),$(".enable_push_from_denied").show(),console.warn("Permission for Notifications was denied")):console.error("Unable to subscribe to push.",t)})})}function pushUnsubscribe(){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t&&($(".config_push_items").hide(),$(".enable_push_from_disabled").show(),pushSendSubscriptionToServer(t.endpoint,!1),t.unsubscribe().then(function(){})["catch"](function(t){console.log("Unsubscription error: ",t)}))})["catch"](function(t){console.error("Error thrown while unsubscribing from push messaging.",t)})})}function pushSendSubscriptionToServer(t,e){null!=t&&t!=undefined&&""!=t&&MINDSUMO_ajaxLoader.load("/browser/register",{endpoint:t,register:e},"POST",null,{})}function initializeMapMarkers(t,e){sourceFile="//maps.googleapis.com/maps/api/js?key=AIzaSyCbh6vQ_puMJMACFR7PnJj1qMW6Ea-CksI",0==$('script[src="'+sourceFile+'"]').length?loadAsync(sourceFile,function(){plotMapMarkers(t,e)}):plotMapMarkers(t,e)}function plotMapMarkers(t,e){if("undefined"!=typeof google){var i,n=new google.maps.LatLngBounds,s=[{featureType:"land",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"administrative.province",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#D7E3E3"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#999999"},{lightness:50}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}];i=new google.maps.Map(document.getElementById(t),{mapTypeControl:!1,streetViewControl:!1,styles:s}),i.setTilt(45);var r,o,a=e.map(function(t){return t.slice(0,3)}),l=e.map(function(t){return t[t.length-1]}),c=new google.maps.InfoWindow;for(o=0;o<a.length;o++){var h=new google.maps.LatLng(a[o][1],a[o][2]);n.extend(h),r=new google.maps.Marker({position:h,map:i,title:a[o][0],icon:"https://d18qs7yq39787j.cloudfront.net/public/map_flag_small.png"}),google.maps.event.addListener(r,"click",function(t,e){return function(){c.setContent(l[e][0]),c.open(i,t)}}(r,o))}i.fitBounds(n)}}function callIosNativeApp(){try{return webkit.messageHandlers.mindsumoInitiatesFetchDeviceToken.postMessage("Please send your Token!"),!0}catch(t){return!1}}function callAndroidNativeApp(){try{return MindSumoAndroid.establishDialog(),!0}catch(t){return!1}}function iosSendsDeviceTokenToMindSumo(t){var e=null;return MINDSUMO_ajaxLoader.load("/mobile/register/ios",{deviceTokenString:t},"POST",null,{async:!1,loadType:2,callbackFunc:function(t){var t=JSON.parse(t);e=t.currentUserID},ajaxStop:function(){MINDSUMO_document.mobileDeviceToken=t,MINDSUMO_document.mobileAppOs="ios"}}),e}function androidSendsDeviceTokenToMindSumo(t){var e=null;return MINDSUMO_ajaxLoader.load("/mobile/register/android",{deviceTokenString:t},"POST",null,{async:!1,loadType:2,callbackFunc:function(t){var t=JSON.parse(t);e=t.currentUserID},ajaxStop:function(){MINDSUMO_document.mobileDeviceToken=t,MINDSUMO_document.mobileAppOs="android"}}),e}function getSelectedCheckboxValues(t,e){return 1==e?$("."+t+":visible:checked").map(function(){return $(this).val()}).get().join(","):$("."+t+":checked").map(function(){return $(this).val()}).get().join(",")}function updateCheckBoxCounter(t,e){if(1==e)var i=$("."+t+":visible:checked").length;else var i=$("."+t+":checked").length;var n=$("."+t+"_check_counter"),s=n.data("textreplace"+i);s==undefined?n.html(i):n.html(s)}function enableNestedFormActions(){$(".remove_fields").unbind("click"),$(".remove_fields").click(function(t){$(this).prev("input[type=hidden]").val("1"),$(this).closest(".nested_fields").hide(),$(this).closest(".nested_fields").addClass("destroy_ready_nested_set"),t.preventDefault()}),$(".add_fields").unbind("click"),$(".add_fields").click(function(t){time=(new Date).getTime(),regexp=new RegExp($(this).data("id"),"g"),$(this).before($(this).data("fields").replace(regexp,time).replace(/ajax_identifier_nested_form_placeholder/g,time)),t.preventDefault(),enableNestedFormActions(),$(document).trigger("nested_form:add"),autoResizeTextArea(),enableChosen(),enableDateTimePick()}),$(document).on("click",".nested_fields :checkbox",function(){var t=$(this).prop("checked"),e=$(this).prop("name");$("input[name='"+e+"'").val(t)}),$(".nested_form_ajax_wrapper").bind("ajax:complete",function(){$(".destroy_ready_nested_set").next("input[type = hidden]").remove(),$(".destroy_ready_nested_set").remove()}),$(".add_fields").length>0&&0==$(".nested_fields").length&&$(".add_fields").trigger("click")}function setHashScrolled(){if(!MINDSUMO_document.hashScrolled&&$(location.hash).length>0){MINDSUMO_document.hashScrolled=!0;var t=location.hash;location.hash="",location.hash=t,1==$(t).data("highlightafterhashscroll")&&($(t).addClass("highlightAfterHashScroll"),$(t).click(function(){$(this).removeClass("highlightAfterHashScroll")}))}}function autoResizeTextArea(){$.each($("textarea[data-autoresize]"),function(){var t=this.offsetHeight-this.clientHeight,e=function(e){if($(e).css("height")!=$(e).css("max-height")&&$(e).height()<e.scrollHeight+t){var i=window.pageXOffset||(document.documentElement||document.body.parentNode||document.body).scrollLeft,n=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop;$(e).css("height","auto").css("height",e.scrollHeight+t),window.scrollTo(i,n)}};e(this),$(this).on("keyup input",function(){e(this)}).removeAttr("data-autoresize")})}function scrollUpDiv(t){$(t).animate({scrollTop:"100000px"},"fast")}function getJsonFromUrl(){var t=location.search.substr(1),e={};return t.split("&").forEach(function(t){if(t.length>0){var i=t.split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}}),e}function updateParamInUrl(t){var e=getJsonFromUrl();for(var i in t)t.hasOwnProperty(i)&&(""!=t[i]&&t[i]!=undefined?e[i]=t[i]:delete e[i]);var n=$.param(e).replace(/\+/g,"%20");null!=n&&""!=n?history.replaceState(history.state,document.title,location.pathname+"?"+n):history.replaceState(history.state,document.title,location.pathname)}function centerAbsoluteDiv(t){t.css("left",(t.parent().width()-$(t).width())/2)}function enableDateTimePick(){$(".datetime_pick").not($(".datetime_pick_enabled")).each(function(){$(this).datetimepicker(),$(this).addClass("datetime_pick_enabled"),Date.parse($(this).val())>0&&$(this).val($(this).val()+" UTC");var t=$(this).parents("form");t.length>0&&t.submit(function(){t.find(".datetime_pick").each(function(){var t=new Date($(this).val());$(this).val(t.toGMTString())})})})}function initializeTableSorter(){$(".sortable_table").tablesorter({sortMultiSortKey:"shiftKey",cssAsc:"tablesorter-headerSortUp",cssDesc:"tablesorter-headerSortDown"})}function verifyFilledFields(t){var e="string"==typeof t?$(t):$(t).find(".required_field"),i=!0;return e.each(function(){var t=$(this).attr("type");if("checkbox"===t||"radio"===t){var e=$(this).parent().parent().find("input[type="+t+"]"),n=!0;e.each(function(){this.checked&&(n=!1)}),n?$(this).addClass("highlight_input_warn"):$(this).removeClass("highlight_input_warn"),i=!n&&i}else{var s=$(this).val(),r=$(this).is("select")&&$(this).siblings(".chosen-container").length>0?$(this).siblings(".chosen-container"):$(this);r=$(this).is("textarea")&&$(this).hasClass("redactor")?$(this).parent():r,void 0===s||null===s||""===s.trim()?(r.addClass("highlight_input_warn"),i=!1):r.hasClass("datetime_pick")&&"Invalid Date"===s?(r.addClass("highlight_input_warn"),i=!1):"number"===t&&(parseInt(s)<parseInt($(this).attr("min"))||parseInt(s)>parseInt($(this).attr("max")))?(r.addClass("highlight_input_warn"),i=!1):r.removeClass("highlight_input_warn")}}),"string"==typeof t&&(i?$(t+"_missing_error").hide():$(t+"_missing_error").show()),i}function setTemporaryText(t,e,i){var n=$(t).html();setTimeout(function(){$(t).html(n)},i),$(t).html(e)}function initializeCopyToClipboard(){var t=new Clipboard(".copy_to_clipboard");t.on("success",function(t){$(t.trigger).data("clipboard-html-success")!=undefined&&setTemporaryText(t.trigger,$(t.trigger).data("clipboard-html-success"),5e3)}),t.on("error",function(t){$(t.trigger).data("clipboard-html-error")!=undefined&&setTemporaryText(t.trigger,$(t.trigger).data("clipboard-html-error"),5e3)})}function enableImagePreviewInForm(){$(".image_preview_enable").change(function(t){var e=t.target.dataset.imagepreviewcontainer,i=new FileReader,n=t.target.files[0];i.onload=function(t){$(e).attr("src",t.target.result)},i.readAsDataURL(n)})}function loadAsync(t,e){var i=document.createElement("script");i.src=t,null!==e&&(i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,e())}:i.onload=function(){e()}),document.body.appendChild(i)}function enableImageLoadOnAppear(t){t!=undefined?(t.find(".image_load_on_appear").appear({scroll_selector:t}),t.find(".image_load_on_appear").on("appear",function(){$(this).attr("src",$(this).data("imageonappear")),$(this).unbind("appear"),$(this).removeClass("image_load_on_appear")}),$.force_appear({scroll_selector:t||window})):($(".image_load_on_appear").appear(),$(".image_load_on_appear").on("appear",function(){$(this).attr("src",$(this).data("imageonappear")),$(this).unbind("appear"),$(this).removeClass("image_load_on_appear")}),$.force_appear())}function enableShowChildrenOnAppear(t){t!=undefined?(t.find(".show_on_appear").appear({scroll_selector:t}),t.find(".show_on_appear").on("appear",function(){$(this).children().show()}),t.find(".show_on_appear").on("disappear",function(){$(this).children().hide()}),$.force_appear({scroll_selector:t||window})):($(".show_on_appear").appear(),$(".show_on_appear").on("appear",function(){$(this).children().show()}),$(".show_on_appear").on("disappear",function(){$(this).children().hide()}),$.force_appear())}function extractTextFromHtmlString(t){var e,i="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",n=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+i+">[\\s\\S]*?</script\\s*|style\\b"+i+">[\\s\\S]*?</style\\s*|/?[a-z]"+i+")>","gi");do{e=t,t=t.replace(n,"")}while(t!==e);return t.replace(/</g,"&lt;")}function enableCarousel(){function t(t){if(t.children(".carousel_element.active_carousel_element").length>0){var e=t.children(".carousel_element.active_carousel_element").first().data("carouselnext");t.children(".carousel_element.active_carousel_element").removeClass("active_carousel_element"),$(e).addClass("active_carousel_element")}else t.children(".carousel_element").first().addClass("active_carousel_element")}clearInterval(MINDSUMO_document.carouselInterval),MINDSUMO_document.carouselInterval=setInterval(function(){t($(".carousel"))},4e3)}function enableValidateRequiredFields(){$("form.validate_required").on("submit",function(t){return verifyFilledFields("form.validate_required:visible .required_field")?($("form.validate_required button").attr("disabled","disabled"),!0):($("form.validate_required:visible button").removeAttr("disabled"),t.stopPropagation(),t.preventDefault(),!1)}),$("form.validate_required_single").on("submit",function(t){return verifyFilledFields(this)?($(this).attr("disabled","disabled"),!0):($(this).find("button").removeAttr("disabled"),t.stopPropagation(),t.preventDefault(),!1)})}function initializeGooglePlacesLookup(t){sourceFile="//maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyCbh6vQ_puMJMACFR7PnJj1qMW6Ea-CksI",0==$('script[src="'+sourceFile+'"]').length?loadAsync(sourceFile,function(){enableGooglePlacesLookup(t)}):enableGooglePlacesLookup(t)}function enableGooglePlacesLookup(t){$("."+t).each(function(){var t={autocompleteType:[$(this).data("format")],latLongField:$(this).data("latlongfield")},e=new google.maps.places.Autocomplete(this);e.setTypes(t.autocompleteType),this.onkeypress=function(t){13==t.which&&t.preventDefault()},t.latLongField!=undefined&&e.addListener("place_changed",function(){var i=e.getPlace();document.getElementById(t.latLongField).value=i.geometry.location.lat()+", "+i.geometry.location.lng()})})}function enableFillWhenAppear(t){$(".fill_when_appear").appear({scroll_selector:t||window}),$(".fill_when_appear").on("appear",function(){var t=$(this).data("url");$(this).removeAttr("data-url"),$(this).removeData("data"),$(this).unbind("appear");var e=$(this);t!=undefined&&(parameters=$(this).data(),delete parameters.url,MINDSUMO_ajaxLoader.load(t,parameters,"GET",$(this),{loadType:0,ajaxStop:function(){e.removeClass("fill_when_appear"),e.addClass("filled_when_appear")}}))}),$.force_appear({scroll_selector:t||window})}function enableChosen(){$(".chosen-select").chosen({width:"100%"}),$("select.chosen-select[multiple]").change(function(){$(this).children("optgroup").length>0&&($(this).children("optgroup[singleselect]").each(function(){$(this).children("option:selected").length>0?($(this).children("option:selected").length>1&&(firstSelected=$(this).children("option:selected").first(),$(this).children("option:selected").removeAttr("selected"),firstSelected.attr("selected","selected")),$(this).children("option").not("option:selected").attr("disabled","true")):$(this).children("option").removeAttr("disabled","true")}),$(this).trigger("chosen:updated"))})}function loadComments(t,e){var i=$(".comments_body[data-id='comments_body_"+t.toLowerCase()+"_"+e+"']");0==i.children().length&&MINDSUMO_ajaxLoader.load("/comments/load_comments",{commentable_type:t,commentable_id:e},"GET",i,{loadType:0,ajaxStop:function(){$("abbr.timeago").timeago()}})}function recordContestPageView(t){MINDSUMO_ajaxLoader.load("/contests/"+t+"/viewed",{},"POST",null,{}),$(document).on("page:before-unload",function(){updateContestView(t,"end")})}function updateContestView(t,e){"end"===e?MINDSUMO_ajaxLoader.load("/contests/"+t+"/end_view",{},"POST",null,{}):MINDSUMO_ajaxLoader.load("/contests/"+t+"/update_view",{activity:e},"POST",null,{})}function fetchChallenge(t,e,i,n){"jobs"===t?MINDSUMO_ajaxLoader.load("/job_opportunities",{page:e},"GET",$(".contest_list_in_index"),{loadType:i,ajaxStop:function(){$.each(n,function(t,e){e.remove()}),MINDSUMO_document.autoLoadChallengeFeed?($(".contests_load_more").appear(),$(".contests_load_more").on("appear",function(){$(this).click(),$(this).css("pointer-events","none"),$(this).children(".loading_refresh").addClass("fa-spin"),$(this).unbind("appear")}),$(document.body).trigger("sticky_kit:recalc")):stickChallengeIndexFilterColumn()}}):MINDSUMO_ajaxLoader.load("/contests/fetch_contests",{category:t,page:e},"GET",$(".contest_list_in_index"),{loadType:i,ajaxStop:function(){$.each(n,function(t,e){e.remove()}),MINDSUMO_document.autoLoadChallengeFeed?($(".contests_load_more").appear(),$(".contests_load_more").on("appear",function(){$(this).click(),$(this).css("pointer-events","none"),$(this).children(".loading_refresh").addClass("fa-spin"),$(this).unbind("appear")}),$(document.body).trigger("sticky_kit:recalc")):stickChallengeIndexFilterColumn()}})}function removeContestfile(t){$.ajax({url:"/deletecontestfile",type:"POST",data:{id:t}}),$("#replace_button"+t).hide(),$("#file_link"+t).hide()}function updateStandingNumbers(){($(".inbox_number").length>0||$(".my_dojo_counter_number").length>0||$(".my_company_needs_number").length>0)&&MINDSUMO_ajaxLoader.load("/user/my_standing",{},"GET",null,{loadType:2,dataType:"json",callbackFunc:function(t){$(".inbox_number").html(t.inbox_count),t.inbox_count>0?$(".inbox_number").addClass("inbox_number_marked"):$(".inbox_number").removeClass("inbox_number_marked"),$(".my_dojo_counter_number").html(t.dojo_count),t.dojo_count>0?$(".my_dojo_counter_number").addClass("my_dojo_counter_number_marked"):$(".my_dojo_counter_number").removeClass("my_dojo_counter_number_marked"),$(".my_company_needs_number").html(t.needs_count),t.needs_count>0?$(".my_company_needs_number").addClass("my_company_needs_number_marked"):$(".my_company_needs_number").removeClass("my_company_needs_number_marked")}})}function stickAppHeader(){$(".page_wrapper").length>0&&$(".page_wrapper").has(".mindsumo_in_header").length>0&&($(".mindsumo_in_header").trigger("sticky_kit:detach"),$(".mindsumo_in_header").stick_in_parent({parent:$(".page_wrapper"),sticky_class:"mindsumo_in_header_fix",offset_top:0,bottoming:!1}))}function stickChallengeIndexFilterColumn(){$(".challenge_index_filter").length>0&&$(".challenge_index_filter").has(".contest_index_filter_container").length>0&&($(".contest_index_filter_container").trigger("sticky_kit:detach"),$(".contest_index_filter_container").stick_in_parent({parent:$(".challenge_index_filter"),sticky_class:"contest_index_filter_container_fix",offset_top:30}))}function stickCtaChallengePage(){$(".contest_show_container").length>0&&$(".contest_show_container").has(".cb_stat_section").length>0&&$(".cb_stat_section").trigger("sticky_kit:detach").stick_in_parent({parent:$(".contest_show_container"),offset_top:40,sticky_class:"cb_stat_section_fix",bottoming:!1})}function recordJobOpportunityPageView(t){MINDSUMO_ajaxLoader.load("/job_opportunities/"+t+"/viewed",{},"POST",null,{})}function track_event(t,e){MINDSUMO_ajaxLoader.load("/track_event",{object:t,slug:e},"GET",null,{})}function checkEmail(t){return pattern=/[A-Za-z0-9_\.%\+\-]+@(?:[A-Za-z0-9\-]+\.)+(?:[A-Za-z]{2,})/,null!=t&&null!=t.match(pattern)}function recaptchaLoadCallback(){$(".g-recaptcha").each(function(){$(this).attr("id")in recaptchaWidgets||(recaptchaWidgets[$(this).attr("id")]=grecaptcha.render($(this).attr("id"),{sitekey:recaptcha_site_key}))})}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=pt.type(t);return"function"!==i&&!pt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(pt.isFunction(e))return pt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return pt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(kt.test(e))return pt.filter(e,t,i);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==i})}function s(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function r(t){var e={};return pt.each(t.match(Ot)||[],function(t,i){e[i]=!0}),e}function o(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(o(),pt.ready())}function l(t,e,i){if(i===undefined&&1===t.nodeType){var n="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:At.test(i)?pt.parseJSON(i):i)}catch(t){}pt.data(t,e,i)}else i=undefined}return i}function c(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(Dt(t)){var s,r,o=pt.expando,a=t.nodeType,l=a?pt.cache:t,c=a?t[o]:t[o]&&o;if(c&&l[c]&&(n||l[c].data)||i!==undefined||"string"!=typeof e)return c||(c=a?t[o]=it.pop()||pt.guid++:o),l[c]||(l[c]=a?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[c]=pt.extend(l[c],e):l[c].data=pt.extend(l[c].data,e)),r=l[c],n||(r.data||(r.data={}),r=r.data),i!==undefined&&(r[pt.camelCase(e)]=i),"string"==typeof e?null==(s=r[e])&&(s=r[pt.camelCase(e)]):s=r,s}}function u(t,e,i){if(Dt(t)){var n,s,r=t.nodeType,o=r?pt.cache:t,a=r?t[pt.expando]:pt.expando;if(o[a]){if(e&&(n=i?o[a]:o[a].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in n?e=[e]:(e=pt.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!c(n):!pt.isEmptyObject(n))return}(i||(delete o[a].data,c(o[a])))&&(r?pt.cleanData([t],!0):ut.deleteExpando||o!=o.window?delete o[a]:o[a]=undefined)}}}function d(t,e,i,n){var s,r=1,o=20,a=n?function(){return n.cur()}:function(){return pt.css(t,e,"")},l=a(),c=i&&i[3]||(pt.cssNumber[e]?"":"px"),h=(pt.cssNumber[e]||"px"!==c&&+l)&&jt.exec(pt.css(t,e));if(h&&h[3]!==c){c=c||h[3],i=i||[],h=+l||1;do{r=r||".5",h/=r,pt.style(t,e,h+c)}while(r!==(r=a()/l)&&1!==r&&--o)}return i&&(h=+h||+l||0,s=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=s)),s}function p(t){var e=Wt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,s=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||pt.nodeName(n,e)?r.push(n):pt.merge(r,f(n,e));return e===undefined||e&&pt.nodeName(t,e)?pt.merge([t],r):r}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)pt._data(i,"globalEval",!e||pt._data(e[n],"globalEval"))}function m(t){$t.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,s){for(var r,o,a,l,c,h,u,d=t.length,v=p(e),b=[],y=0;y<d;y++)if((o=t[y])||0===o)if("object"===pt.type(o))pt.merge(b,o.nodeType?[o]:o);else if(Ut.test(o)){for(l=l||v.appendChild(e.createElement("div")),c=(zt.exec(o)||["",""])[1].toLowerCase(),u=qt[c]||qt._default,l.innerHTML=u[1]+pt.htmlPrefilter(o)+u[2],r=u[0];r--;)l=l.lastChild;if(!ut.leadingWhitespace&&Bt.test(o)&&b.push(e.createTextNode(Bt.exec(o)[0])),!ut.tbody)for(o="table"!==c||Yt.test(o)?"<table>"!==u[1]||Yt.test(o)?0:l:l.firstChild,r=o&&o.childNodes.length;r--;)pt.nodeName(h=o.childNodes[r],"tbody")&&!h.childNodes.length&&o.removeChild(h);for(pt.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(o));for(l&&v.removeChild(l),ut.appendChecked||pt.grep(f(b,"input"),m),y=0;o=b[y++];)if(n&&pt.inArray(o,n)>-1)s&&s.push(o);else if(a=pt.contains(o.ownerDocument,o),l=f(v.appendChild(o),"script"),a&&g(l),i)for(r=0;o=l[r++];)Ht.test(o.type||"")&&i.push(o);return l=null,v}function b(){return!0}function y(){return!1}function x(){try{return nt.activeElement}catch(t){}}function w(t,e,i,n,s,r){var o,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=undefined);for(a in e)w(t,a,i,n,e[a],r);return t}if(null==n&&null==s?(s=i,n=i=undefined):null==s&&("string"==typeof i?(s=n,n=undefined):(s=n,n=i,i=undefined)),!1===s)s=y;else if(!s)return t;return 1===r&&(o=s,s=function(t){return pt().off(t),o.apply(this,arguments)},s.guid=o.guid||(o.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,s,n,i)})}function _(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&pt.hasData(t)){var i,n,s,r=pt._data(t),o=pt._data(e,r),a=r.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,s=a[i].length;n<s;n++)pt.event.add(e,i,a[i][n])}o.data&&(o.data=pt.extend({},o.data))}}function S(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ut.noCloneEvent&&e[pt.expando]){s=pt._data(e);for(n in s.events)pt.removeEvent(e,n,s.handle);e.removeAttribute(pt.expando)}"script"===i&&e.text!==t.text?(k(e).text=t.text,C(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&$t.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function E(t,e,i,n){e=rt.apply([],e);var s,r,o,a,l,c,h=0,u=t.length,d=u-1,p=e[0],g=pt.isFunction(p);if(g||u>1&&"string"==typeof p&&!ut.checkClone&&ie.test(p))return t.each(function(s){var r=t.eq(s);g&&(e[0]=p.call(this,s,r.html())),E(r,e,i,n)});if(u&&(c=v(e,t[0].ownerDocument,!1,t,n),s=c.firstChild,1===c.childNodes.length&&(c=s),s||n)){for(a=pt.map(f(c,"script"),k),o=a.length;h<u;h++)r=c,h!==d&&(r=pt.clone(r,!0,!0),o&&pt.merge(a,f(r,"script"))),i.call(t[h],r,h);if(o)for(l=a[a.length-1].ownerDocument,pt.map(a,C),h=0;h<o;h++)r=a[h],Ht.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(l,r)&&(r.src?pt._evalUrl&&pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(se,"")));c=s=null}return t}function O(t,e,i){for(var n,s=e?pt.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||pt.cleanData(f(n)),n.parentNode&&(i&&pt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function P(t,e){var i=pt(e.createElement(t)).appendTo(e.body),n=pt.css(i[0],"display");return i.detach(),n}function M(t){var e=nt,i=le[t];return i||(i=P(t,e),"none"!==i&&i||(ae=(ae||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ae[0].contentWindow||ae[0].contentDocument).document,e.write(),e.close(),i=P(t,e),ae.detach()),le[t]=i),i}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in ke)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=_e.length;i--;)if((t=_e[i]+e)in ke)return t}function I(t,e){for(var i,n,s,r=[],o=0,a=t.length;o<a;o++)n=t[o],n.style&&(r[o]=pt._data(n,"olddisplay"),i=n.style.display,e?(r[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Ft(n)&&(r[o]=pt._data(n,"olddisplay",M(n.nodeName)))):(s=Ft(n),(i&&"none"!==i||!s)&&pt._data(n,"olddisplay",s?i:pt.css(n,"display"))));for(o=0;o<a;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[o]||"":"none"));return t}function N(t,e,i){var n=ye.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function j(t,e,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=pt.css(t,i+Lt[r],!0,s)),n?("content"===i&&(o-=pt.css(t,"padding"+Lt[r],!0,s)),"margin"!==i&&(o-=pt.css(t,"border"+Lt[r]+"Width",!0,s))):(o+=pt.css(t,"padding"+Lt[r],!0,s),"padding"!==i&&(o+=pt.css(t,"border"+Lt[r]+"Width",!0,s)));return o}function L(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,r=pe(t),o=ut.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,r);if(s<=0||null==s){if(s=fe(t,e,r),(s<0||null==s)&&(s=t.style[e]),he.test(s))return s;n=o&&(ut.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+j(t,e,i||(o?"border":"content"),n,r)+"px"}function F(t,e,i,n,s){return new F.prototype.init(t,e,i,n,s)}function R(){return t.setTimeout(function(){Ce=undefined}),Ce=pt.now()}function $(t,e){var i,n={height:t},s=0;for(e=e?1:0;s<4;s+=2-e)i=Lt[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function z(t,e,i){for(var n,s=(W.tweeners[e]||[]).concat(W.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,e,t))return n}function H(t,e,i){var n,s,r,o,a,l,c,h=this,u={},d=t.style,p=t.nodeType&&Ft(t),f=pt._data(t,"fxshow");i.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],c=pt.css(t,"display"),"inline"===("none"===c?pt._data(t,"olddisplay")||M(t.nodeName):c)&&"none"===pt.css(t,"float")&&(ut.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ut.shrinkWrapBlocks()||h.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],Se.exec(s)){if(delete e[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!f||f[n]===undefined)continue;p=!0}u[n]=f&&f[n]||pt.style(t,n)}else c=undefined;if(pt.isEmptyObject(u))"inline"===("none"===c?M(t.nodeName):c)&&(d.display=c);else{f?"hidden"in f&&(p=f.hidden):f=pt._data(t,"fxshow",{}),r&&(f.hidden=!p),p?pt(t).show():h.done(function(){pt(t).hide()}),h.done(function(){var e;pt._removeData(t,"fxshow");for(e in u)pt.style(t,e,u[e])});for(n in u)o=z(p?f[n]:0,n,h),n in f||(f[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function B(t,e){var i,n,s,r,o;for(i in t)if(n=pt.camelCase(i),s=e[n],r=t[i],pt.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(o=pt.cssHooks[n])&&"expand"in o){r=o.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=s)}else e[n]=s}function W(t,e,i){var n,s,r=0,o=W.prefilters.length,a=pt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=Ce||R(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,i]),r<1&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ce||R(),duration:i.duration,tweens:[],createTween:function(e,i){var n=pt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(B(h,c.opts.specialEasing);r<o;r++)if(n=W.prefilters[r].call(c,t,h,c.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(c.elem,c.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(h,z,c),pt.isFunction(c.opts.start)&&c.opts.start.call(t,c),pt.fx.timer(pt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t){return pt.attr(t,"class")||""}function U(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(Ot)||[];if(pt.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Y(t,e,i,n){function s(a){var l;return r[a]=!0,pt.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var r={},o=t===Qe;return s(e.dataTypes[0])||!r["*"]&&s("*")}function V(t,e){var i,n,s=pt.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function X(t,e,i){for(var n,s,r,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),s===undefined&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(o in a)if(a[o]&&a[o].test(s)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}n||(n=o)}r=r||n}if(r)return r!==l[0]&&l.unshift(r),i[r]}function G(t,e,i,n){var s,r,o,a,l,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(s in c)if(a=s.split(" "),a[1]===r&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[s]:!0!==c[s]&&(r=a[0],h.unshift(a[1]));break}if(!0!==o)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function K(t){return t.style&&t.style.display||pt.css(t,"display")}function Q(t){if(!pt.contains(t.ownerDocument||nt,t))return!0;for(;t&&1===t.nodeType;){if("none"===K(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,i,n){var s;if(pt.isArray(e))pt.each(e,function(e,s){i||ii.test(t)?n(t,s):Z(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)
});else if(i||"object"!==pt.type(e))n(t,e);else for(s in e)Z(t+"["+s+"]",e[s],i,n)}function J(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,st=it.slice,rt=it.concat,ot=it.push,at=it.indexOf,lt={},ct=lt.toString,ht=lt.hasOwnProperty,ut={},dt="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:dt,constructor:pt,selector:"",length:0,toArray:function(){return st.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:st.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:it.sort,splice:it.splice},pt.extend=pt.fn.extend=function(){var t,e,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||pt.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(s=arguments[a]))for(n in s)t=o[n],i=s[n],o!==i&&(c&&i&&(pt.isPlainObject(i)||(e=pt.isArray(i)))?(e?(e=!1,r=t&&pt.isArray(t)?t:[]):r=t&&pt.isPlainObject(t)?t:{},o[n]=pt.extend(c,r,i)):i!==undefined&&(o[n]=i));return o},pt.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ht.call(t,"constructor")&&!ht.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!ut.ownFirst)for(e in t)return ht.call(t,e);for(e in t);return e===undefined||ht.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,s=0;if(i(t))for(n=t.length;s<n&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;)t[s++]=e[n++];if(i!==i)for(;e[n]!==undefined;)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,o=!i;s<r;s++)!e(t[s],s)!==o&&n.push(t[s]);return n},map:function(t,e,n){var s,r,o=0,a=[];if(i(t))for(s=t.length;o<s;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),pt.isFunction(t)?(i=st.call(arguments,2),n=function(){return t.apply(e||this,i.concat(st.call(arguments)))},n.guid=t.guid=t.guid||pt.guid++,n):undefined},now:function(){return+new Date},support:ut}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=it[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,i,n){var s,r,o,a,l,c,u,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:z)!==A&&D(e),e=e||A,N)){if(11!==g&&(c=vt.exec(t)))if(s=c[1]){if(9===g){if(!(o=e.getElementById(s)))return i;if(o.id===s)return i.push(o),i}else if(f&&(o=f.getElementById(s))&&R(e,o)&&o.id===s)return i.push(o),i}else{if(c[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((s=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&!U[t+" "]&&(!j||!j.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(yt,"\\$&"):e.setAttribute("id",a=$),u=T(t),r=u.length,l=dt.test(a)?"#"+a:"[id='"+a+"']";r--;)u[r]=l+" "+d(u[r]);p=u.join(","),f=bt.test(t)&&h(e.parentNode)||e}if(p)try{return Z.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===$&&e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>_.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[$]=!0,t}function s(t){var e=A.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var s,r=t([],i.length,e),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,r=B++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r)}:function(e,i,o){var a,l,c,h=[H,r];if(o){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(c=e[$]||(e[$]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(a=l[n])&&a[0]===H&&a[1]===r)return h[2]=a[2];if(l[n]=h,h[2]=t(e,i,o))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var s=0,r=i.length;s<r;s++)e(t,i[s],n);return n}function m(t,e,i,n,s){for(var r,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,s)||(o.push(r),c&&e.push(a)));return o}function v(t,e,i,s,r,o){return s&&!s[$]&&(s=v(s)),r&&!r[$]&&(r=v(r,o)),n(function(n,o,a,l){var c,h,u,d=[],p=[],f=o.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),b=!t||!n&&e?v:m(v,d,t,a,l),y=i?r||(n?t:f||s)?[]:o:b;if(i&&i(b,y,a,l),s)for(c=m(y,p),s(c,[],a,l),h=c.length;h--;)(u=c[h])&&(y[p[h]]=!(b[p[h]]=u));if(n){if(r||t){if(r){for(c=[],h=y.length;h--;)(u=y[h])&&c.push(b[h]=u);r(null,y=[],c,l)}for(h=y.length;h--;)(u=y[h])&&(c=r?tt(n,u):d[h])>-1&&(n[c]=!(o[c]=u))}}else y=m(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):Z.apply(o,y)})}function b(t){for(var e,i,n,s=t.length,r=_.relative[t[0].type],o=r||_.relative[" "],a=r?1:0,l=p(function(t){return t===e},o,!0),c=p(function(t){return tt(e,t)>-1},o,!0),h=[function(t,i,n){var s=!r&&(n||i!==O)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,s}];a<s;a++)if(i=_.relative[t[a].type])h=[p(f(h),i)];else{if(i=_.filter[t[a].type].apply(null,t[a].matches),i[$]){for(n=++a;n<s&&!_.relative[t[n].type];n++);return v(a>1&&f(h),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&b(t.slice(a,n)),n<s&&b(t=t.slice(n)),n<s&&d(t))}h.push(i)}return f(h)}function y(t,i){var s=i.length>0,r=t.length>0,o=function(n,o,a,l,c){var h,u,d,p=0,f="0",g=n&&[],v=[],b=O,y=n||r&&_.find.TAG("*",c),x=H+=null==b?1:Math.random()||.1,w=y.length;for(c&&(O=o===A||o||c);f!==w&&null!=(h=y[f]);f++){if(r&&h){for(u=0,o||h.ownerDocument===A||(D(h),a=!N);d=t[u++];)if(d(h,o||A,a)){l.push(h);break}c&&(H=x)}s&&((h=!d&&h)&&p--,n&&g.push(h))}if(p+=f,s&&f!==p){for(u=0;d=i[u++];)d(g,v,o,a);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}Z.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(H=x,O=b),g};return s?n(o):o}var x,w,_,k,C,T,S,E,O,P,M,D,A,I,N,j,L,F,R,$="sizzle"+1*new Date,z=t.document,H=0,B=0,W=i(),q=i(),U=i(),Y=function(t,e){return t===e&&(M=!0),0},V=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,Q=G.push,Z=G.push,J=G.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ut=new RegExp(rt),dt=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=function(){D()};try{Z.apply(G=J.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(t){Z={apply:G.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:z;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,I=A.documentElement,N=!C(A),(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_t,!1):i.attachEvent&&i.attachEvent("onunload",_t)),w.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=s(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(A.getElementsByClassName),w.getById=s(function(t){return I.appendChild(t).id=$,!A.getElementsByName||!A.getElementsByName($).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}},_.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},_.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},L=[],j=[],(w.qsa=mt.test(A.querySelectorAll))&&(s(function(t){I.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||j.push(".#.+[+~]")}),s(function(t){var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=mt.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(t){w.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),L.push("!=",rt)}),j=j.length&&new RegExp(j.join("|")),L=L.length&&new RegExp(L.join("|")),e=mt.test(I.compareDocumentPosition),R=e||mt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===A||t.ownerDocument===z&&R(z,t)?-1:e===A||e.ownerDocument===z&&R(z,e)?1:P?tt(P,t)-tt(P,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,a=[t],l=[e];if(!s||!r)return t===A?-1:e===A?1:s?-1:r?1:P?tt(P,t)-tt(P,e):0;if(s===r)return o(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?o(a[n],l[n]):a[n]===z?-1:l[n]===z?1:0},A):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&D(t),i=i.replace(ht,"='$1']"),w.matchesSelector&&N&&!U[i+" "]&&(!L||!L.test(i))&&(!j||!j.test(i)))try{var n=F.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&D(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&D(t);var i=_.attrHandle[e.toLowerCase()],n=i&&X.call(_.attrHandle,e.toLowerCase())?i(t,e,!N):undefined;return n!==undefined?n:w.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(M=!w.detectDuplicates,P=!w.sortStable&&t.slice(0),t.sort(Y),M){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return P=null,t},k=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},_=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var r=e.attr(s,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f,g=r!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(d=m,u=d[$]||(d[$]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[t]||[],p=c[0]===H&&c[1],y=p&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===e){h[t]=[H,p,y];break}}else if(b&&(d=e,u=d[$]||(d[$]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),c=h[t]||[],p=c[0]===H&&c[1],y=p),!1===y)for(;(d=++p&&d&&d[g]||(y=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&(u=d[$]||(d[$]={}),h=u[d.uniqueID]||(u[d.uniqueID]={}),h[t]=[H,y]),d!==e)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var s,r=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[$]?r(i):r.length>1?(s=[t,t,"",i],_.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=r(t,i),o=s.length;o--;)n=tt(t,s[o]),t[n]=!(e[n]=s[o])}):function(t){return r(t,0,s)}):r}},pseudos:{not:n(function(t){var e=[],i=[],s=S(t.replace(at,"$1"));return s[$]?n(function(t,e,i,n){for(var r,o=s(t,null,n,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,s(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xt,wt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,wt).toLowerCase(),function(e){var i;do{if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,T=e.tokenize=function(t,i){var n,s,r,o,a,l,c,h=q[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],c=_.preFilter;a;){n&&!(s=lt.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),n=!1,(s=ct.exec(a))&&(n=s.shift(),r.push({value:n,type:s[0].replace(at," ")}),a=a.slice(n.length));for(o in _.filter)!(s=pt[o].exec(a))||c[o]&&!(s=c[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):q(t,l).slice(0)},S=e.compile=function(t,e){var i,n=[],s=[],r=U[t+" "];if(!r){for(e||(e=T(t)),i=e.length;i--;)r=b(e[i]),r[$]?n.push(r):s.push(r);r=U(t,y(s,n)),r.selector=t}return r},E=e.select=function(t,e,i,n){var s,r,o,a,l,c="function"==typeof t&&t,u=!n&&T(t=c.selector||t);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&w.getById&&9===e.nodeType&&N&&_.relative[r[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(xt,wt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(s=pt.needsContext.test(t)?0:r.length;s--&&(o=r[s],!_.relative[a=o.type]);)if((l=_.find[a])&&(n=l(o.matches[0].replace(xt,wt),bt.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(s,1),!(t=n.length&&d(r)))return Z.apply(i,n),i;break}}return(c||S(t,u))(n,e,!N,i,!e||bt.test(t)&&h(e.parentNode)||e),i},w.sortStable=$.split("").sort(Y).join("")===$,w.detectDuplicates=!!M,D(),w.sortDetached=s(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);pt.find=bt,pt.expr=bt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=bt.uniqueSort,pt.text=bt.getText,pt.isXMLDoc=bt.isXML,pt.contains=bt.contains;var yt=function(t,e,i){for(var n=[],s=i!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&pt(t).is(i))break;n.push(t)}return n},xt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},wt=pt.expr.match.needsContext,_t=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?pt.find.matchesSelector(n,t)?[n]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<s;e++)if(pt.contains(n[e],this))return!0}));for(e=0;e<s;e++)pt.find(t,n[e],i);return i=this.pushStack(s>1?pt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&wt.test(t)?pt(t):t||[],!1).length}});var Ct,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pt.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||Ct,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),_t.test(n[1])&&pt.isPlainObject(e))for(n in e)pt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((s=nt.getElementById(n[2]))&&s.parentNode){if(s.id!==n[2])return Ct.find(t);this.length=1,this[0]=s}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof i.ready?i.ready(t):t(pt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))}).prototype=pt.fn,Ct=pt(nt);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,i=pt(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(pt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,r=[],o=wt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?pt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){return yt(t,"previousSibling",i)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(i,n){var s=pt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=pt.filter(n,s)),this.length>1&&(Et[t]||(s=pt.uniqueSort(s)),St.test(t)&&(s=s.reverse())),this.pushStack(s)}});var Ot=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?r(t):pt.extend({},t);var e,i,n,s,o=[],a=[],l=-1,c=function(){for(s=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=o.length,i=!1);t.memory||(i=!1),e=!1,s&&(o=i?[]:"")},h={add:function(){return o&&(i&&!e&&(l=o.length-1,a.push(i)),function e(i){pt.each(i,function(i,n){pt.isFunction(n)?t.unique&&h.has(n)||o.push(n):n&&n.length&&"string"!==pt.type(n)&&e(n)})}(arguments),i&&!e&&c()),this},remove:function(){return pt.each(arguments,function(t,e){for(var i;(i=pt.inArray(e,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return s=!0,i||h.disable(),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(i){pt.each(e,function(e,r){var o=pt.isFunction(t[e])&&t[e];s[r[1]](function(){var t=o&&o.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,n):n}},s={};return n.pipe=n.then,pt.each(e,function(t,r){var o=r[2],a=r[3];n[r[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=o.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,r=st.call(arguments),o=r.length,a=1!==o||t&&pt.isFunction(t.promise)?o:0,l=1===a?t:pt.Deferred(),c=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?st.call(arguments):s,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);s<o;s++)r[s]&&pt.isFunction(r[s].promise)?r[s].promise().progress(c(s,i,e)).done(c(s,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}});var Pt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||(Pt.resolveWith(nt,[pt]),pt.fn.triggerHandler&&(pt(nt).triggerHandler("ready"),pt(nt).off("ready"))))}}),pt.ready.promise=function(e){if(!Pt)if(Pt=pt.Deferred(),"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll)t.setTimeout(pt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!pt.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}o(),pt.ready()}}()}return Pt.promise(e)},pt.ready.promise();var Mt;for(Mt in pt(ut))break;ut.ownFirst="0"===Mt,ut.inlineBlockNeedsLayout=!1,pt(function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ut.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ut.deleteExpando=!0;try{delete t.test}catch(t){ut.deleteExpando=!1}t=null}();var Dt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando])&&!c(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return u(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return u(t,e,!0)}}),pt.fn.extend({data:function(t,e){var i,n,s,r=this[0],o=r&&r.attributes;if(t===undefined){if(this.length&&(s=pt.data(r),1===r.nodeType&&!pt._data(r,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=pt.camelCase(n.slice(5)),l(r,n,s[n])));pt._data(r,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):r?l(r,t,pt.data(r,t)):undefined},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=pt._data(t,e),i&&(!n||pt.isArray(i)?n=pt._data(t,e,pt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=pt.queue(t,e),n=i.length,s=i.shift(),r=pt._queueHooks(t,e),o=function(){pt.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,o,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return pt._data(t,i)||pt._data(t,i,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,i)})})}}),pt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?pt.queue(this[0],t):e===undefined?this:this.each(function(){
var i=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=pt.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";o--;)(i=pt._data(r[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}}),function(){var t;ut.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return(i=nt.getElementsByTagName("body")[0])&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Lt=["Top","Right","Bottom","Left"],Ft=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Rt=function(t,e,i,n,s,r,o){var a=0,l=t.length,c=null==i;if("object"===pt.type(i)){s=!0;for(a in i)Rt(t,e,a,i[a],!0,r,o)}else if(n!==undefined&&(s=!0,pt.isFunction(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(pt(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return s?t:c?e.call(t):l?e(t[0],i):r},$t=/^(?:checkbox|radio)$/i,zt=/<([\w:-]+)/,Ht=/^$|\/(?:java|ecma)script/i,Bt=/^\s+/,Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ut.leadingWhitespace=3===t.firstChild.nodeType,ut.tbody=!t.getElementsByTagName("tbody").length,ut.htmlSerialize=!!t.getElementsByTagName("link").length,ut.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ut.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ut.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ut.attributes=!t.getAttribute(pt.expando)}();var qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var Ut=/<|&#?\w+;/,Yt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ut[e]=i in t)||(n.setAttribute(i,"t"),ut[e]=!1===n.attributes[i].expando);n=null}();var Vt=/^(?:input|select|textarea)$/i,Xt=/^key/,Gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,Qt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,i,n,s){var r,o,a,l,c,h,u,d,p,f,g,m=pt._data(t);if(m){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=pt.guid++),(o=m.events)||(o=m.events={}),(h=m.handle)||(h=m.handle=function(t){return void 0===pt||t&&pt.event.triggered===t.type?undefined:pt.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(Ot)||[""],a=e.length;a--;)r=Qt.exec(e[a])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(c=pt.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=pt.event.special[p]||{},u=pt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&pt.expr.match.needsContext.test(s),namespace:f.join(".")},l),(d=o[p])||(d=o[p]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(t,n,f,h)||(t.addEventListener?t.addEventListener(p,h,!1):t.attachEvent&&t.attachEvent("on"+p,h))),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,u):d.push(u),pt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,s){var r,o,a,l,c,h,u,d,p,f,g,m=pt.hasData(t)&&pt._data(t);if(m&&(h=m.events)){for(e=(e||"").match(Ot)||[""],c=e.length;c--;)if(a=Qt.exec(e[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(u=pt.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)o=d[r],!s&&g!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(d.splice(r,1),o.selector&&d.delegateCount--,u.remove&&u.remove.call(t,o));l&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||pt.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)pt.event.remove(t,p+e[c],i,n,!0);pt.isEmptyObject(h)&&(delete m.handle,pt._removeData(t,"events"))}},trigger:function(e,i,n,s){var r,o,a,l,c,h,u,d=[n||nt],p=ht.call(e,"type")?e.type:e,f=ht.call(e,"namespace")?e.namespace.split("."):[];if(a=h=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Kt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),i=null==i?[e]:pt.makeArray(i,[e]),c=pt.event.special[p]||{},s||!c.trigger||!1!==c.trigger.apply(n,i))){if(!s&&!c.noBubble&&!pt.isWindow(n)){for(l=c.delegateType||p,Kt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),h=a;h===(n.ownerDocument||nt)&&d.push(h.defaultView||h.parentWindow||t)}for(u=0;(a=d[u++])&&!e.isPropagationStopped();)e.type=u>1?l:c.bindType||p,r=(pt._data(a,"events")||{})[e.type]&&pt._data(a,"handle"),r&&r.apply(a,i),(r=o&&a[o])&&r.apply&&Dt(a)&&(e.result=r.apply(a,i),!1===e.result&&e.preventDefault());if(e.type=p,!s&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),i))&&Dt(n)&&o&&n[p]&&!pt.isWindow(n)){h=n[o],h&&(n[o]=null),pt.event.triggered=p;try{n[p]()}catch(t){}pt.event.triggered=undefined,h&&(n[o]=h)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,i,n,s,r,o=[],a=st.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],c=pt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(o=pt.event.handlers.call(this,t,l),e=0;(s=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(n=((pt.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))!==undefined&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,r,o=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)r=e[i],s=r.selector+" ",n[s]===undefined&&(n[s]=r.needsContext?pt(s,this).index(l)>-1:pt.find(s,this,null,[l]).length),n[s]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},fix:function(t){if(t[pt.expando])return t;var e,i,n,s=t.type,r=t,o=this.fixHooks[s];for(o||(this.fixHooks[s]=o=Gt.test(s)?this.mouseHooks:Xt.test(s)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new pt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,o.filter?o.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,r=e.button,o=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?e.toElement:o),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=pt.extend(new pt.Event,i,{type:t,isSimulated:!0});pt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},pt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?b:y):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return s&&(s===n||pt.contains(n,s))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ut.submit||(pt.event.special.submit={setup:function(){if(pt.nodeName(this,"form"))return!1;pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):undefined;i&&!pt._data(i,"submit")&&(pt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),pt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(pt.nodeName(this,"form"))return!1;pt.event.remove(this,"._submit")}}),ut.change||(pt.event.special.change={setup:function(){if(Vt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1;pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Vt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Vt.test(this.nodeName)}}),ut.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=pt._data(n,e);s||n.addEventListener(t,i,!0),pt._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=pt._data(n,e)-1;s?pt._data(n,e,s):(n.removeEventListener(t,i,!0),pt._removeData(n,e))}}}),pt.fn.extend({on:function(t,e,i,n){return w(this,t,e,i,n)},one:function(t,e,i,n){return w(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,pt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=undefined),!1===i&&(i=y),this.each(function(){pt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return pt.event.trigger(t,e,i,!0)}});var Zt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=p(nt),oe=re.appendChild(nt.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,i){var n,s,r,o,a,l=pt.contains(t.ownerDocument,t);if(ut.html5Clone||pt.isXMLDoc(t)||!Jt.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(oe.innerHTML=t.outerHTML,oe.removeChild(r=oe.firstChild)),!(ut.noCloneEvent&&ut.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(n=f(r),a=f(t),o=0;null!=(s=a[o]);++o)n[o]&&S(s,n[o]);if(e)if(i)for(a=a||f(t),n=n||f(r),o=0;null!=(s=a[o]);o++)T(s,n[o]);else T(t,r);return n=f(r,"script"),n.length>0&&g(n,!l&&f(t,"script")),n=a=s=null,r},cleanData:function(t,e){for(var i,n,s,r,o=0,a=pt.expando,l=pt.cache,c=ut.attributes,h=pt.event.special;null!=(i=t[o]);o++)if((e||Dt(i))&&(s=i[a],r=s&&l[s])){if(r.events)for(n in r.events)h[n]?pt.event.remove(i,n):pt.removeEvent(i,n,r.handle);l[s]&&(delete l[s],c||"undefined"==typeof i.removeAttribute?i[a]=undefined:i.removeAttribute(a),it.push(s))}}}),pt.fn.extend({domManip:E,detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Rt(this,function(t){return t===undefined?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){_(this,t).appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(Zt,""):undefined;if("string"==typeof t&&!ee.test(t)&&(ut.htmlSerialize||!Jt.test(t))&&(ut.leadingWhitespace||!Bt.test(t))&&!qt[(zt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var i=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var i,n=0,s=[],r=pt(t),o=r.length-1;n<=o;n++)i=n===o?this:this.clone(!0),pt(r[n])[e](i),ot.apply(s,i.get());return this.pushStack(s)}});var ae,le={HTML:"block",BODY:"block"},ce=/^margin/,he=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),ue=function(t,e,i,n){var s,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];s=i.apply(t,n||[]);for(r in e)t.style[r]=o[r];return s},de=nt.documentElement;!function(){function e(){var e,h,u=nt.documentElement;u.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=s=a=!1,n=o=!0,t.getComputedStyle&&(h=t.getComputedStyle(c),i="1%"!==(h||{}).top,a="2px"===(h||{}).marginLeft,s="4px"===(h||{width:"4px"}).width,c.style.marginRight="50%",n="4px"===(h||{marginRight:"4px"}).marginRight,e=c.appendChild(nt.createElement("div")),e.style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",o=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",r=0===c.getClientRects().length,r&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",e=c.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",r=0===e[0].offsetHeight)),u.removeChild(l)}var i,n,s,r,o,a,l=nt.createElement("div"),c=nt.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ut.opacity="0.5"===c.style.opacity,ut.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===c.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ut.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pt.extend(ut,{reliableHiddenOffsets:function(){return null==i&&e(),r},boxSizingReliable:function(){return null==i&&e(),s},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),o},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var pe,fe,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(pe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},fe=function(t,e,i){var n,s,r,o,a=t.style;return i=i||pe(t),o=i?i.getPropertyValue(e)||i[e]:undefined,""!==o&&o!==undefined||pt.contains(t.ownerDocument,t)||(o=pt.style(t,e)),i&&!ut.pixelMarginRight()&&he.test(o)&&ce.test(e)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r),o===undefined?o:o+""}):de.currentStyle&&(pe=function(t){return t.currentStyle},fe=function(t,e,i){var n,s,r,o,a=t.style;return i=i||pe(t),o=i?i[e]:undefined,null==o&&a&&a[e]&&(o=a[e]),he.test(o)&&!ge.test(e)&&(n=a.left,s=t.runtimeStyle,r=s&&s.left,r&&(s.left=t.currentStyle.left),a.left="fontSize"===e?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(s.left=r)),o===undefined?o:o+""||"auto"});var me=/alpha\([^)]*\)/i,ve=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,ye=new RegExp("^("+Nt+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"},_e=["Webkit","O","Moz","ms"],ke=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=fe(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,o,a=pt.camelCase(e),l=t.style;if(e=pt.cssProps[a]||(pt.cssProps[a]=A(a)||a),o=pt.cssHooks[e]||pt.cssHooks[a],i===undefined)return o&&"get"in o&&(s=o.get(t,!1,n))!==undefined?s:l[e];if(r=typeof i,"string"===r&&(s=jt.exec(i))&&s[1]&&(i=d(t,e,s),r="number"),null!=i&&i===i&&("number"===r&&(i+=s&&s[3]||(pt.cssNumber[a]?"":"px")),ut.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(o&&"set"in o&&(i=o.set(t,i,n))===undefined)))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var s,r,o,a=pt.camelCase(e);return e=pt.cssProps[a]||(pt.cssProps[a]=A(a)||a),o=pt.cssHooks[e]||pt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),r===undefined&&(r=fe(t,e,n)),"normal"===r&&e in we&&(r=we[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,i,n){if(i)return be.test(pt.css(t,"display"))&&0===t.offsetWidth?ue(t,xe,function(){return L(t,e,n)}):L(t,e,n)},set:function(t,i,n){var s=n&&pe(t);return N(t,i,n?j(t,e,n,ut.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,s),s):0)}}}),ut.opacity||(pt.cssHooks.opacity={get:function(t,e){return ve.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===pt.trim(r.replace(me,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=me.test(r)?r.replace(me,s):r+" "+s)}}),pt.cssHooks.marginRight=D(ut.reliableMarginRight,function(t,e){if(e)return ue(t,{display:"inline-block"},fe,[t,"marginRight"])}),pt.cssHooks.marginLeft=D(ut.reliableMarginLeft,function(t,e){if(e)return(parseFloat(fe(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ue(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[t+Lt[n]+e]=r[n]||r[n-2]||r[0];return s}},ce.test(t)||(pt.cssHooks[t+e].set=N)}),pt.fn.extend({css:function(t,e){return Rt(this,function(t,e,i){var n,s,r={},o=0;if(pt.isArray(e)){for(n=pe(t),s=e.length;o<s;o++)r[e[o]]=pt.css(t,e[o],!1,n);return r}return i!==undefined?pt.style(t,e,i):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ft(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=F,F.prototype={constructor:F,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pt.cssNumber[i]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,i=F.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=F.prototype.init,pt.fx.step={};var Ce,Te,Se=/^(?:toggle|show|hide)$/,Ee=/queueHooks$/;pt.Animation=pt.extend(W,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ot);for(var i,n=0,s=t.length;n<s;n++)i=t[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(e)},prefilters:[H],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),pt.speed=function(t,e,i){var n=t&&"object"==typeof t?pt.extend({},t):{complete:i||!i&&e||pt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!pt.isFunction(e)&&e};return n.duration=pt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in pt.fx.speeds?pt.fx.speeds[n.duration]:pt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pt.isFunction(n.old)&&n.old.call(this),n.queue&&pt.dequeue(this,n.queue)},n},pt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=pt.isEmptyObject(t),r=pt.speed(e,i,n),o=function(){var e=W(this,pt.extend({},t),r);(s||pt._data(this,"finish"))&&e.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",r=pt.timers,o=pt._data(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&Ee.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));!e&&i||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=pt._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=pt.timers,o=n?n.length:0;for(i.finish=!0,pt.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var i=pt.fn[e];pt.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate($(e,!0),t,n,s)}}),pt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,i=0;for(Ce=pt.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||pt.fx.stop(),Ce=undefined},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Te||(Te=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Te),Te=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,i){return e=pt.fx?pt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),s=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ut.getSetAttribute="t"!==i.className,ut.style=/top/.test(t.getAttribute("style")),ut.hrefNormalized="/a"===t.getAttribute("href"),ut.checkOn=!!e.value,ut.optSelected=s.selected,ut.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ut.optDisabled=!s.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ut.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ut.radioValue="t"===e.value}();var Oe=/\r/g,Pe=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,i,n,s=this[0];{if(arguments.length)return n=pt.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,pt(this).val()):t,null==s?s="":"number"==typeof s?s+="":pt.isArray(s)&&(s=pt.map(s,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,s,"value")!==undefined||(this.value=s))});if(s)return(e=pt.valHooks[s.type]||pt.valHooks[s.nodeName.toLowerCase()])&&"get"in e&&(i=e.get(s,"value"))!==undefined?i:(i=s.value,"string"==typeof i?i.replace(Oe,""):null==i?"":i)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,r="select-one"===t.type||s<0,o=r?null:[],a=r?s+1:n.length,l=s<0?a:r?s:0;l<a;l++)if(i=n[l],(i.selected||l===s)&&(ut.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!pt.nodeName(i.parentNode,"optgroup"))){if(e=pt(i).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,r=pt.makeArray(e),o=s.length;o--;)if(n=s[o],pt.inArray(pt.valHooks.option.get(n),r)>-1)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ut.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Me,De,Ae=pt.expr.attrHandle,Ie=/^(?:checked|selected)$/i,Ne=ut.getSetAttribute,je=ut.input;pt.fn.extend({attr:function(t,e){return Rt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?pt.prop(t,e,i):(1===r&&pt.isXMLDoc(t)||(e=e.toLowerCase(),s=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?De:Me)),i!==undefined?null===i?void pt.removeAttr(t,e):s&&"set"in s&&(n=s.set(t,i,e))!==undefined?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:(n=pt.find.attr(t,e),null==n?undefined:n))},attrHooks:{type:{set:function(t,e){if(!ut.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,r=e&&e.match(Ot);if(r&&1===t.nodeType)for(;i=r[s++];)n=pt.propFix[i]||i,pt.expr.match.bool.test(i)?je&&Ne||!Ie.test(i)?t[n]=!1:t[pt.camelCase("default-"+i)]=t[n]=!1:pt.attr(t,i,""),t.removeAttribute(Ne?i:n)}}),De={set:function(t,e,i){return!1===e?pt.removeAttr(t,i):je&&Ne||!Ie.test(i)?t.setAttribute(!Ne&&pt.propFix[i]||i,i):t[pt.camelCase("default-"+i)]=t[i]=!0,i}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ae[e]||pt.find.attr;je&&Ne||!Ie.test(e)?Ae[e]=function(t,e,n){var s,r;return n||(r=Ae[e],Ae[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,Ae[e]=r),s}:Ae[e]=function(t,e,i){if(!i)return t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),je&&Ne||(pt.attrHooks.value={set:function(t,e,i){if(!pt.nodeName(t,"input"))return Me&&Me.set(t,e,i);t.defaultValue=e}}),Ne||(Me={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Ae.id=Ae.name=Ae.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},pt.valHooks.button={get:function(t,e){
var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:Me.set},pt.attrHooks.contenteditable={set:function(t,e,i){Me.set(t,""!==e&&e,i)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),ut.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Le=/^(?:input|select|textarea|button|object)$/i,Fe=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Rt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(t){}})}}),pt.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,s=pt.propHooks[e]),i!==undefined?s&&"set"in s&&(n=s.set(t,i,e))!==undefined?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Le.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ut.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ut.enctype||(pt.propFix.enctype="encoding");var Re=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,i,n,s,r,o,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(Ot)||[];i=this[l++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(Re," ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=pt.trim(n),s!==a&&pt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,s,r,o,a,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ot)||[];i=this[l++];)if(s=q(i),n=1===i.nodeType&&(" "+s+" ").replace(Re," ")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=pt.trim(n),s!==a&&pt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(i){pt(this).toggleClass(t.call(this,i,q(this),e),e)}):this.each(function(){var e,n,s,r;if("string"===i)for(n=0,s=pt(this),r=t.match(Ot)||[];e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else t!==undefined&&"boolean"!==i||(e=q(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||!1===t?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(i)+" ").replace(Re," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var $e=t.location,ze=pt.now(),He=/\?/,Be=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,s=pt.trim(e+"");return s&&!pt.trim(s.replace(Be,function(t,e,s,r){return i&&e&&(n=0),0===n?t:(i=s||e,n+=!r-!s,"")}))?Function("return "+s)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=undefined}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),i};var We=/#.*$/,qe=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ke={},Qe={},Ze="*/".concat("*"),Je=$e.href,ti=Ge.exec(Je.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Je,type:"GET",isLocal:Ye.test(ti[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,pt.ajaxSettings),e):V(pt.ajaxSettings,t)},ajaxPrefilter:U(Ke),ajaxTransport:U(Qe),ajax:function(e,i){function n(e,i,n,s){var r,u,b,y,w,k=i;2!==x&&(x=2,l&&t.clearTimeout(l),h=undefined,a=s||"",_.readyState=e>0?4:0,r=e>=200&&e<300||304===e,n&&(y=X(d,_,n)),y=G(d,y,_,r),r?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(pt.lastModified[o]=w),(w=_.getResponseHeader("etag"))&&(pt.etag[o]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,b=y.error,r=!b)):(b=k,!e&&k||(k="error",e<0&&(e=0))),_.status=e,_.statusText=(i||k)+"",r?g.resolveWith(p,[u,k,_]):g.rejectWith(p,[_,k,b]),_.statusCode(v),v=undefined,c&&f.trigger(r?"ajaxSuccess":"ajaxError",[_,d,r?u:b]),m.fireWith(p,[_,k]),c&&(f.trigger("ajaxComplete",[_,d]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=undefined),i=i||{};var s,r,o,a,l,c,h,u,d=pt.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?pt(p):pt.event,g=pt.Deferred(),m=pt.Callbacks("once memory"),v=d.statusCode||{},b={},y={},x=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!u)for(u={};e=Ue.exec(a);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=y[i]=y[i]||t,b[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return h&&h.abort(e),n(0,e),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||Je)+"").replace(We,"").replace(Xe,ti[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=pt.trim(d.dataType||"*").toLowerCase().match(Ot)||[""],null==d.crossDomain&&(s=Ge.exec(d.url.toLowerCase()),d.crossDomain=!(!s||s[1]===ti[1]&&s[2]===ti[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ti[3]||("http:"===ti[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=pt.param(d.data,d.traditional)),Y(Ke,d,i,_),2===x)return _;c=pt.event&&d.global,c&&0==pt.active++&&pt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ve.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(He.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=qe.test(o)?o.replace(qe,"$1_="+ze++):o+(He.test(o)?"&":"?")+"_="+ze++)),d.ifModified&&(pt.lastModified[o]&&_.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&_.setRequestHeader("If-None-Match",pt.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ze+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)_.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(p,_,d)||2===x))return _.abort();w="abort";for(r in{success:1,error:1,complete:1})_[r](d[r]);if(h=Y(Qe,d,i,_)){if(_.readyState=1,c&&f.trigger("ajaxSend",[_,d]),2===x)return _;d.async&&d.timeout>0&&(l=t.setTimeout(function(){_.abort("timeout")},d.timeout));try{x=1,h.send(b,n)}catch(t){if(!(x<2))throw t;n(-1,t)}}else n(-1,"No Transport");return _},getJSON:function(t,e,i){return pt.get(t,e,i,"json")},getScript:function(t,e){return pt.get(t,undefined,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,i,n,s){return pt.isFunction(i)&&(s=s||n,n=i,i=undefined),pt.ajax(pt.extend({url:t,type:e,dataType:s,data:i,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(i){pt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ut.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var ei=/%20/g,ii=/\[\]$/,ni=/\r?\n/g,si=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var i,n=[],s=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){s(this.name,this.value)});else for(i in t)Z(i,t[i],e,s);return n.join("&").replace(ei,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&ri.test(this.nodeName)&&!si.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var i=pt(this).val();return null==i?null:pt.isArray(i)?pt.map(i,function(t){return{name:e.name,value:t.replace(ni,"\r\n")}}):{name:e.name,value:i.replace(ni,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():nt.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var oi=0,ai={},li=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in ai)ai[t](undefined,!0)}),ut.cors=!!li&&"withCredentials"in li,li=ut.ajax=!!li,li&&pt.ajaxTransport(function(e){if(!e.crossDomain||ut.cors){var i;return{send:function(n,s){var r,o=e.xhr(),a=++oi;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)n[r]!==undefined&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),i=function(t,n){var r,l,c;if(i&&(n||4===o.readyState))if(delete ai[a],i=undefined,o.onreadystatechange=pt.noop,n)4!==o.readyState&&o.abort();else{c={},r=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(t){l=""}r||!e.isLocal||e.crossDomain?1223===r&&(r=204):r=c.text?200:404}c&&s(r,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?t.setTimeout(i):o.onreadystatechange=ai[a]=i:i()},abort:function(){i&&i(undefined,!0)}}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||pt("head")[0]||nt.documentElement;return{send:function(n,s){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var ci=[],hi=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ci.pop()||pt.expando+"_"+ze++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,i,n){var s,r,o,a=!1!==e.jsonp&&(hi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return s=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(hi,"$1"+s):!1!==e.jsonp&&(e.url+=(He.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return o||pt.error(s+" was not called"),o[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){o=arguments},n.always(function(){r===undefined?pt(t).removeProp(s):t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,ci.push(s)),o&&pt.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),pt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||nt;var n=_t.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,s),s&&s.length&&pt(s).remove(),pt.merge([],n.childNodes))};var ui=pt.fn.load;pt.fn.load=function(t,e,i){if("string"!=typeof t&&ui)return ui.apply(this,arguments);var n,s,r,o=this,a=t.indexOf(" ");return a>-1&&(n=pt.trim(t.slice(a,t.length)),t=t.slice(0,a)),pt.isFunction(e)?(i=e,e=undefined):e&&"object"==typeof e&&(s="POST"),o.length>0&&pt.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(n?pt("<div>").append(pt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,i){var n,s,r,o,a,l,c,h=pt.css(t,"position"),u=pt(t),d={};"static"===h&&(t.style.position="relative"),a=u.offset(),r=pt.css(t,"top"),l=pt.css(t,"left"),c=("absolute"===h||"fixed"===h)&&pt.inArray("auto",[r,l])>-1,c?(n=u.position(),o=n.top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,i,pt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+s),"using"in e?e.using.call(t,d):u.css(d)}},pt.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return e=r.documentElement,pt.contains(e,s)?("undefined"!=typeof s.getBoundingClientRect&&(n=s.getBoundingClientRect()),i=et(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i.top+=pt.css(t[0],"borderTopWidth",!0),i.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||de})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);pt.fn[t]=function(n){return Rt(this,function(t,n,s){var r=et(t);if(s===undefined)return r?e in r?r[e]:r.document.documentElement[n]:t[n];r?r.scrollTo(i?pt(r).scrollLeft():s,i?s:pt(r).scrollTop()):t[n]=s},t,n,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ut.pixelPosition,function(t,i){if(i)return i=fe(t,e),he.test(i)?pt(t).position()[e]+"px":i})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){pt.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===s?"margin":"border");return Rt(this,function(e,i,n){var s;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):n===undefined?pt.css(e,i,o):pt.style(e,i,n,o)},e,r?n:undefined,r,null)}})}),pt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var di=t.jQuery,pi=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=pi),e&&t.jQuery===pt&&(t.jQuery=di),pt},e||(t.jQuery=t.$=pt),pt}),function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.1.0",isReady:!1,use:function(t,i){return e.off(".turbo").on(t+".turbo",this.onLoad).on(i+".turbo",this.onFetch)},addCallback:function(i){return t.turbo.isReady&&i(t),e.on("turbo:ready",function(){return i(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),!1!==s.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(n){var s,r,o,a,l,c;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.data("ujs:submit-button-formmethod")||n.attr("method"),r=n.data("ujs:submit-button-formaction")||n.attr("action"),o=t(n[0]).serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),o=n.data("params")||null);return c={type:s||"GET",data:o,dataType:l,beforeSend:function(t,s){if(s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),!i.fire(n,"ajax:beforeSend",[t,s]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(r)},a&&(c.xhrFields={withCredentials:a}),r&&(c.url=r),i.ajax(c)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(t){return!0}},handleMethod:function(n){var s=i.href(n),r=n.data("method"),o=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),c=t('<form method="post" action="'+s+'"></form>'),h='<input name="_method" value="'+r+'" type="hidden" />';l===e||a===e||i.isCrossDomain(s)||(h+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&c.attr("target",o),c.hide().append(h).appendTo("body"),c.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),n!==e&&(t.data("ujs:enable-with",t[i]()),t[i](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var i=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[i](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),s=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{s=i.confirm(n)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=i.fire(t,"confirm:complete",[s])}return s&&e},blankInputs:function(e,i,n){var s,r,o,a,l=t(),c=i||"input,textarea",h=e.find(c),u={};return h.each(function(){s=t(this),s.is("input[type=radio]")?(a=s.attr("name"),u[a]||(0===e.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=e.find('input[type=radio][name="'+a+'"]'),l=l.add(o)),u[a]=a)):(r=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):!!s.val())===n&&(l=l.add(s))}),!!l.length&&l},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");n!==e&&(t.data("ujs:enable-with",t.html()),t.html(n)),t.bind("click.railsDisable",function(t){return i.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(t(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(t(this))}),n.on("click.rails",i.linkClickSelector,function(e){var n=t(this),s=n.data("method"),r=n.data("params"),o=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!o&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(o&&(!s||"GET"===s)&&!r)return!0;var a=i.handleRemote(n);return!1===a?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return s?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return!1===s?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.on("submit.rails",i.formSubmitSelector,function(n){var s,r,o=t(this),a=i.isRemote(o);if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")===e)if(o.data("ujs:formnovalidate-button")===e){if((s=i.blankInputs(o,i.requiredInputSelector,!1))&&i.fire(o,"ajax:aborted:required",[s]))return i.stopEverything(n)}else o.data("ujs:formnovalidate-button",e);if(a){if(r=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.on("click.rails",i.formInputClickSelector,function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null,o=n.closest("form");0===o.length&&(o=t("#"+n.attr("form"))),o.data("ujs:submit-button",r),o.data("ujs:formnovalidate-button",n.attr("formnovalidate")),o.data("ujs:submit-button-formaction",n.attr("formaction")),o.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(e){this===e.target&&i.disableFormElements(t(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}return t.ui.focusable=function(i,n){var s,r,o,a,l,c=i.nodeName.toLowerCase();return"area"===c?(s=i.parentNode,r=s.name,!(!i.href||!r||"map"!==s.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(a=!i.disabled)&&(l=t(i).closest("fieldset")[0])&&(a=!l.disabled):a="a"===c?i.href||n:n,a&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}()}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],t):t(jQuery)}(function(t){return t.fn.labels=function(){var e,i,n,s,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),r=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",s=s.add(r.find(i).addBack(i))),this.pushStack(s))}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return e===undefined?o["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,s)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.plugin={add:function(e,i,n){var s,r=t.ui[e].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)t.options[r[s][0]]&&r[s][1].apply(t.element,i)}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{tabbable:function(e){
var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e="ui-effects-",i="ui-effects-style",n="ui-effects-animated",s=t;return t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=c(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,s){var r,o=s.re.exec(e),a=o&&s.parse(o),l=s.space||"rgba";if(a)return r=i[l](a),i[h[l].cache]=r[h[l].cache],n=i._rgba=r._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function s(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var r,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(s,o,a,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(o),o=e);var u=this,d=t.type(s),p=this._rgba=[];return o!==e&&(s=[s,o,a,l],d="array"),"string"===d?this.parse(n(s)||r._default):"array"===d?(f(h.rgba.props,function(t,e){p[e.idx]=i(s[e.idx],e)}),this):"object"===d?(s instanceof c?f(h,function(t,e){s[e.cache]&&(u[e.cache]=s[e.cache].slice())}):f(h,function(e,n){var r=n.cache;f(n.props,function(t,e){if(!u[r]&&n.to){if("alpha"===t||null==s[t])return;u[r]=n.to(u._rgba)}u[r][e.idx]=i(s[t],e,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,n.from&&(u._rgba=n.from(u[r])))}),this):void 0},is:function(t){var e=c(t),i=!0,n=this;return f(h,function(t,s){var r,o=e[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(t,e){if(null!=o[e.idx])return i=o[e.idx]===r[e.idx]})),i}),i},_space:function(){var t=[],e=this;return f(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),s=n._space(),r=h[s],o=0===this.alpha()?c("transparent"):this,a=o[r.cache]||r.to(o._rgba),l=a.slice();return n=n[r.cache],f(r.props,function(t,s){var r=s.idx,o=a[r],c=n[r],h=u[s.type]||{};null!==c&&(null===o?l[r]=c:(h.mod&&(c-o>h.mod/2?o+=h.mod:o-c>h.mod/2&&(o-=h.mod)),l[r]=i((c-o)*e+o,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,r=t[2]/255,o=t[3],a=Math.max(n,s,r),l=Math.min(n,s,r),c=a-l,h=a+l,u=.5*h;return e=l===a?0:n===a?60*(s-r)/c+360:s===a?60*(r-n)/c+120:60*(n-s)/c+240,i=0===c?0:u<=.5?c/h:c/(2-h),[Math.round(e)%360,i,u,null==o?1:o]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*s(a,o,e+1/3)),Math.round(255*s(a,o,e)),Math.round(255*s(a,o,e-1/3)),r]},f(h,function(n,s){var r=s.props,o=s.cache,l=s.to,h=s.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===e)return this[o].slice();var s,a=t.type(n),u="array"===a||"object"===a?n:arguments,d=this[o].slice();return f(r,function(t,e){var n=u["object"===a?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),h?(s=c(h(d)),s[o]=d,s):c(d)},f(r,function(e,i){c.fn[e]||(c.fn[e]=function(s){var r,o=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),h=c[i.idx];return"undefined"===o?h:("function"===o&&(s=s.call(this,h),o=t.type(s)),null==s&&i.empty?this:("string"===o&&(r=a.exec(s))&&(s=h+parseFloat(r[2])*("+"===r[1]?1:-1)),c[i.idx]=s,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var r,o,a="";if("transparent"!==s&&("string"!==t.type(s)||(r=n(s)))){if(s=c(r||s),!d.rgba&&1!==s._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(t){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(s),function(){function e(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(r[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}function i(e,i){var n,s,o={};for(n in i)s=i[n],e[n]!==s&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(s))||(o[n]=s));return o}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(s.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(s,r,o,a){var l=t.speed(r,o,a);return this.queue(function(){var r,o=t(this),a=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){return{el:t(this),start:e(this)}}),r=function(){t.each(n,function(t,e){s[e]&&o[e+"Class"](s[e])})},r(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,r){return n?t.effects.animateClass.call(this,{add:i},n,s,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,s,r,o){return"boolean"==typeof n||n===undefined?s?t.effects.animateClass.call(this,n?{add:i}:{remove:i},s,r,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,s,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,r)}})}(),function(){function s(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function r(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function o(t,e){var i=e.outerWidth(),n=e.outerHeight(),s=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,r=s.exec(t)||["",0,i,n,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?i:parseFloat(r[2]),bottom:"auto"===r[3]?n:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(n)||e(i)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,i){for(var n=0,s=i.length;n<s;n++)null!==i[n]&&t.data(e+i[n],t[0].style[i[n]])},restore:function(t,i){for(var n,s=0,r=i.length;s<r;s++)null!==i[s]&&(n=t.data(e+i[s]),t.css(i[s],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,s="vertical"!==i?(e||100)/100:1;return{height:t.height()*s,width:t.width()*n,outerHeight:t.outerHeight()*s,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(i,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(i)||"",t.removeData(i)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(i){var n,s=i.css("position"),r=i.position();return i.css({marginTop:i.css("marginTop"),marginBottom:i.css("marginBottom"),marginLeft:i.css("marginLeft"),marginRight:i.css("marginRight")}).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",n=t("<"+i[0].nodeName+">").insertAfter(i).css({display:/^(inline|ruby)/.test(i.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:i.css("marginTop"),marginBottom:i.css("marginBottom"),marginLeft:i.css("marginLeft"),marginRight:i.css("marginRight"),"float":i.css("float")}).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).addClass("ui-effects-placeholder"),i.data(e+"placeholder",n)),i.css({position:s,left:r.left,top:r.top}),n},removePlaceholder:function(t){var i=e+"placeholder",n=t.data(i);n&&(n.remove(),t.removeData(i))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),t.fn.extend({effect:function(){function e(e){function s(){l.removeData(n),t.effects.cleanUp(l),"hide"===i.mode&&l.hide(),a()}function a(){t.isFunction(c)&&c.call(l[0]),t.isFunction(e)&&e()}var l=t(this);i.mode=u.shift(),!1===t.uiBackCompat||o?"none"===i.mode?(l[h](),a()):r.call(l[0],i,s):(l.is(":hidden")?"hide"===h:"show"===h)?(l[h](),a()):r.call(l[0],i,a)}var i=s.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,a=i.queue,l=a||"fx",c=i.complete,h=i.mode,u=[],d=function(e){var i=t(this),s=t.effects.mode(i,h)||o;i.data(n,!0),u.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!r?h?this[h](i.duration,c):this.each(function(){c&&c.call(this)}):!1===a?this.each(d).each(e):this.queue(l,d).queue(l,e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):o(this.css("clip"),this)},transfer:function(e,i){var n=t(this),s=t(e.to),r="fixed"===s.css("position"),o=t("body"),a=r?o.scrollTop():0,l=r?o.scrollLeft():0,c=s.offset(),h={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=o(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects}),function(t){"function"==typeof define&&define.amd?define(["jquery","./form","./version"],t):t(jQuery)}(function(t){return t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var s,r=Math.max,o=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(s!==undefined)return s;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),s=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:n||s?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(s){if(!s||!s.of)return d.apply(this,arguments);s=t.extend({},s);var u,p,f,g,m,v,b=t(s.of),y=t.position.getWithinInfo(s.within),x=t.position.getScrollInfo(y),w=(s.collision||"flip").split(" "),_={};return v=n(b),b[0].preventDefault&&(s.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(s[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),_[this]=[t?t[0]:0,e?e[0]:0],s[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===s.at[0]?m.left+=p:"center"===s.at[0]&&(m.left+=p/2),"bottom"===s.at[1]?m.top+=f:"center"===s.at[1]&&(m.top+=f/2),u=e(_.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var n,a,l=t(this),c=l.outerWidth(),h=l.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),k=c+d+i(this,"marginRight")+x.width,C=h+v+i(this,"marginBottom")+x.height,T=t.extend({},m),S=e(_.my,l.outerWidth(),l.outerHeight());"right"===s.my[0]?T.left-=c:"center"===s.my[0]&&(T.left-=c/2),"bottom"===s.my[1]?T.top-=h:"center"===s.my[1]&&(T.top-=h/2),T.left+=S[0],T.top+=S[1],n={marginLeft:d,marginTop:v},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](T,{targetWidth:p,targetHeight:f,elemWidth:c,elemHeight:h,collisionPosition:n,collisionWidth:k,collisionHeight:C,offset:[u[0]+S[0],u[1]+S[1]],my:s.my,at:s.at,within:y,elem:l})}),s.using&&(a=function(t){var e=g.left-T.left,i=e+p-c,n=g.top-T.top,a=n+f-h,u={target:{element:b,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:T.left,top:T.top,width:c,height:h},horizontal:i<0?"left":e>0?"right":"center",vertical:a<0?"top":n>0?"bottom":"middle"};p<c&&o(e+i)<p&&(u.horizontal="center"),f<h&&o(n+a)<f&&(u.vertical="middle"),r(o(e),o(i))>r(o(n),o(a))?u.important="horizontal":u.important="vertical",s.using.call(this,t,u)}),l.offset(t.extend(T,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=s-a,c=a+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&c<=0?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):t.left=c>0&&l<=0?s:l>c?s+o-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-a,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=s-a,c=a+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&c<=0?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):t.top=c>0&&l<=0?s:l>c?s+o-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,r=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,u=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];h<0?((i=t.left+d+p+f+e.collisionWidth-a-r)<0||i<o(h))&&(t.left+=d+p+f):u>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||o(n)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,n,s=e.within,r=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,u=c+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];h<0?((n=t.top+p+f+g+e.collisionHeight-a-r)<0||n<o(h))&&(t.top+=p+f+g):u>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-l)>0||o(i)<u)&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,r,o,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},s=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),o=new i,o.options=t.widget.extend({},o.options),t.each(n,function(e,n){if(!t.isFunction(n))return void(a[e]=n);a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()}),r.prototype=t.widget.extend(o,{widgetEventPrefix:s?o.widgetEventPrefix||e:e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,s,r=i.call(arguments,1),o=0,a=r.length;o<a;o++)for(n in r[o])s=r[o][n],r[o].hasOwnProperty(n)&&s!==undefined&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=i.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each(function(){var i,n=t.data(this,s);return"instance"===r?(l=n,!1):n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,a),i!==n&&i!==undefined?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=undefined:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(r||{}),e._init&&e._init()):t.data(this,s,new n(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,r,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(s=o[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(e=n.pop(),1===arguments.length)return s[e]===undefined?null:s[e];s[e]=i}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,s;for(i in e)s=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&s&&s.length&&(n=t(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,r){var o,a;for(a=0;a<i.length;a++)o=s.classesElementLookup[i[a]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),s.classesElementLookup[i[a]]=o,n.push(i[a]),r&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],s=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,s){-1!==t.inArray(e.target,s)&&(i.classesElementLookup[n]=t(s.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var s="string"==typeof t||null===t,r={extra:s?e:i,keys:s?t:e,element:s?this.element:t,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(e,i,n){var s,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,h=l[2];h?s.on(c,h,a):i.on(c,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){"string"==typeof s&&(s={effect:s});var o,a=s?!0===s||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}}),t.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=t(this),r=e.direction||"up",o=s.cssClip(),a={clip:t.extend({},o)},l=t.effects.createPlaceholder(s);a.clip[n[r][0]]=a.clip[n[r][1]],"show"===e.mode&&(s.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=o),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),s.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("bounce",function(e,i){
var n,s,r,o=t(this),a=e.mode,l="hide"===a,c="show"===a,h=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(c||l?1:0),f=e.duration/p,g=e.easing,m="up"===h||"down"===h?"top":"left",v="up"===h||"left"===h,b=0,y=o.queue().length;for(t.effects.createPlaceholder(o),r=o.css(m),u||(u=o["top"===m?"outerHeight":"outerWidth"]()/3),c&&(s={opacity:1},s[m]=r,o.css("opacity",0).css(m,v?2*-u:2*u).animate(s,f,g)),l&&(u/=Math.pow(2,d-1)),s={},s[m]=r;b<d;b++)n={},n[m]=(v?"-=":"+=")+u,o.animate(n,f,g).animate(s,f,g),u=l?2*u:u/2;l&&(n={opacity:0},n[m]=(v?"-=":"+=")+u,o.animate(n,f,g)),o.queue(i),t.effects.unshift(o,y,p+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("clip","hide",function(e,i){var n,s={},r=t(this),o=e.direction||"vertical",a="both"===o,l=a||"horizontal"===o,c=a||"vertical"===o;n=r.cssClip(),s.clip={top:c?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:c?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(s.clip),s.clip=n),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("drop","hide",function(e,i){var n,s=t(this),r=e.mode,o="show"===r,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",h="+="===c?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(s),n=e.distance||s["top"===l?"outerHeight":"outerWidth"](!0)/2,u[l]=c+n,o&&(s.css(u),u[l]=h+n,u.opacity=1),s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("explode","hide",function(e,i){function n(){y.push(this),y.length===u*d&&s()}function s(){p.css({visibility:"visible"}),t(y).remove(),i()}var r,o,a,l,c,h,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/u),y=[];for(r=0;r<u;r++)for(l=m.top+r*b,h=r-(u-1)/2,o=0;o<d;o++)a=m.left+o*v,c=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-r*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(g?c*v:0),top:l+(g?h*b:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:h*b),opacity:g?1:0},e.duration||500,e.easing,n)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("fade","toggle",function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("fold","hide",function(e,i){var n=t(this),s=e.mode,r="show"===s,o="hide"===s,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst,h=c?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(n),p=n.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[h[0]],p[h[1]]],v=n.queue().length;l&&(a=parseInt(l[1],10)/100*m[o?0:1]),f.clip[h[0]]=a,g.clip[h[0]]=a,g.clip[h[1]]=0,r&&(n.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),n.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(n,v,4)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("highlight","show",function(e,i){var n=t(this),s={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(s.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("size",function(e,i){var n,s,r,o=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.mode,u="effect"!==h,d=e.scale||"both",p=e.origin||["middle","center"],f=o.css("position"),g=o.position(),m=t.effects.scaledDimensions(o),v=e.from||m,b=e.to||t.effects.scaledDimensions(o,0);t.effects.createPlaceholder(o),"show"===h&&(r=v,v=b,b=r),s={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==d&&"both"!==d||(s.from.y!==s.to.y&&(v=t.effects.setTransition(o,l,s.from.y,v),b=t.effects.setTransition(o,l,s.to.y,b)),s.from.x!==s.to.x&&(v=t.effects.setTransition(o,c,s.from.x,v),b=t.effects.setTransition(o,c,s.to.x,b))),"content"!==d&&"both"!==d||s.from.y!==s.to.y&&(v=t.effects.setTransition(o,a,s.from.y,v),b=t.effects.setTransition(o,a,s.to.y,b)),p&&(n=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,b.top=(m.outerHeight-b.outerHeight)*n.y+g.top,b.left=(m.outerWidth-b.outerWidth)*n.x+g.left),o.css(v),"content"!==d&&"both"!==d||(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var i=t(this),n=t.effects.scaledDimensions(i),r={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},o={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x};s.from.y!==s.to.y&&(r=t.effects.setTransition(i,l,s.from.y,r),o=t.effects.setTransition(i,l,s.to.y,o)),s.from.x!==s.to.x&&(r=t.effects.setTransition(i,c,s.from.x,r),o=t.effects.setTransition(i,c,s.to.x,o)),u&&t.effects.saveStyle(i),i.css(r),i.animate(o,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),o.animate(b,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=o.offset();0===b.opacity&&o.css("opacity",v.opacity),u||(o.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(o)),i()}})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-size"],t):t(jQuery)}(function(t){return t.effects.define("scale",function(e,i){var n=t(this),s=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==s?0:100),o=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),t.effects.effect.size.call(this,o,i)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect","./effect-scale"],t):t(jQuery)}(function(t){return t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("pulsate","show",function(e,i){var n=t(this),s=e.mode,r="show"===s,o="hide"===s,a=r||o,l=2*(e.times||5)+(a?1:0),c=e.duration/l,h=0,u=1,d=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),h=1);u<l;u++)n.animate({opacity:h},c,e.easing),h=1-h;n.animate({opacity:h},c,e.easing),n.queue(i),t.effects.unshift(n,d,l+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("shake",function(e,i){var n=1,s=t(this),r=e.direction||"left",o=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),h="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,d={},p={},f={},g=s.queue().length;for(t.effects.createPlaceholder(s),d[h]=(u?"-=":"+=")+o,p[h]=(u?"+=":"-=")+2*o,f[h]=(u?"-=":"+=")+2*o,s.animate(d,c,e.easing);n<a;n++)s.animate(p,c,e.easing).animate(f,c,e.easing);s.animate(p,c,e.easing).animate(d,c/2,e.easing).queue(i),t.effects.unshift(s,g,l+1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){return t.effects.define("slide","show",function(e,i){var n,s,r=t(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(r),n=r.cssClip(),s=r.position()[c],d[c]=(h?-1:1)*u+s,d.clip=r.cssClip(),d.clip[o[l][1]]=d.clip[o[l][0]],"show"===a&&(r.cssClip(d.clip),r.css(c,d[c]),d.clip=n,d[c]=s),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../effect"],t):t(jQuery)}(function(t){var e;return!1!==t.uiBackCompat&&(e=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),e}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode","../unique-id","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t)return void this._activate(e);"event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),t(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),s=n.uniqueId().attr("id");e.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=s.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,s=this.options,r=this.active,o=t(e.currentTarget),a=o[0]===r[0],l=a&&s.collapsible,c=l?t():o.next(),h=r.next(),u={oldHeader:r,oldPanel:h,newHeader:l?t():o,newPanel:c};e.preventDefault(),a&&!s.collapsible||!1===this._trigger("beforeActivate",e,u)||(s.active=!l&&this.headers.index(o),this.active=a?t():o,this._toggle(u),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),s.icons&&(i=r.children(".ui-accordion-header-icon"),this._removeClass(i,null,s.icons.activeHeader)._addClass(i,null,s.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),s.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,s.icons.header)._addClass(n,null,s.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,s,r,o=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),h=this.options.animate||{},u=c&&h.down||h,d=function(){o._toggleComplete(i)};return"number"==typeof u&&(r=u),"string"==typeof u&&(s=u),s=s||u.easing||h.easing,r=r||u.duration||h.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:s,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,r,s,d):t.animate(this.showProps,r,s,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,s,r,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",r=!1,s=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),s===n?r=!0:s=n+s,i=this._filterMenuItems(s),i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(s=String.fromCharCode(e.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(e,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,s,r,o=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),s=i.not(".ui-menu-item, .ui-menu-divider"),r=s.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(s,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),s=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),s<0?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,s;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=r||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case r.UP:e=!0,this._keyEvent("previous",s);break;case r.DOWN:e=!0,this._keyEvent("next",s);break;case r.ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),(n=i.item.attr("aria-label")||s.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t
},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete}),function(t){"function"==typeof define&&define.amd?define(["jquery","../widget"],t):t(jQuery)}(function(t){var e=/ui-corner-([a-z]){2,6}/g;return t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,s){var r,o={};if(s)return"controlgroupLabel"===n?(r=e.element.find(s),r.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(r.get()))):void(t.fn[n]&&(o=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(s).each(function(){var s=t(this),r=s[n]("instance"),a=t.widget.extend({},o);if("button"!==n||!s.parent(".ui-spinner").length){r||(r=s[n]()[n]("instance")),r&&(a.classes=e._resolveClassesValues(a.classes,r)),s[n](a);var l=s[n]("widget");t.data(l[0],"ui-controlgroup-data",r||s[n]("instance")),i.push(l[0])}})))}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,n){var s={};return t.each(i,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(e,"")),s[r]=(o+" "+i[r]).replace(/\s+/g," ")}),s},_setOption:function(t,e){if("direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t)return void this._callChildMethod(e?"disable":"enable");this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){var s=e[n]().data("ui-controlgroup-data");if(s&&i["_"+s.widgetName+"Options"]){var r=i["_"+s.widgetName+"Options"](1===e.length?"only":n);r.classes=i._resolveClassesValues(r.classes,s),s.element[s.widgetName](r)}else i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,s=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(s.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(s.disabled=e),s},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==undefined&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio}),function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,s=n?this.options.iconPosition:i,r="top"===s||"bottom"===s;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(s),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=t.showLabel===undefined?this.options.showLabel:t.showLabel,i=t.icon===undefined?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){if("text"===t)return void this._super("showLabel",e);"showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../keycode"],t):t(jQuery)}(function(t){function e(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,s)}function s(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}});var o;return t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,r;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),s),r.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):s&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,r,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:s,title:s}):s)),e[a?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,r=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},r.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,o){var a,l,c,h,u,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+h,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),o===s&&(o=null))},_enableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var s,o,a,l,c=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null;s=i||{},"string"==typeof i&&(s={},s[i]=n),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,s),null!==a&&s.dateFormat!==undefined&&s.minDate===undefined&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&s.dateFormat!==undefined&&s.maxDate===undefined&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,r=t.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),s[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0]),i=t.datepicker._get(r,"onSelect"),i?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);if(t.datepicker._get(s,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=t("input",i.parentNode)[0]),!t.datepicker._isDisabledDatepicker(i)&&t.datepicker._lastInput!==i){var n,s,o,a,l,c,h;n=t.datepicker._getInst(i),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(n,"beforeShow"),o=s?s.apply(i,[i,n]):{},!1!==o&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=i,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(i.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(i),t.datepicker._pos[1]+=i.offsetHeight),a=!1,t(i).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=t.datepicker._get(n,"showAnim"),h=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",e(t(i))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?n.dpDiv.show(c,t.datepicker._get(n,"showOptions"),h):n.dpDiv[c||"show"](c?h:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,
i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>c&&c>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,r,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,r=this._get(o,"onClose"),r&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,i,n,s){var r,o=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(r=this._getInst(o[0]),r.selectedDay=r.currentDay=t("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(r).val(s))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,r,o,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,x=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},w=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?n:1,r=new RegExp("^\\d{"+s+","+n+"}"),o=i.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(e,n,s){var r=-1,o=t.map(x(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=e[0],l+=n.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(y)"'"!==e.charAt(s)||x("'")?k():y=!1;else switch(e.charAt(s)){case"d":v=w("d");break;case"D":_("D",u,d);break;case"o":b=w("o");break;case"m":m=w("m");break;case"M":m=_("M",p,f);break;case"y":g=w("y");break;case"@":a=new Date(w("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":x("'")?k():y=!0;break;default:k()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=h?0:-100)),b>-1)for(m=1,v=b;;){if(r=this._getDaysInMonth(g,m-1),v<=r)break;m++,v-=r}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=h("D",e.getDay(),s,r);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=h("M",e.getMonth(),o,a);break;case"y":u+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),r=s,o=this._getFormatConfig(t);try{r=this.parseDate(i,n,o)||s}catch(t){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r))}l=a.exec(i)}return new Date(s,r,o)},o=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return o=o&&"Invalid Date"===o.toString()?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,r=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),s===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,r,o,a,l,c,h,u,d,p,f,g,m,v,b,y,x,w,_,k,C,T,S,E,O,P,M,D,A,I,N,j,L,F,R,$,z=new Date,H=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),B=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==Y[0]||1!==Y[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-V,tt=t.drawYear;if(J<0&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-Y[0]*Y[1]+1,Z.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,J+X,1)),this._getFormatConfig(t)):s,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:H,o=U?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),x="",_=0;_<Y[0];_++){for(k="",this.maxRows=4,C=0;C<Y[1];C++){if(T=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),S=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(B?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?B?r:n:"")+(/all|right/.test(S)&&0===_?B?n:r:"")+this._generateMonthYearHeader(t,J,tt,Q,Z,_>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",O=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)P=(w+h)%7,O+="<th scope='col'"+((w+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P]+"'>"+p[P]+"</span></th>";for(E+=O+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),D=(this._getFirstDayOfMonth(tt,J)-h+7)%7,A=Math.ceil((D+M)/7),I=G&&this.maxRows>A?this.maxRows:A,this.maxRows=I,N=this._daylightSavingAdjust(new Date(tt,J,1-D)),j=0;j<I;j++){for(E+="<tr>",L=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)F=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],R=N.getMonth()!==J,$=R&&!b||!F[0]||Q&&N<Q||Z&&N>Z,L+="<td class='"+((w+h+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(N.getTime()===T.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===N.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+($?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+F[1]+(N.getTime()===K.getTime()?" "+this._currentClass:"")+(N.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+($?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":$?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===H.getTime()?" ui-state-highlight":"")+(N.getTime()===K.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=L+"</tr>"}J++,J>11&&(J=0,tt++),E+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=E}x+=k}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,s,r,o,a){var l,c,h,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(r||!m)x+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!l||h>=n.getMonth())&&(!c||h<=s.getMonth())&&(x+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+a[h]+"</option>");x+="</select>"}if(b||(y+=x+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=s?Math.min(g,s.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!r&&m&&v?"":"&#xa0;")+x),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),s=t.selectedMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,r)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&e<i?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:s[0]*s[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||e.getTime()>=s.getTime())&&(!r||e.getTime()<=r.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker}),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(s&&!r&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),s=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options,r=this.document[0];return this.relativeContainer=null,s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),void((n=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{
top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var s=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i,n){var s=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(e,i,n){t.each(n.sortables,function(){var s=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(s=!1),s})),s?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var s=t("body"),r=n.options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(e,i,n){var s=n.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(e,i,n){var s=n.options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var s=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<s.scrollSensitivity?o.scrollTop=r=o.scrollTop+s.scrollSpeed:e.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<s.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+s.scrollSpeed:e.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var s=n.options;n.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var s,r,o,a,l,c,h,u,d,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,c=l+n.snapElements[d].width,h=n.snapElements[d].top-n.margins.top,u=h+n.snapElements[d].height,v<l-g||m>c+g||y<h-g||b>u+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(h-y)<=g,r=Math.abs(u-b)<=g,o=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=s||r||o||a,"outer"!==f.snapMode&&(s=Math.abs(h-b)<=g,r=Math.abs(u-y)<=g,o=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,s&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(s||r||o||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=s||r||o||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var s,r=n.options,o=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(s=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",s+e)}),this.css("zIndex",s+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(e,i,n){var s=n.options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}}),t.ui.draggable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,s,r,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)e=t.trim(n[i]),s="ui-resizable-"+e,r=t("<div>"),this._addClass(r,"ui-resizable-handle "+s),r.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var i,n,s,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,r=this.axis,o=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,r,o,a,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:h.sizeDiff.height,r=n?0:h.sizeDiff.width,o={width:h.helper.width()-r,height:h.helper.height()-s},a=parseFloat(h.element.css("left"))+(h.position.left-h.originalPosition.left)||null,l=parseFloat(h.element.css("top"))+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(t.extend(o,{top:l,left:a})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),r&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),o&&h&&(t.top=l-e.minHeight),s&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(s[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,s,r,o,a,l=t(this).resizable("instance"),c=l.options,h=l.element,u=c.containment,d=u instanceof t?u.get(0):/parent/.test(u)?h.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,r=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:r,a=l._hasScroll(d)?d.scrollHeight:s,l.parentData={element:d,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,s,r,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,c=o.position,h=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),h&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),h&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,h&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,h&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,s=e.containerPosition,r=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,c=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(s.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),s={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,h=l[1]||1,u=Math.round((s.width-r.width)/c)*c,d=Math.round((s.height-r.height)/h)*h,p=r.width+u,f=r.height+d,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=h),g&&(p-=c),m&&(f-=h),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=o.left-u):((f-h<=0||p-c<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-h>0?(i.size.height=f,i.position.top=o.top-d):(f=h-e.height,i.size.height=f,i.position.top=o.top+r.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-u):(p=c-e.width,i.size.width=p,i.position.left=o.left+r.width-p))}}),t.ui.resizable}),function(t){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,s);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){s.trigger("focus")}),
e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length)return void this._removeClass(this.uiDialog,"ui-dialog-buttons");t.each(i,function(i,n){var s,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,r={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(r).appendTo(e.uiButtonSet).on("click",function(){s.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,r){var o=r.offset.left-i.document.scrollLeft(),a=r.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(r))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,s){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,r){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,s={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(s[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,i){var n,s,r=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!i&&r.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=r.is(":data(ui-resizable)"),s&&!i&&r.resizable("destroy"),s&&"string"==typeof i&&r.resizable("option","handles",i),s||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog}),function(t){"function"==typeof define&&define.amd?define(["jquery","./draggable","./mouse","../version","../widget"],t):t(jQuery)}(function(t){t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(i,n){var s=n||t.ui.ddmanager.current,r=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===s.options.scope&&n.accept.call(n.element[0],s.currentItem||s.element)&&e(s,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,i))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",i,this.ui(s)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var e=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,s){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=o+e.helperProportions.height,c=i.offset.left,h=i.offset.top,u=c+i.proportions().width,d=h+i.proportions().height;switch(n){case"fit":return c<=r&&a<=u&&h<=o&&l<=d;case"intersect":return c<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&h<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(s.pageY,h,i.proportions().height)&&t(s.pageX,c,i.proportions().width);case"touch":return(o>=h&&o<=d||l>=h&&l<=d||o<h&&l>d)&&(r>=c&&r<=u||a>=c&&a<=u||r<c&&a>u);default:return!1}}}();return t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(i,n){var s=!1;return t.each((t.ui.ddmanager.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e(i,this,this.options.tolerance,n)&&(s=this._drop.call(this,n)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(i,n){i.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(i,n),t.each(t.ui.ddmanager.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,r,o,a=e(i,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===l)),s&&"isover"===l&&(s.isover=!1,s.isout=!0,s._out.call(s,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),s&&"isout"===l&&(s.isout=!1,s.isover=!0,s._over.call(s,n)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable}),function(t){"function"==typeof define&&define.amd?define(["jquery","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(t===undefined)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return t===undefined&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),s={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:s.left,top:s.top,right:s.left+i.outerWidth(),bottom:s.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");if(s)return n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),i._removeClass(s.$element,n?"ui-unselecting":"ui-selected")._addClass(s.$element,n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1,h={};i&&i.element!==n.element[0]&&(h.left=i.left+n.elementPos.left,h.right=i.right+n.elementPos.left,h.top=i.top+n.elementPos.top,h.bottom=i.bottom+n.elementPos.top,"touch"===s.tolerance?c=!(h.left>a||h.right<r||h.top>l||h.bottom<o):"fit"===s.tolerance&&(c=h.left>r&&h.right<a&&h.top>o&&h.bottom<l),c?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./menu","../escape-selector","../form-reset-mixin","../keycode","../labels","../position","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,s="";t.each(i,function(i,r){var o;r.optgroup!==s&&(o=t("<li>",{text:r.optgroup}),n._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(e),s=r.optgroup),n._renderItemData(e,r)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),s=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(s,i.label),n.append(s).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),s+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;if(!1===t)return void this.button.css("width","");null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,s){n.push(i._parseOption(t(s),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle"),r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;e<i;e++)r.push("<span tabindex='0'></span>");this.handles=s.add(t(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,r,o,a,l,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e))
;(s>i||s===i&&(e===c._lastChangedValue||c.values(e)===h.min))&&(s=i,r=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:e!==undefined?e:this.value()};return this._hasMultipleValues()&&(n.value=e!==undefined?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,s=this.value(),r=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),s=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),r[e]=i),i!==s&&!1!==this._trigger("slide",t,this._uiHash(e,i,r))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=s-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.round((t-e)/i)*i+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,s,r,o=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,h={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](h,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,s,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(s=this.options.step,i=n=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return n=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===s||t.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||n+c>a&&n+c<l,d="y"===this.options.axis||e+h>r&&e+h<o,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!s)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,r,o,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n],this.document[0]),s=r.length-1;s>=0;s--)(o=t.data(r[s],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,c,h=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=t(d[i],this.document[0]),n=s.length-1;n>=0;n--)(r=t.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=u.length-1;i>=0;i--)for(o=u[i][1],a=u[i][0],n=0,c=a.length;n<c;n++)l=t(a[n]),l.data(this.widgetName+"-item",o),h.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,r;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]);return e._addClass(s,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(s,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,r,o,a,l,c,h,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,r=null,h=d.floating||this._isFloating(this.currentItem),o=h?"left":"top",a=h?"width":"height",u=h?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,e[u]-l>this.items[n][a]/2&&(c=!0),Math.abs(e[u]-l)<s&&(s=Math.abs(e[u]-l),r=this.items[n],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}),function(t){
"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],t):t(jQuery)}(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);null!=s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,s;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),s=this.buttons.last().find(".ui-icon"),this._removeClass(s,null,this.options.icons.down),this._addClass(s,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:e(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner}),function(t){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>s&&(e=0),e<0&&(e=s),e}for(var s=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){if("active"===t)return void this._activate(e);this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,n){var s,r,o,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(s=n.hash,o=s.substring(1),r=e.element.find(e._sanitizeSelector(s))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,s="#"+o,r=e.element.find(s),r.length||(r=e._createPanel(o),r.insertAfter(e.panels[i-1]||e.tablist)),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,s;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),s=0;n=this.tabs[s];s++)i=t(n),!0===e||-1!==t.inArray(s,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),r=s.closest("li"),o=r[0]===n[0],a=o&&i.collapsible,l=a?t():this._getPanelForTab(r),c=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:c,newTab:a?t():r,newPanel:l};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",e,h)||(i.active=!a&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(r),e),this._toggle(e,h))},_toggle:function(e,i){function n(){r.running=!1,r._trigger("activate",e,i)}function s(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&r.options.show?r._show(o,r.options.show,n):(o.show(),n())}var r=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(e===undefined?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(e===undefined)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,s=this.tabs.eq(e),r=s.find(".ui-tabs-anchor"),o=this._getPanelForTab(s),a={tab:s,panel:o},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(s,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(s,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){o.html(t),n._trigger("load",i,a),l(s,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,r){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs}),function(t){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../unique-id","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n.element[0],e.close(s,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,r=e?e.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(e,t,n);(i=n.call(t[0],function(i){s._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,i))})}))&&this._open(e,t,i)},_open:function(e,i,n){function s(t){c.of=t,o.is(":hidden")||o.position(c)}var r,o,a,l,c=t.extend({},this.options.position);if(n){if(r=this._find(i))return void r.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),r=this._tooltip(i),o=r.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),l=t("<div>").html(o.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:s}),s(e)):o.position(t.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(s(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:o})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,s=t(e?e.currentTarget:this.element),r=this._find(s);if(!r)return void s.removeData("ui-tooltip-open");i=r.tooltip,r.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:i}),r.hiding||(r.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),s=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[s]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur"),r=n.element;s.target=s.currentTarget=r[0],e.close(s,!0),t("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(t,e){return Turbolinks.controller.visit(t,e)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(t){return Turbolinks.controller.setProgressBarDelay(t)}}}.call(this),function(){var t,e,i,n=[].slice;Turbolinks.copyObject=function(t){var e,i,n;i={};for(e in t)n=t[e],i[e]=n;return i},Turbolinks.closest=function(e,i){return t.call(e,i)},t=function(){var t,i;return t=document.documentElement,null!=(i=t.closest)?i:function(t){var i;for(i=this;i;){if(i.nodeType===Node.ELEMENT_NODE&&e.call(i,t))return i;i=i.parentNode}}}(),Turbolinks.defer=function(t){return setTimeout(t,1)},Turbolinks.throttle=function(t){var e;return e=null,function(){var i;return i=1<=arguments.length?n.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,i)}}(this))}},Turbolinks.dispatch=function(t,e){var n,s,r,o,a,l;return a=null!=e?e:{},l=a.target,n=a.cancelable,s=a.data,r=document.createEvent("Events"),r.initEvent(t,!0,!0===n),r.data=null!=s?s:{},r.cancelable&&!i&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=l?l:document).dispatchEvent(r),r},i=function(){var t;return t=document.createEvent("Events"),t.initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),Turbolinks.match=function(t,i){return e.call(t,i)},e=function(){var t,e,i,n;return t=document.documentElement,null!=(e=null!=(i=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector}(),Turbolinks.uuid=function(){var t,e,i;for(i="",t=e=1;36>=e;t=++e)i+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return i}}.call(this),function(){Turbolinks.Location=function(){function t(t){var e,i;null==t&&(t=""),i=document.createElement("a"),i.href=t.toString(),this.absoluteURL=i.href,e=i.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=i.hash.slice(1))}var e,i,n,s;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=i(t),this.isEqualTo(t)||s(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},i=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,"/")?t:t+"/"},s=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.HttpRequest=function(){function e(e,i,n){this.delegate=e,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(i).requestURL,this.referrer=Turbolinks.Location.wrap(n).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},e.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},e.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},e.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var i;return i=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+i+"ms ease-out, opacity "+i/2+"ms "+i/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){
return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*i)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,i)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},e.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var i,n,s;return s=Turbolinks.HttpRequest,i=s.NETWORK_FAILURE,n=s.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},e.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},e.prototype.visitRequestCompleted=function(t){return t.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case n:return this.reload();default:return t.loadResponse()}},e.prototype.visitRequestFinished=function(){return this.hideProgressBar()},e.prototype.visitCompleted=function(t){return t.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("push",t,e)},e.prototype.replace=function(t,e){return t=Turbolinks.Location.wrap(t),this.update("replace",t,e)},e.prototype.onPopState=function(t){var e,i,n,s;return this.shouldHandlePopState()&&(s=null!=(i=t.state)?i.turbolinks:void 0)?(e=Turbolinks.Location.wrap(window.location),n=s.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,n)):void 0},e.prototype.onPageLoad=function(){return Turbolinks.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(t,e,i){var n;return n={turbolinks:{restorationIdentifier:i}},history[t+"State"](n,null,e)},e}()}.call(this),function(){Turbolinks.Snapshot=function(){function t(t){var e,i;i=t.head,e=t.body,this.head=null!=i?i:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return t.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},t.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},t.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},t.prototype.clone=function(){return new t({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new Turbolinks.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.body.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){}},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){var e,i;return i=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=i[i.length-1],null!=e?e.getAttribute("content"):void 0},t}()}.call(this),function(){var t=[].slice;Turbolinks.Renderer=function(){function e(){}var i;return e.render=function(){var e,i,n,s;return n=arguments[0],i=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],s=function(t,e,i){i.prototype=t.prototype;var n=new i,s=t.apply(n,e);return Object(s)===s?s:n}(this,e,function(){}),s.delegate=n,s.render(i),s},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,e.async=!1,i(e,t),e)},i=function(t,e){var i,n,s,r,o,a,l;for(r=e.attributes,a=[],i=0,n=r.length;n>i;i++)o=r[i],s=o.name,l=o.value,a.push(t.setAttribute(s,l));return a},e}()}.call(this),function(){Turbolinks.HeadDetails=function(){function t(t){var e,i,r,o,a,l,c;for(this.element=t,this.elements={},c=this.element.childNodes,o=0,l=c.length;l>o;o++)r=c[o],r.nodeType===Node.ELEMENT_NODE&&(a=r.outerHTML,i=null!=(e=this.elements)[a]?e[a]:e[a]={type:s(r),tracked:n(r),elements:[]},i.elements.push(r))}var e,i,n,s;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var i,n;i=this.elements,n=[];for(t in i)(e=i[t].tracked)&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var i,n,s,r,o,a;s=this.elements,o=[];for(n in s)r=s[n],a=r.type,i=r.elements,a!==t||e.hasElementWithKey(n)||o.push(i[0]);return o},t.prototype.getProvisionalElements=function(){var t,e,i,n,s,r,o;i=[],n=this.elements;for(e in n)s=n[e],o=s.type,r=s.tracked,t=s.elements,null!=o||r?t.length>1&&i.push.apply(i,t.slice(1)):i.push.apply(i,t);return i},s=function(t){return e(t)?"script":i(t)?"stylesheet":void 0},n=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var s in i)e.call(i,s)&&(t[s]=i[s]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(e){function i(t,e,i){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=i,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return t(i,e),i.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},i.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},i.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},i.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},i.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},i.prototype.copyNewHeadStylesheetElements=function(){var t,e,i,n,s;for(n=this.getNewHeadStylesheetElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(t));return s},i.prototype.copyNewHeadScriptElements=function(){var t,e,i,n,s;for(n=this.getNewHeadScriptElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(this.createScriptElement(t)));return s},i.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,i,n,s;for(n=this.getCurrentHeadProvisionalElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.removeChild(t));return s},i.prototype.copyNewHeadProvisionalElements=function(){var t,e,i,n,s;for(n=this.getNewHeadProvisionalElements(),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(document.head.appendChild(t));return s},i.prototype.importBodyPermanentElements=function(){var t,e,i,n,s,r;for(n=this.getNewBodyPermanentElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],(t=this.findCurrentBodyPermanentElement(s))?r.push(s.parentNode.replaceChild(t,s)):r.push(void 0);return r},i.prototype.activateBodyScriptElements=function(){var t,e,i,n,s,r;for(n=this.getNewBodyScriptElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],t=this.createScriptElement(s),r.push(s.parentNode.replaceChild(t,s));return r},i.prototype.assignNewBody=function(){return document.body=this.newBody},i.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},i.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},i.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},i.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},i.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},i.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},i.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},i.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},i.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},i}(Turbolinks.Renderer)}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var s in i)e.call(i,s)&&(t[s]=i[s]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(e){function i(t){this.html=t}return t(i,e),i.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},i.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},i.prototype.activateBodyScriptElements=function(){var t,e,i,n,s,r;for(n=this.getScriptElements(),r=[],e=0,i=n.length;i>e;e++)s=n[e],t=this.createScriptElement(s),r.push(s.parentNode.replaceChild(t,s));return r},i.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},i}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function t(t){this.delegate=t,this.element=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},t.prototype.render=function(t,e){var i,n,s;return s=t.snapshot,i=t.error,n=t.isPreview,this.markAsPreview(n),null!=s?this.renderSnapshot(s,n,e):this.renderError(i,e)},t.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,i){return Turbolinks.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),Turbolinks.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return Turbolinks.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(t){return t.scrollIntoView()},e.prototype.scrollToPosition=function(t){var e,i;return e=t.x,i=t.y,window.scrollTo(e,i)},e.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var e;return t.prototype.has=function(t){return e(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var i;return i=e(t),this.snapshots[i]},t.prototype.write=function(t,i){var n;return n=e(t),this.snapshots[n]=i},t.prototype.touch=function(t){var i,n;return n=e(t),i=this.keys.indexOf(n),i>-1&&this.keys.splice(i,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,i,n,s;for(n=this.keys.splice(this.size),s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(delete this.snapshots[e]);return s},e=function(t){return Turbolinks.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Visit=function(){function e(e,i,n){this.controller=e,this.action=n,this.performScroll=t(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var i;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(i=this.adapter).visitRendered&&i.visitRendered(this),t?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=Turbolinks.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},e.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Turbolinks.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},e.prototype.visit=function(t,e){var i,n;return null==e&&(e={}),t=Turbolinks.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(i=null!=(n=e.action)?n:"advance",this.adapter.visitProposedToLocationWithAction(t,i)):window.location=t:void 0},e.prototype.startVisitToLocationWithAction=function(t,e,i){var n;return Turbolinks.supported?(n=this.getRestorationDataForIdentifier(i),this.startVisit(t,e,{restorationData:n})):window.location=t},e.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},e.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=Turbolinks.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var i;return this.restorationIdentifier=e,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=Turbolinks.Location.wrap(t)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},e.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},e.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},e.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},e.prototype.render=function(t,e){return this.view.render(t,e)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(t){var e,i,n;return this.enabled&&this.clickEventIsSignificant(t)&&(i=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(i))&&this.applicationAllowsFollowingLinkToLocation(i,n)?(t.preventDefault(),e=this.getActionForLink(i),this.visit(n,{action:e})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var i;return i=this.notifyApplicationAfterClickingLinkToLocation(t,e),!i.defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return Turbolinks.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(t){return Turbolinks.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(t){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:t}})},e.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},e.prototype.startVisit=function(t,e,i){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,i),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},e.prototype.createVisit=function(t,e,i){var n,s,r,o,a;return s=null!=i?i:{},o=s.restorationIdentifier,r=s.restorationData,n=s.historyChanged,a=new Turbolinks.Visit(this,t,e),a.restorationIdentifier=null!=o?o:Turbolinks.uuid(),a.restorationData=Turbolinks.copyObject(r),a.historyChanged=n,a.referrer=this.location,a},e.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},e.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?Turbolinks.closest(t,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(t){var e;return e=new Turbolinks.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},e.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},e.prototype.nodeIsVisitable=function(t){var e;return!(e=Turbolinks.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},e}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,i;Turbolinks.start=function(){return e()?(null==Turbolinks.controller&&(Turbolinks.controller=t()),Turbolinks.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),i()},t=function(){var t;return t=new Turbolinks.Controller,t.adapter=new Turbolinks.BrowserAdapter(t),t},(i=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),function(){var t,e,i,n,s;t=Turbolinks.defer,e=Turbolinks.dispatch,i=function(t,e){return document.addEventListener(t,e,!1)},s=function(t){var n,s,r;return n=t.from,r=t.to,s=function(t){if(t=e(r,{target:t.target,cancelable:t.cancelable,data:t.data}),t.defaultPrevented)return t.preventDefault()},i(n,s)},s({from:"turbolinks:click",to:"page:before-change"}),s({from:"turbolinks:request-start",to:"page:fetch"}),s({from:"turbolinks:request-end",to:"page:receive"}),s({from:"turbolinks:before-cache",to:"page:before-unload"}),s({from:"turbolinks:render",to:"page:update"}),s({from:"turbolinks:load",to:"page:change"}),s({from:"turbolinks:load",to:"page:update"}),n=!1,i("DOMContentLoaded",function(){return t(function(){return n=!0})}),i("turbolinks:load",function(){if(n)return e("page:load")}),"function"==typeof jQuery&&jQuery(document).on("ajaxSuccess",function(t,i){if(jQuery.trim(i.responseText).length>0)return e("page:update")})}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var s;return s="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},s.transition="all "+i+"ms "+n,s}function n(t,e){return("string"==typeof t?t:o(t)).indexOf(" "+e+" ")>=0}function s(t,e){var i=o(t),s=i+e;n(i,e)||(t.className=s.substring(1))}function r(t,e){var i,s=o(t);n(t,e)&&(i=s.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function o(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.2.0";var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)(i=t[e])!==undefined&&t.hasOwnProperty(e)&&(c[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();e=t(e,c.minimum,1),l.status=1===e?null:e;var s=l.render(!n),r=s.querySelector(c.barSelector),o=c.speed,a=c.easing;return s.offsetWidth,h(function(t){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),u(r,i(e,o,a)),1===e?(u(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){u(s,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},o)},o)):setTimeout(t,o)}),this},l.isStarted=function(){
return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!==i.state()?(0===e&&l.start(),t++,e++,i.always(function(){e--,0===e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=c.template;var n,r=i.querySelector(c.barSelector),o=t?"-100":e(l.status||0),h=document.querySelector(c.parent);return u(r,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),c.showSpinner||(n=i.querySelector(c.spinnerSelector))&&a(n),h!=document.body&&s(h,"nprogress-custom-parent"),h.appendChild(i),i},l.remove=function(){r(document.documentElement,"nprogress-busy"),r(document.querySelector(c.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var h=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),u=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i,n=s.length,r=t.charAt(0).toUpperCase()+t.slice(1);n--;)if((i=s[n]+r)in e)return i;return t}function i(i){return i=t(i),r[i]||(r[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var s=["Webkit","O","Moz","ms"],r={};return function(t,e){var i,s,r=arguments;if(2==r.length)for(i in e)(s=e[i])!==undefined&&e.hasOwnProperty(i)&&n(t,i,s);else n(t,r[1],r[2])}}();return l}),jQuery(function(){jQuery(document).on("page:fetch turbolinks:request-start",function(){NProgress.start()}),jQuery(document).on("page:receive turbolinks:request-end",function(){NProgress.set(.7)}),jQuery(document).on("page:change turbolinks:load",function(){NProgress.done()}),jQuery(document).on("page:restore turbolinks:request-end turbolinks:before-cache",function(){NProgress.remove()})}),jQuery(function(){jQuery(document).on("ajaxStart",function(){NProgress.start()}),jQuery(document).on("ajaxStop",function(){NProgress.done()})}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){return t=function(){var t=window,e=t.document,i=t.navigator&&t.navigator.userAgent||"",n=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,s=/(edge|msie|trident)/i.test(i)&&!window.opera,r=!n,o=/Firefox/.test(i),a=o&&4>parseInt(i.split("Firefox/")[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.3",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:a,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:s,isWebKit:/AppleWebKit/.test(i),isFirefox:o,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,vml:r,win:t,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}(),function(t){var e=[],i=t.charts,n=t.doc,s=t.win;t.error=function(t,e){if(t="Highcharts error #"+t+": www.highcharts.com/errors/"+t,e)throw Error(t);s.console&&console.log(t)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],s=this.now,r=e.length;if(1===s)n=this.toD;else if(r===i.length&&1>s)for(;r--;)t=parseFloat(e[r]),n[r]=isNaN(t)?e[r]:s*parseFloat(i[r]-t)+t;else n=i;this.elem.attr("d",n)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,i,n){var s,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new Date,this.start=t,this.end=i,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===e.push(o)&&(o.timerId=setInterval(function(){for(s=0;s<e.length;s++)e[s]()||e.splice(s--,1);e.length||clearInterval(o.timerId)},13))},step:function(t){var e,i=+new Date,n=this.options;e=this.elem;var s,r=n.complete,o=n.duration,a=n.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=o+this.startTime){this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0;for(s in a)!0!==a[s]&&(t=!1);t&&r&&r.call(e),e=!1}else this.pos=n.easing((i-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,i,n){function s(t){for(h=t.length;h--;)"M"!==t[h]&&"L"!==t[h]||t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function r(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,f);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(i)),h--)}t[0]="M"}function o(t,e){for(var i=(l-t.length)/f;0<i&&i--;)c=t.slice().splice(t.length/v-f,f*v),c[0]=e[l-f-i*f],p&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),[].splice.apply(t,[t.length/v,0].concat(c)),m&&i--}i=i||"";var a,l,c,h,u=e.startX,d=e.endX,p=-1<i.indexOf("C"),f=p?7:3;i=i.split(" "),n=n.slice();var g,m=e.isArea,v=m?2:1;if(p&&(s(i),s(n)),u&&d){for(h=0;h<u.length;h++){if(u[h]===d[0]){a=h;break}if(u[0]===d[d.length-u.length+h]){a=h,g=!0;break}}void 0===a&&(i=[])}return i.length&&t.isNumber(a)&&(l=n.length+a*v*f,g?(r(i,n),o(n,i)):(r(n,i),o(i,n))),[i,n]}},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,n=arguments,s={},r=function(e,i){var n,s;"object"!=typeof e&&(e={});for(s in i)i.hasOwnProperty(s)&&(n=i[s],t.isObject(n,!0)&&"renderTo"!==s&&"number"!=typeof n.nodeType?e[s]=r(e[s]||{},n):e[s]=i[s]);return e};for(!0===n[0]&&(s=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)s=r(s,n[e]);return s},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return e&&"object"==typeof e&&(!i||!t.isArray(e))},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var s,r;if(t.isString(i))t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(r=e.getAttribute(i));else if(t.defined(i)&&t.isObject(i))for(s in i)e.setAttribute(s,i[s]);return r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,s,r,o){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),o&&a(e,{padding:0,border:"none",margin:0}),s&&a(e,s),r&&r.appendChild(e),e},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,s=this;return s.proceed=function(){n.apply(s,arguments.length?arguments:e)},t.unshift(n),t=i.apply(this,t),s.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var s,r=t.Date,o=new r(i-t.getTZOffset(i)),a=o[r.hcGetHours](),l=o[r.hcGetDay](),c=o[r.hcGetDate](),h=o[r.hcGetMonth](),u=o[r.hcGetFullYear](),d=t.defaultOptions.lang,p=d.weekdays,f=d.shortWeekdays,g=t.pad,r=t.extend({a:f?f[l]:p[l].substr(0,3),A:p[l],d:g(c),e:g(c,2," "),w:l,b:d.shortMonths[h],B:d.months[h],m:g(h+1),y:u.toString().substr(2,2),Y:u,H:g(a),k:a,I:g(a%12||12),l:a%12||12,M:g(o[r.hcGetMinutes]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:g(o.getSeconds()),L:g(Math.round(i%1e3),3)},t.dateFormats);for(s in r)for(;-1!==e.indexOf("%"+s);)e=e.replace("%"+s,"function"==typeof r[s]?r[s](i):r[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var n=/\.([0-9])/,s=t.defaultOptions.lang;return/f$/.test(e)?(n=(n=e.match(n))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,s.decimalPoint,-1<e.indexOf(",")?s.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var n,s,r,o,a,l="{",c=!1,h=[];e&&-1!==(l=e.indexOf(l));){if(n=e.slice(0,l),c){for(n=n.split(":"),s=n.shift().split("."),o=s.length,a=i,r=0;r<o;r++)a=a[s[r]];n.length&&(a=t.formatSingle(n.join(":"),a)),h.push(a)}else h.push(n);e=e.slice(l+1),l=(c=!c)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,s,r){var o,a=e;for(n=t.pick(n,1),o=e/n,i||(i=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===n?i=t.grep(i,function(t){return 0==t%1}):.1>=n&&(i=[1/n]))),s=0;s<i.length&&(a=i[s],!(r&&a*n>=e||!r&&o<=(i[s]+(i[s+1]||i[s]))/2));s++);return a*n},t.stableSort=function(t,e){var i,n,s=t.length;for(n=0;n<s;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<s;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,s){e=+e||0,i=+i;var r,o,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length,c=Math.abs(e);return-1===i?i=Math.min(l,20):t.isNumber(i)||(i=2),r=String(t.pInt(c.toFixed(i))),o=3<r.length?r.length%3:0,n=t.pick(n,a.decimalPoint),s=t.pick(s,a.thousandsSep),e=(0>e?"-":"")+(o?r.substr(0,o)+s:""),e+=r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+s),i&&(s=Math.abs(c-r+Math.pow(10,-Math.max(i,l)-1)),e+=n+s.toFixed(i).slice(2)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(e=s.getComputedStyle(e,void 0))&&t.pInt(e.getPropertyValue(i))},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.map=function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.offset=function(t){var e=n.documentElement;return t=t.getBoundingClientRect(),{top:t.top+(s.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(s.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t){for(var i=e.length;i--;)e[i].elem===t&&(e[i].stopped=!0)},t.each=function(t,e,i){return Array.prototype.forEach.call(t,e,i)},t.addEvent=function(e,i,n){function r(t){t.target=t.srcElement||s,n.call(e,t)}var o=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=r,e.attachEvent("on"+i,r)),o[i]||(o[i]=[]),o[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function s(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],e.detachEvent("on"+t,i))}function r(){var t,n;if(e.nodeName)for(n in i?(t={},t[i]=!0):t=l,t)if(l[n])for(t=l[n].length;t--;)s(n,l[n][t])}var o,a,l=e.hcEvents;l&&(i?(o=l[i]||[],n?(a=t.inArray(n,o),-1<a&&(o.splice(a,1),l[i]=o),s(i,n)):(r(),l[i]=[])):(r(),e.hcEvents={}))},t.fireEvent=function(e,i,s,r){var o;o=e.hcEvents;var a,l;if(s=s||{},n.createEvent&&(e.dispatchEvent||e.fireEvent))o=n.createEvent("Events"),o.initEvent(i,!0,!0),t.extend(o,s),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(i,o);else if(o)for(o=o[i]||[],a=o.length,s.target||t.extend(s,{preventDefault:function(){s.defaultPrevented=!0},target:e,type:i}),i=0;i<a;i++)(l=o[i])&&!1===l.call(e,s)&&s.preventDefault();r&&!s.defaultPrevented&&r(s)},t.animate=function(e,i,n){var s,r,o,a,l="";t.isObject(n)||(s=arguments,n={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i);for(a in i)o=new t.Fx(e,n,a),r=null,"d"===a?(o.paths=o.initPath(e,e.d,i.d),o.toD=i.d,s=0,r=1):e.attr?s=e.attr(a):(s=parseFloat(t.getStyle(e,a))||0,"opacity"!==a&&(l="px")),r||(r=i[a]),r.match&&r.match("px")&&(r=r.replace(/px/g,"")),o.run(s,r,l)},t.seriesType=function(e,i,n,s,r){var o=t.getOptions(),a=t.seriesTypes;return o.plotOptions[e]=t.merge(o.plotOptions[i],n),a[e]=t.extendClass(a[i]||function(){},s),a[e].prototype.type=e,r&&(a[e].prototype.pointClass=t.extendClass(t.Point,r)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[t.attr(this[0],"data-highcharts-chart")]}),n&&!n.defaultView&&(t.getStyle=function(e,i){var n={width:"clientWidth",height:"clientHeight"}[i];return e.style[i]?t.pInt(e.style[i]):("opacity"===i&&(i="filter"),n?(e.style.zoom=1,Math.max(e[n]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===i&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,i){for(var n=0,s=t.length;n<s;n++)if(!1===e.call(i,t[n],n,t))return n}),Array.prototype.indexOf||(t.inArray=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)e(t[n],n)&&i.push(t[n]);return i})}(t),function(t){var e=t.each,i=t.isNumber,n=t.map,s=t.merge,r=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[r(t[1],16),r(t[2],16),r(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,s,r,o;if((this.input=e=this.names[e]||e)&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else for(r=this.parsers.length;r--&&!s;)o=this.parsers[r],(i=o.regex.exec(e))&&(s=o.parse(i));this.rgba=s||[]},get:function(t){var n,r=this.input,o=this.rgba;return this.stops?(n=s(r),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=o&&i(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":r,n},brighten:function(t){var n,s=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;3>n;n++)s[n]+=r(255*t),0>s[n]&&(s[n]=0),255<s[n]&&(s[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,i,n=t.addEvent,s=t.animate,r=t.attr,o=t.charts,a=t.color,l=t.css,c=t.createElement,h=t.defined,u=t.deg2rad,d=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,b=t.hasTouch,y=t.isArray,x=t.isFirefox,w=t.isMS,_=t.isObject,k=t.isString,C=t.isWebKit,T=t.merge,S=t.noop,E=t.pick,O=t.pInt,P=t.removeEvent,M=t.stop,D=t.svg,A=t.SVG_NS,I=t.symbolSizes,N=t.win;e=t.SVGElement=function(){return this},e.prototype={opacity:1,SVG_NS:A,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?c(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,i){return e=E(e,this.renderer.globalAnimation,!0),M(this),e?(i&&(e.complete=i),s(this,t,e)):this.attr(t,null,i),this},colorGradient:function(e,i,n){var s,r,o,a,l,c,u,d,p,g,m,v,b=this.renderer,x=[];if(e.linearGradient?r="linearGradient":e.radialGradient&&(r="radialGradient"),r){o=e[r],l=b.gradients,u=e.stops,g=n.radialReference,y(o)&&(e[r]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===r&&g&&!h(o.gradientUnits)&&(a=o,o=T(o,b.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"}));for(m in o)"id"!==m&&x.push(m,o[m]);for(m in u)x.push(u[m]);x=x.join(","),l[x]?g=l[x].attr("id"):(o.id=g=t.uniqueKey(),l[x]=c=b.createElement(r).attr(o).add(b.defs),c.radAttr=a,c.stops=[],f(u,function(e){0===e[1].indexOf("rgba")?(s=t.color(e[1]),d=s.get("rgb"),p=s.get("a")):(d=e[1],p=1),e=b.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(c),c.stops.push(e)})),v="url("+b.url+"#"+g+")",n.setAttribute(i,v),n.gradient=x,e.toString=function(){return v}}},applyTextOutline:function(t){var e,i,n,s=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(s.style.fill))),this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(s.getElementsByTagName("tspan")),t=t.split(" "),i=t[t.length-1],(n=t[0])&&"none"!==n&&(n=n.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),f(e,function(t){"highcharts-text-outline"===t.getAttribute("class")&&m(e,s.removeChild(t))}),this.realBox=s.getBBox(),f(e,function(t,e){0===e&&(t.setAttribute("x",s.getAttribute("x")),e=s.getAttribute("y"),t.setAttribute("y",e||0),null===e&&s.setAttribute("y",0)),t=t.cloneNode(1),r(t,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":n,"stroke-linejoin":"round"}),s.insertBefore(t,s.firstChild)}))},attr:function(t,e,i){var n,s,r,o=this.element,a=this;if("string"==typeof t&&void 0!==e&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,o);else{for(n in t)e=t[n],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(t),s=!0),r=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),r||(r=this[n+"Setter"]||this._defaultSetter,r.call(this,e,n,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,r));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e,i){for(var n=this.shadows,s=n.length;s--;)i.call(n[s],"height"===t?Math.max(e-(n[s].cutHeight||0),0):"d"===t?this.d:e,t,n[s])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==r(this.element,"class").indexOf(t)},removeClass:function(t){return r(this.element,"class",(r(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=E(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n,s={};e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),h(t.strokeWidth)&&(t.strokeWidth=e);for(i in t)this[i]!==t[i]&&(this[i]=s[i]=t[i]);return s},css:function(t){var e,i,n=this.styles,s={},o=this.element,a="";if(e=!n,t&&t.color&&(t.fill=t.color),n)for(i in t)t[i]!==n[i]&&(s[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===o.nodeName.toLowerCase()&&O(t.width)||this.textWidth,n&&(t=g(n,s)),this.styles=t,e&&!D&&this.renderer.forExport&&delete t.width,w&&!D)l(this.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";r(o,"style",a)}this.added&&(e&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return b&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,r=this.rotation,o=this.element;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(h(i)||h(n))&&t.push("scale("+E(i,1)+" "+E(n,1)+")"),t.length&&o.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,s,r,o,a={};s=this.renderer,r=s.alignedObjects;var l,c;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||k(i))&&(this.alignTo=n=i||"renderer",m(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=E(i,s[n],s),n=t.align,s=t.verticalAlign,r=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(r+=(i.width-(t.width||0))/l),a[e?"translateX":"x"]=Math.round(r),"bottom"===s?c=1:"middle"===s&&(c=2),c&&(o+=(i.height-(t.height||0))/c),a[e?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var i,n,s,r,o,a=this.renderer,l=this.element,c=this.styles,h=this.textStr,d=a.cache,p=a.cacheKeys;if(e=E(e,this.rotation),n=e*u,s=c&&c.fontSize,void 0!==h&&(o=h.toString(),-1===o.indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",e||0,s,l.style.width,l.style["text-overflow"]].join()),o&&!t&&(i=d[o]),!i){if(l.namespaceURI===this.SVG_NS||a.forExport){try{(r=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&r("none"),i=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},r&&r("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(a.isSVG&&(t=i.width,a=i.height,w&&c&&"11px"===c.fontSize&&"16.9"===a.toPrecision(3)&&(i.height=a=14),e&&(i.width=Math.abs(a*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(a*Math.cos(n))+Math.abs(t*Math.sin(n)))),o&&0<i.height){for(;250<p.length;)delete d[p.shift()];d[o]||p.push(o),d[o]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this.element||{},n=this.renderer.isSVG&&"SPAN"===i.nodeName&&this.parentGroup;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,M(this),this.clipPath&&(this.clipPath=this.clipPath.destroy()),this.stops){for(e=0;e<this.stops.length;e++)this.stops[e]=this.stops[e].destroy();this.stops=null}for(this.safeRemoveChild(i),this.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)i=n.parentGroup,this.safeRemoveChild(n.div),delete n.div,n=i;this.alignTo&&m(this.renderer.alignedObjects,this);for(t in this)delete this[t];return null},shadow:function(t,e,i){var n,s,o,a,l,c,h=[],u=this.element;if(t){if(!this.shadows){for(a=E(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+E(t.offsetX,1)+", "+E(t.offsetY,1)+")",n=1;n<=a;n++)s=u.cloneNode(0),o=2*a+1-2*n,r(s,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":o,transform:"translate"+c,fill:"none"}),i&&(r(s,"height",Math.max(r(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):u.parentNode.insertBefore(s,u),h.push(s);this.shadows=h}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=E(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=O(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(E(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,s=this.renderer,r=this.parentGroup,o=(r||s).element||s.box,a=this.element;i=this.added;var l;if(h(t)&&(a.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&r&&(r.handleZ=!0),e=o.childNodes,l=0;l<e.length&&!n;l++)r=e[l],i=r.zIndex,r!==a&&(O(i)>t||!h(t)&&h(i)||0>t&&!h(i)&&o!==s.box)&&(o.insertBefore(a,r),n=!0);n||o.appendChild(a)}return n},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},i.prototype={Element:e,SVG_NS:A,init:function(t,e,i,s,o,a){var c;s=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(s)),c=s.element,t.appendChild(c),-1===t.innerHTML.indexOf("xmlns")&&r(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=s,this.alignedObjects=[],this.url=(x||C)&&p.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 5.0.3")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1);var h;x&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})},e(),this.unSubPixelFix=n(N,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:S,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n,s,o=t.element,a=this,c=a.forExport,h=E(t.textStr,"").toString(),u=-1!==h.indexOf("<"),d=o.childNodes,g=r(o,"x"),m=t.styles,b=t.textWidth,y=m&&m.lineHeight,x=m&&m.textOutline,w=m&&"ellipsis"===m.textOverflow,_=d.length,k=b&&!t.added&&this.box,C=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:m&&m.fontSize||a.style.fontSize||12,y?O(y):a.fontMetrics(e,t.getAttribute("style")?t:o).h};_--;)o.removeChild(d[_]);u||x||w||b||-1!==h.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,k&&k.appendChild(o),h=u?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],h=v(h,function(t){return""!==t}),f(h,function(h,u){var d,v=0;h=h.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=h.split("|||"),f(d,function(h){if(""!==h||1===d.length){var f,y,x={},_=p.createElementNS(a.SVG_NS,"tspan");if(e.test(h)&&(f=h.match(e)[1],r(_,"class",f)),i.test(h)&&(y=h.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),r(_,"style",y)),n.test(h)&&!c&&(r(_,"onclick",'location.href="'+h.match(n)[1]+'"'),l(_,{cursor:"pointer"}))," "!==(h=(h.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(_.appendChild(p.createTextNode(h)),v?x.dx=0:u&&null!==g&&(x.x=g),r(_,x),o.appendChild(_),!v&&u&&(!D&&c&&l(_,{display:"block"}),r(_,"dy",C(_))),b){x=h.replace(/([^\^])-/g,"$1- ").split(" "),f="nowrap"===m.whiteSpace;for(var k,T,S=1<d.length||u||1<x.length&&!f,E=[],O=C(_),P=t.rotation,M=h,I=M.length;(S||w)&&(x.length||E.length);)t.rotation=0,k=t.getBBox(!0),T=k.width,!D&&a.forExport&&(T=a.measureSpanWidth(_.firstChild.data,t.styles)),k=T>b,void 0===s&&(s=k),w&&s?(I/=2,""===M||!k&&.5>I?x=[]:(M=h.substring(0,M.length+(k?-1:1)*Math.ceil(I)),x=[M+(3<b?"\u2026":"")],_.removeChild(_.firstChild))):k&&1!==x.length?(_.removeChild(_.firstChild),E.unshift(x.pop())):(x=E,E=[],x.length&&!f&&(_=p.createElementNS(A,"tspan"),r(_,{dy:O,x:g}),y&&r(_,"style",y),o.appendChild(_)),T>b&&(b=T)),
x.length&&_.appendChild(p.createTextNode(x.join(" ").replace(/- /g,"-")));t.rotation=P}v++}}})}),s&&t.attr("title",t.textStr),k&&k.removeChild(o),x&&t.applyTextOutline&&t.applyTextOutline(x)):o.appendChild(p.createTextNode(h.replace(/&lt;/g,"<").replace(/&gt;/g,">")))},getContrast:function(t){return t=a(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,s,r,o,a,l,c){var h=this.label(t,e,i,c,null,null,null,null,"button"),u=0;h.attr(T({padding:8,r:2},r));var d,p,f,m;return r=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},r),d=r.style,delete r.style,o=T(r,{fill:"#e6e6e6"},o),p=o.style,delete o.style,a=T(r,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),f=a.style,delete a.style,l=T(r,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,n(h.element,w?"mouseover":"mouseenter",function(){3!==u&&h.setState(1)}),n(h.element,w?"mouseout":"mouseleave",function(){3!==u&&h.setState(u)}),h.setState=function(t){1!==t&&(h.state=u=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),h.attr([r,o,a,l][t||0]).css([d,p,f,m][t||0])},h.attr(r).css(g({cursor:"default"},d)),h.on("click",function(t){3!==u&&s.call(h,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return y(t)?e.d=t:_(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=_(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,s,r){return _(t)&&(e=t.y,i=t.r,n=t.innerR,s=t.start,r=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:s||0,end:r||0}),t.r=i,t},rect:function(t,e,i,n,s,o){s=_(t)?t.r:s;var a=this.createElement("rect");return t=_(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)},void 0!==o&&(t.strokeWidth=o,t=a.crisp(t)),t.fill="none",s&&(t.r=s),a.rSetter=function(t,e,i){r(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(i,!0)?void 0:0});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,s){var r={preserveAspectRatio:"none"};return 1<arguments.length&&g(r,{x:e,y:i,width:n,height:s}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r},symbol:function(t,e,i,n,s,r){var a,u,d,m=this,v=this.symbols[t],b=h(e)&&v&&v(Math.round(e),Math.round(i),n,s,r),y=/^url\((.*?)\)$/;return v?(a=this.path(b),a.attr("fill","none"),g(a,{symbolName:t,x:e,y:i,width:n,height:s}),r&&g(a,r)):y.test(t)&&(u=t.match(y)[1],a=this.image(u),a.imgwidth=E(I[u]&&I[u].width,r&&r.width),a.imgheight=E(I[u]&&I[u].height,r&&r.height),d=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],function(t){a[t+"Setter"]=function(t,e){var i={},n=this["img"+e],s="width"===e?"translateX":"translateY";this[e]=t,h(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[s]=((this[e]||0)-n)/2,this.attr(i)))}}),h(e)&&a.attr({x:e,y:i}),a.isImg=!0,h(a.imgwidth)&&h(a.imgheight)?d():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=o[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),I[u]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&t&&t.onload&&t.onload()},src:u}),this.imgCount++)),a},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var r=s.start;i=s.r||i||n;var o=s.end-.001;n=s.innerR;var a=s.open,l=Math.cos(r),c=Math.sin(r),h=Math.cos(o),o=Math.sin(o);return s=s.end-r<Math.PI?0:1,["M",t+i*l,e+i*c,"A",i,i,0,s,1,t+i*h,e+i*o,a?"M":"L",t+n*h,e+n*o,"A",n,n,0,s,0,t+n*l,e+n*c,a?"":"Z"]},callout:function(t,e,i,n,s){var r=Math.min(s&&s.r||0,i,n),o=r+6,a=s&&s.anchorX;s=s&&s.anchorY;var l;return l=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e],a&&a>i?s>e+o&&s<e+n-o?l.splice(13,3,"L",t+i,s-6,t+i+6,s,t+i,s+6,t+i,e+n-r):l.splice(13,3,"L",t+i,n/2,a,s,t+i,n/2,t+i,e+n-r):a&&0>a?s>e+o&&s<e+n-o?l.splice(33,3,"L",t,s+6,t-6,s,t,s-6,t,e+r):l.splice(33,3,"L",t,n/2,a,s,t,n/2,t,e+r):s&&s>n&&a>t+o&&a<t+i-o?l.splice(23,3,"L",a+6,e+n,a,e+n+6,a-6,e+n,t+r,e+n):s&&0>s&&a>t+o&&a<t+i-o&&l.splice(3,3,"L",a-6,e,a,e-6,a+6,e,i-r,e),l}},clipRect:function(e,i,n,s){var r=t.uniqueKey(),o=this.createElement("clipPath").attr({id:r}).add(this.defs);return e=this.rect(e,i,n,s,0).add(o),e.id=r,e.clipPath=o,e.count=0,e},text:function(t,e,i,n){var s=!D&&this.forExport,r={};return!n||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),i&&(r.y=Math.round(i)),(t||0===t)&&(r.text=t),t=this.createElement("text").attr(r),s&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,s,r=i.getElementsByTagName("tspan"),o=i.getAttribute(e);for(s=0;s<r.length;s++)n=r[s],n.getAttribute(e)===o&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?O(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:n}},label:function(t,i,n,s,r,o,a,l,c){var u,d,p,m,v,b,y,x,w,_,k,C,S,E=this,O=E.g("button"!==c&&"label"),M=O.text=E.text("",0,0,a).attr({zIndex:1}),D=0,A=3,I=0,N={},j=/^url\((.*?)\)$/.test(s),L=j;c&&O.addClass("highcharts-"+c),L=j,_=function(){return(x||0)%2/2},k=function(){var t=M.element.style,e={};d=(void 0===p||void 0===m||y)&&h(M.textStr)&&M.getBBox(),O.width=(p||d.width||0)+2*A+I,O.height=(m||d.height||0)+2*A,w=A+E.fontMetrics(t&&t.fontSize,M).b,L&&(u||(O.box=u=E.symbols[s]||j?E.symbol(s):E.rect(),u.addClass(("button"===c?"":"highcharts-label-box")+(c?" highcharts-"+c+"-box":"")),u.add(O),t=_(),e.x=t,e.y=(l?-w:0)+t),e.width=Math.round(O.width),e.height=Math.round(O.height),u.attr(g(e,N)),N={})},C=function(){var t,e=I+A;t=l?0:w,h(p)&&d&&("center"===y||"right"===y)&&(e+={center:.5,right:1}[y]*(p-d.width)),e===M.x&&t===M.y||(M.attr("x",e),void 0!==t&&M.attr("y",t)),M.x=e,M.y=t},S=function(t,e){u?u.attr(t,e):N[t]=e},O.onAdd=function(){M.add(O),O.attr({text:t||0===t?t:"",x:i,y:n}),u&&h(r)&&O.attr({anchorX:r,anchorY:o})},O.widthSetter=function(t){p=t},O.heightSetter=function(t){m=t},O["text-alignSetter"]=function(t){y=t},O.paddingSetter=function(t){h(t)&&t!==A&&(A=O.padding=t,C())},O.paddingLeftSetter=function(t){h(t)&&t!==I&&(I=t,C())},O.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==D&&(D=t,d&&O.attr({x:v}))},O.textSetter=function(t){void 0!==t&&M.textSetter(t),k(),C()},O["stroke-widthSetter"]=function(t,e){t&&(L=!0),x=this["stroke-width"]=t,S(e,t)},O.strokeSetter=O.fillSetter=O.rSetter=function(t,e){"fill"===e&&t&&(L=!0),S(e,t)},O.anchorXSetter=function(t,e){r=t,S(e,Math.round(t)-_()-v)},O.anchorYSetter=function(t,e){o=t,S(e,t-b)},O.xSetter=function(t){O.x=t,D&&(t-=D*((p||d.width)+2*A)),v=Math.round(t),O.attr("translateX",v)},O.ySetter=function(t){b=O.y=Math.round(t),O.attr("translateY",b)};var F=O.css;return g(O,{css:function(t){if(t){var e={};t=T(t),f(O.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),M.css(e)}return F.call(O,t)},getBBox:function(){return{width:d.width+2*A,height:d.height+2*A,x:d.x-A,y:d.y-A}},shadow:function(t){return t&&(k(),u&&u.shadow(t)),O},destroy:function(){P(O.element,"mouseenter"),P(O.element,"mouseleave"),M&&(M=M.destroy()),u&&(u=u.destroy()),e.prototype.destroy.call(O),O=E=k=C=S=null}})}},t.Renderer=i}(t),function(t){var e=t.attr,i=t.createElement,n=t.css,s=t.defined,r=t.each,o=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,h=t.pInt,u=t.SVGRenderer,d=t.win,p=t.wrap;o(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),n(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,o=this.translateY||0,a=this.x||0,l=this.y||0,u=this.textAlign||"left",d={left:0,center:.5,right:1}[u],p=this.styles;if(n(e,{marginLeft:i,marginTop:o}),this.shadows&&r(this.shadows,function(t){n(t,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&r(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var f=this.rotation,g=h(this.textWidth),m=p&&p.whiteSpace,v=[f,u,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,s(f)&&this.setSpanRotation(f,d,p),n(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&n(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,p,d,f,u)),n(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),c&&(p=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var s={},r=l?"-ms-transform":c?"-webkit-transform":a?"MozTransform":d.opera?"-o-transform":"";s[r]=s.transform="rotate("+t+"deg)",s[r+(a?"Origin":"-origin")]=s.transformOrigin=100*e+"% "+i+"px",n(this.element,s)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),o(u.prototype,{html:function(t,n,s){var a=this.createElement("span"),l=a.element,c=a.renderer,h=c.isSVG,u=function(t,e){r(["opacity","visibility"],function(i){p(t,i+"Setter",function(t,i,n,s){t.call(this,i,n,s),e[n]=i})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,a.htmlUpdateTransform()},h&&u(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(n),y:Math.round(s)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,h&&(a.add=function(t){var n,s=c.box.parentNode,h=[];if(this.parentGroup=t){if(!(n=t.div)){for(;t;)h.push(t),t=t.parentGroup;r(h.reverse(),function(t){var r,a=e(t.element,"class");a&&(a={className:a}),n=t.div=t.div||i("div",a,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||s),r=n.style,o(t,{translateXSetter:function(e,i){r.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){r.top=e+"px",t[i]=e,t.doTransform=!0}}),u(t,r)})}}else n=s;return n.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(t),function(t){var e,i,n=t.createElement,s=t.css,r=t.defined,o=t.deg2rad,a=t.discardElement,l=t.doc,c=t.each,h=t.erase,u=t.extend;e=t.extendClass;var d=t.isArray,p=t.isNumber,f=t.isObject,g=t.merge;i=t.noop;var m=t.pick,v=t.pInt,b=t.SVGElement,y=t.SVGRenderer,x=t.win;t.svg||(i={docMode8:l&&8===l.documentMode,init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],s=["position: ","absolute",";"],r="div"===e;("shape"===e||r)&&s.push("left:0;top:0;width:1px;height:1px;"),s.push("visibility: ",r?"hidden":"visible"),i.push(' style="',s.join(""),'"/>'),e&&(i=r||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=n(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,s=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),s&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:b.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*o),i=Math.sin(t*o);s(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,r){var a,l=n?Math.cos(n*o):1,c=n?Math.sin(n*o):0,h=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>c&&-h,a=0>l*c,this.xCorr+=c*e*(a?1-i:i),this.yCorr-=l*e*(n?a?i:1-i:1),r&&"left"!==r&&(this.xCorr-=t*i*(0>l?-1:1),n&&(this.yCorr-=h*i*(0>c?-1:1)),s(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)p(t[e])?i[e]=Math.round(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,h(e,i),e.push(i),i.destroyClip=function(){h(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:i.docMode8?"inherit":"rect(auto)"}),i.css(t)},css:b.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&a(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),b.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=x.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=v(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var s,r,o,a,l,c,h,u=[],d=this.element,p=this.renderer,f=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(c=m(t.width,3),h=(t.opacity||.15)/c,s=1;3>=s;s++)a=2*c+1-2*s,i&&(l=this.cutOffPath(g.value,a+.5)),o=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],r=n(p.prepVML(o),null,{left:v(f.left)+m(t.offsetX,1),top:v(f.top)+m(t.offsetY,1)}),i&&(r.cutOff=a+1),o=['<stroke color="',t.color||"#000000",'" opacity="',h*s,'"/>'],n(p.prepVML(o),null,null,r),e?e.element.appendChild(r):d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}return this},updateShadows:i,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||n(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){n(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:i,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-Math.round(Math.sin(t*o)+1)+"px",i.top=Math.round(Math.cos(t*o))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,p(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&c(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},i["stroke-opacitySetter"]=i["fill-opacitySetter"],t.VMLElement=i=e(b,i),i.prototype.ySetter=i.prototype.widthSetter=i.prototype.heightSetter=i.prototype.xSetter,i={Element:i,isIE8:-1<x.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,i){var n,s;if(this.alignedObjects=[],n=this.createElement("div").css({position:"relative"}),s=n.element,t.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(t){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var s=this.createElement(),r=f(t);return u(s,{members:[],count:0,left:(r?t.x:t)+1,top:(r?t.y:e)+1,width:(r?t.width:i)-1,height:(r?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n=t.inverted,s=this.top-("shape"===i?e.offsetTop:0),r=this.left,e=r+this.width,o=s+this.height,s={clip:"rect("+Math.round(n?r:s)+"px,"+Math.round(n?o:e)+"px,"+Math.round(n?e:o)+"px,"+Math.round(n?s:r)+"px)"};return!n&&t.docMode8&&"DIV"===i&&u(s,{width:e+"px",height:o+"px"}),s},updateClipping:function(){c(s.members,function(t){t.element&&t.css(s.getCSS(t))})}})},color:function(e,i,s,r){var o,a,l,h=this,u=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var p,f,g,m,v,b,y,x=e.linearGradient||e.radialGradient,w="";e=e.stops;var _,k=[],C=function(){a=['<fill colors="'+k.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',w,'focus="100%" method="any" />'],n(h.prepVML(a),null,null,i)};if(g=e[0],_=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>_[0]&&e.push([1,_[1]]),c(e,function(e,i){u.test(e[1])?(o=t.color(e[1]),p=o.get("rgb"),f=o.get("a")):(p=e[1],f=1),k.push(100*e[0]+"% "+p),i?(v=f,b=p):(m=f,y=p)}),"fill"===s)if("gradient"===l)s=x.x1||x[0]||0,e=x.y1||x[1]||0,g=x.x2||x[2]||0,x=x.y2||x[3]||0,w='angle="'+(90-180*Math.atan((x-e)/(g-s))/Math.PI)+'"',C();else{var T,d=x.r,S=2*d,E=2*d,O=x.cx,P=x.cy,M=i.radialReference,d=function(){M&&(T=r.getBBox(),O+=(M[0]-T.x)/T.width-.5,P+=(M[1]-T.y)/T.height-.5,S*=M[2]/T.width,E*=M[2]/T.height),w='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+S+","+E+'" origin="0.5,0.5" position="'+O+","+P+'" color2="'+y+'" ',C()};r.added?d():r.onAdd=d,d=b}else d=p}else u.test(e)&&"IMG"!==i.tagName?(o=t.color(e),r[s+"-opacitySetter"](o.get("a"),s,i),d=o.get("rgb")):(d=i.getElementsByTagName(s),d.length&&(d[0].opacity=1,d[0].type="solid"),d=e);return d},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:y.prototype.html,path:function(t){var e={coordsize:"10 10"};return d(t)?e.d=t:f(t)&&u(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return f(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,i,n,s){var r=this.createElement("img").attr({src:t});return 1<arguments.length&&r.attr({x:e,y:i,width:n,height:s}),r},createElement:function(t){return"rect"===t?this.symbol(t):y.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this;e=e.style;var n="IMG"===t.tagName&&t.style;s(t,{flip:"x",left:v(e.width)-(n?v(n.top):1),top:v(e.height)-(n?v(n.left):1),rotation:-90}),c(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,s){var r=s.start,o=s.end,a=s.r||i||n;i=s.innerR,n=Math.cos(r);var l=Math.sin(r),c=Math.cos(o),h=Math.sin(o);return 0==o-r?["x"]:(r=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*l,t+a*c,e+a*h],s.open&&!i&&r.push("e","M",t,e),r.push("at",t-i,e-i,t+i,e+i,t+i*c,e+i*h,t+i*n,e+i*l,"x","e"),r.isArc=!0,r)},circle:function(t,e,i,n,s){return s&&r(s.r)&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){return y.prototype.symbols[r(s)&&s.r?"callout":"square"].call(0,t,e,i,n,s)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(y.prototype,i),t.Renderer=e),y.prototype.measureSpanWidth=function(t,e){var i=l.createElement("span");return t=l.createTextNode(t),i.appendChild(t),s(i,e),this.box.appendChild(i),e=i.offsetWidth,a(i),e}}(t),function(t){function e(){var e,i=t.defaultOptions.global,r=i.useUTC,l=r?"getUTC":"get",c=r?"setUTC":"set";t.Date=e=i.Date||a.Date,e.hcTimezoneOffset=r&&i.timezoneOffset,e.hcGetTimezoneOffset=r&&i.getTimezoneOffset,e.hcMakeTime=function(t,i,n,a,l,c){var h;return r?(h=e.UTC.apply(0,arguments),h+=s(h)):h=new e(t,i,o(n,1),o(a,0),o(l,0),o(c,0)).getTime(),h},n("Minutes Hours Day Date Month FullYear".split(" "),function(t){e["hcGet"+t]=l+t}),n("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){e["hcSet"+t]=c+t})}var i=t.color,n=t.each,s=t.getTZOffset,r=t.merge,o=t.pick,a=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.3/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#666666"},widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(i){return t.defaultOptions=r(!0,t.defaultOptions,i),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.defined,s=t.destroyObjectProperties,r=t.each,o=t.erase,a=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,s=i.horiz,r=e.options,o=r.label,c=e.label,h=r.to,u=r.from,d=r.value,p=n(u)&&n(h),f=n(d),g=e.svgElem,m=!g,v=[],b=r.color,y=l(r.zIndex,0),x=r.events,v={"class":"highcharts-plot-"+(p?"band ":"line ")+(r.className||"")},w={},_=i.chart.renderer,k=p?"bands":"lines",C=i.log2lin;if(i.isLog&&(u=C(u),h=C(h),d=C(d)),f?(v={stroke:b,"stroke-width":r.width},r.dashStyle&&(v.dashstyle=r.dashStyle)):p&&(b&&(v.fill=b),r.borderWidth&&(v.stroke=r.borderColor,v["stroke-width"]=r.borderWidth)),w.zIndex=y,k+="-"+y,(b=i[k])||(i[k]=b=_.g("plot-"+k).attr(w).add()),m&&(e.svgElem=g=_.path().attr(v).add(b)),f)v=i.getPlotLinePath(d,g.strokeWidth());else{if(!p)return;v=i.getPlotBandPath(u,h,r)}if(m&&v&&v.length){if(g.attr({d:v}),x)for(t in r=function(t){g.on(t,function(i){x[t].apply(e,[i])})},x)r(t)}else g&&(v?(g.show(),g.animate({d:v})):(g.hide(),c&&(e.label=c=c.destroy())));return o&&n(o.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(o=a({align:s&&p&&"center",x:s?!p&&4:10,verticalAlign:!s&&p&&"middle",y:s?p?16:10:p?6:-4,rotation:s&&!p&&90},o),this.renderLabel(o,v,p,y)):c&&c.hide(),e},renderLabel:function(t,n,s,r){var o=this.label,a=this.axis.chart.renderer;o||(o={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(s?"band":"line")+"-label "+(t.className||"")},o.zIndex=r,this.label=o=a.text(t.text,0,0,t.useHTML).attr(o).add(),o.css(t.style)),r=[n[1],n[4],s?n[6]:n[1]],n=[n[2],n[5],s?n[7]:n[2]],s=i(r),a=i(n),o.align(t,!1,{x:s,y:a,width:e(r)-s,height:e(n)-a}),o.show()},destroy:function(){o(this.axis.plotLinesAndBands,this),delete this.axis,s(this)}},t.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){return e=this.getPlotLinePath(e,null,null,!0),(t=this.getPlotLinePath(t,null,null,!0))&&e?(t.flat=t.toString()===e.toString(),t.push(e[4],e[5],e[1],e[2],"z")):t=null,t},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),s=this.userOptions;return n&&(i&&(s[i]=s[i]||[],s[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();r([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&o(e,e[s])})}}}(t),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,s=t.isNumber,r=t.merge,o=t.pick,a=t.stop,l=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n=this.axis,s=n.options,a=n.chart,l=n.categories,c=n.names,h=this.pos,u=s.labels,d=n.tickPositions,p=h===d[0],f=h===d[d.length-1],c=l?o(l[h],c[h],h):h,l=this.label,d=d.info;n.isDatetimeAxis&&d&&(t=s.dateTimeLabelFormats[d.higherRanks[h]||d.unitName]),this.isFirst=p,this.isLast=f,s=n.labelFormatter.call({axis:n,chart:a,isFirst:p,isLast:f,dateTimeLabelFormat:t,value:n.isLog?e(n.lin2log(c)):c}),i(l)?l&&l.attr({text:s}):(this.labelLength=(this.label=l=i(s)&&u.enabled?a.renderer.text(s,0,0,u.useHTML).css(r(u.style)).add(n.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,s=i.chart.chartWidth,r=i.chart.spacing,a=o(i.labelLeft,Math.min(i.pos,r[3])),r=o(i.labelRight,Math.max(i.pos+i.len,s-r[1])),c=this.label,h=this.rotation,u={left:0,center:.5,right:1}[i.labelAlign],d=c.getBBox().width,p=i.getSlotWidth(),f=p,g=1,m={};h?0>h&&n-u*d<a?e=Math.round(n/Math.cos(h*l)-a):0<h&&n+u*d>r&&(e=Math.round((s-n)/Math.cos(h*l))):(s=n+(1-u)*d,n-u*d<a?f=t.x+f*(1-u)-a:s>r&&(f=r-t.x+f*u,g=-1),f=Math.min(p,f),f<p&&"center"===i.labelAlign&&(t.x+=g*(p-f-u*(p-Math.min(d,f)))),(d>f||i.autoRotation&&(c.styles||{}).width)&&(e=f)),e&&(m.width=e,(i.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),c.css(m))},getPosition:function(t,e,i,n){var s=this.axis,r=s.chart,o=n&&r.oldChartHeight||r.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:t?o-s.bottom+s.offset-(s.opposite?s.height:0):o-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,n,s,r,o,a,c){var h=this.axis,u=h.transA,d=h.reversed,p=h.staggerLines,f=h.tickRotCorr||{x:0,y:0},g=r.y;return i(g)||(g=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?f.y+8:Math.cos(n.rotation*l)*(f.y-n.getBBox(!1,0).height/2)),t=t+r.x+f.x-(o&&s?o*u*(d?-1:1):0),e=e+g-(o&&!s?o*u*(d?1:-1):0),p&&(n=a/(c||1)%p,h.opposite&&(n=p-n-1),e+=h.labelOffset/p*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,s,r){return r.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,r=n.options,l=n.chart.renderer,c=n.horiz,h=this.type,u=this.label,d=this.pos,p=r.labels,f=this.gridLine,g=h?h+"Tick":"tick",m=n.tickSize(g),v=this.mark,b=!v,y=p.step,x={},w=!0,_=n.tickmarkOffset,k=this.getPosition(c,d,_,e),C=k.x,k=k.y,T=c&&C===n.pos+n.len||!c&&k===n.pos?-1:1,S=h?h+"Grid":"grid",E=r[S+"LineWidth"],O=r[S+"LineColor"],P=r[S+"LineDashStyle"],S=o(r[g+"Width"],!h&&n.isXAxis?1:0),g=r[g+"Color"];i=o(i,1),this.isActive=!0,f||(x.stroke=O,x["stroke-width"]=E,P&&(x.dashstyle=P),h||(x.zIndex=1),e&&(x.opacity=0),this.gridLine=f=l.path().attr(x).addClass("highcharts-"+(h?h+"-":"")+"grid-line").add(n.gridGroup)),!e&&f&&(d=n.getPlotLinePath(d+_,f.strokeWidth()*T,e,!0))&&f[this.isNew?"attr":"animate"]({d:d,opacity:i}),m&&(n.opposite&&(m[0]=-m[0]),b&&(this.mark=v=l.path().addClass("highcharts-"+(h?h+"-":"")+"tick").add(n.axisGroup),v.attr({stroke:g,"stroke-width":S})),v[b?"attr":"animate"]({d:this.getMarkPath(C,k,m[0],v.strokeWidth()*T,c,l),opacity:i})),u&&s(C)&&(u.xy=k=this.getLabelPosition(C,k,u,c,p,_,t,y),this.isFirst&&!this.isLast&&!o(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!o(r.showLastLabel,1)?w=!1:!c||n.isRadial||p.step||p.rotation||e||0===i||this.handleOverflow(k),y&&t%y&&(w=!1),w&&s(k.y)?(k.opacity=i,u[this.isNew?"attr":"animate"](k)):(a(u),u.attr("y",-9999)),this.isNew=!1)},destroy:function(){n(this,this.axis)}}}(t),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,s=t.arrayMin,r=t.AxisPlotLineOrBandExtension,o=t.color,a=t.correctFloat,l=t.defaultOptions,c=t.defined,h=t.deg2rad,u=t.destroyObjectProperties,d=t.each,p=t.error,f=t.extend,g=t.fireEvent,m=t.format,v=t.getMagnitude,b=t.grep,y=t.inArray,x=t.isArray,w=t.isNumber,_=t.isString,k=t.merge,C=t.normalizeTickInterval,T=t.pick,S=t.PlotLineOrBand,E=t.removeEvent,O=t.splat,P=t.syncTimeout,M=t.Tick;t.Axis=function(){this.init.apply(this,arguments)},t.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{
fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX;this.chart=t,this.horiz=t.inverted?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),this.opposite=i.opposite,this.side=i.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(i);var s=this.options,r=s.type;this.labelFormatter=s.labels.formatter||this.defaultLabelFormatter,this.userOptions=i,this.minPixelPadding=0,this.reversed=s.reversed,this.visible=!1!==s.visible,this.zoomEnabled=!1!==s.zoomEnabled,this.hasNames="category"===r||!0===s.categories,this.categories=s.categories||this.hasNames,this.names=this.names||[],this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=c(s.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=T(s.crosshair,O(t.options.tooltip.crosshairs)[n?0:1],!1);var o;i=this.options.events,-1===y(this,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&n&&void 0===this.reversed&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)e(this,o,i[o]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=k(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],k(l[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,n=this.value,s=i.categories,r=this.dateTimeLabelFormat,o=l.lang,a=o.numericSymbols,o=o.numericSymbolMagnitude||1e3,c=a&&a.length,h=i.options.labels.format,i=i.isLog?n:i.tickInterval;if(h)e=m(h,this);else if(s)e=n;else if(r)e=t.dateFormat(r,n);else if(c&&1e3<=i)for(;c--&&void 0===e;)s=Math.pow(o,c+1),i>=s&&0==10*n%s&&null!==a[c]&&0!==n&&(e=t.numberFormat(n/s,-1)+a[c]);return void 0===e&&(e=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var r,o=i.options,a=o.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(o=i.xData,o.length&&(i=s(o),w(i)||i instanceof Date||(o=b(o,function(t){return w(t)}),i=s(o)),t.dataMin=Math.min(T(t.dataMin,o[0]),i),t.dataMax=Math.max(T(t.dataMax,o[0]),n(o)))):(i.getExtremes(),r=i.dataMax,i=i.dataMin,c(i)&&c(r)&&(t.dataMin=Math.min(T(t.dataMin,i),i),t.dataMax=Math.max(T(t.dataMax,r),r)),c(a)&&(t.threshold=a),(!o.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,i,n,s,r){var o=this.linkedParent||this,a=1,l=0,c=n?o.oldTransA:o.transA;n=n?o.oldMin:o.min;var h=o.minPixelPadding;return s=(o.isOrdinal||o.isBroken||o.isLog&&s)&&o.lin2val,c||(c=o.transA),i&&(a*=-1,l=o.len),o.reversed&&(a*=-1,l-=a*(o.sector||o.len)),e?(t=(t*a+l-h)/c+n,s&&(t=o.lin2val(t))):(s&&(t=o.val2lin(t)),t=a*(t-n)*c+l+a*h+(w(r)?c*r:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var r,o,a,l=this.chart,c=this.left,h=this.top,u=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;r=this.transB;var p=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):a=!0),t};return s=T(s,this.translate(t,null,null,i)),t=i=Math.round(s+r),r=o=Math.round(u-s-r),w(s)?this.horiz?(r=h,o=u-this.bottom,t=i=p(t,c,c+this.width)):(t=c,i=d-this.right,r=o=p(r,h,h+this.height)):a=!0,a&&!n?null:l.renderer.crispLine(["M",t,r,"L",i,o],e||1)},getLinearTickPositions:function(t,e,i){var n,s=a(Math.floor(e/t)*t),r=a(Math.ceil(i/t)*t),o=[];if(e===i&&w(e))return[e];for(e=s;e<=r&&(o.push(e),(e=a(e+t))!==n);)n=e;return o},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[],r=this.pointRangePadding||0;t=this.min-r;var r=this.max+r,o=r-t;if(o&&o/n<this.len/3)if(this.isLog)for(r=i.length,t=1;t<r;t++)s=s.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)s=s.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,r,e.startOfWeek));else for(i=t+(i[0]-t)%n;i<=r&&i!==s[0];i+=n)s.push(i);return 0!==s.length&&this.trimTicks(s,e.startOnTick,e.endOnTick),s},adjustForMinRange:function(){var t,e,i,r,o,a,l,h=this.options,u=this.min,p=this.max,f=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(c(h.min)||c(h.max)?this.minRange=null:(d(this.series,function(t){for(o=t.xData,i=a=t.xIncrement?1:o.length-1;0<i;i--)r=o[i]-o[i-1],(void 0===e||r<e)&&(e=r)}),this.minRange=Math.min(5*e,this.dataMax-this.dataMin))),p-u<this.minRange&&(l=this.minRange,t=(l-p+u)/2,t=[u-t,T(h.min,u-t)],f&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),u=n(t),p=[u+l,T(h.max,u+l)],f&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(p=s(p))-u<l&&(t[0]=p-l,t[1]=T(h.min,p-l),u=n(t))),this.min=u,this.max=p},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&c(i)&&n&&(t=c(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=x(this.categories),n=i?this.categories:this.names,s=t.options.x;return t.series.requireSorting=!1,c(s)||(s=!1===this.options.uniqueNames?t.series.autoIncrement():y(t.name,n)),-1===s?i||(e=n.length):e=s,this.names[e]=t.name,e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=void 0,d(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(i,n){var s;i.options&&void 0===i.options.x&&(s=t.nameToX(i))!==i.x&&(i.x=s,e.xData[n]=s)})}))},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,s=i.axisPointRange||0,r=0,o=0,a=i.linkedParent,l=!!i.categories,c=i.transA,h=i.isXAxis;(h||l||s)&&(a?(r=a.minPointOffset,o=a.pointRangePadding):(e=i.getClosest(),d(i.series,function(t){var n=l?1:h?T(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,s=Math.max(s,n),i.single||(r=Math.max(r,_(t)?0:n/2),o=Math.max(o,"on"===t?0:n))})),a=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=r*=a,i.pointRangePadding=o*=a,i.pointRange=Math.min(s,n),h&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(n+o||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*r},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,n,s,r=this,o=r.chart,l=r.options,h=r.isLog,u=r.log2lin,f=r.isDatetimeAxis,m=r.isXAxis,b=r.isLinked,y=l.maxPadding,x=l.minPadding,_=l.tickInterval,k=l.tickPixelInterval,S=r.categories,E=r.threshold,O=r.softThreshold;f||S||b||this.getTickAmount(),n=T(r.userMin,l.min),s=T(r.userMax,l.max),b?(r.linkedParent=o[r.coll][l.linkedTo],o=r.linkedParent.getExtremes(),r.min=T(o.min,o.dataMin),r.max=T(o.max,o.dataMax),l.type!==r.linkedParent.options.type&&p(11,1)):(!O&&c(E)&&(r.dataMin>=E?(e=E,x=0):r.dataMax<=E&&(i=E,y=0)),r.min=T(n,e,r.dataMin),r.max=T(s,i,r.dataMax)),h&&(!t&&0>=Math.min(r.min,T(r.dataMin,r.min))&&p(10,1),r.min=a(u(r.min),15),r.max=a(u(r.max),15)),r.range&&c(r.max)&&(r.userMin=r.min=n=Math.max(r.min,r.minFromRange()),r.userMax=s=r.max,r.range=null),g(r,"foundExtremes"),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),!(S||r.axisPointRange||r.usePercentage||b)&&c(r.min)&&c(r.max)&&(u=r.max-r.min)&&(!c(n)&&x&&(r.min-=u*x),!c(s)&&y&&(r.max+=u*y)),w(l.floor)?r.min=Math.max(r.min,l.floor):w(l.softMin)&&(r.min=Math.min(r.min,l.softMin)),w(l.ceiling)?r.max=Math.min(r.max,l.ceiling):w(l.softMax)&&(r.max=Math.max(r.max,l.softMax)),O&&c(r.dataMin)&&(E=E||0,!c(n)&&r.min<E&&r.dataMin>=E?r.min=E:!c(s)&&r.max>E&&r.dataMax<=E&&(r.max=E)),r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:b&&!_&&k===r.linkedParent.options.tickPixelInterval?_=r.linkedParent.tickInterval:T(_,this.tickAmount?(r.max-r.min)/Math.max(this.tickAmount-1,1):void 0,S?1:(r.max-r.min)*k/Math.max(r.len,k)),m&&!t&&d(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!_&&(r.tickInterval=Math.max(r.pointRange,r.tickInterval)),t=T(l.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!_&&r.tickInterval<t&&(r.tickInterval=t),f||h||_||(r.tickInterval=C(r.tickInterval,null,v(r.tickInterval),T(l.allowDecimals,!(.5<r.tickInterval&&5>r.tickInterval&&1e3<r.max&&9999>r.max)),!!this.tickAmount)),this.tickAmount||(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,s=i.tickPositioner,r=i.startOnTick,o=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.isLinked||(this.trimTicks(t,r,o),this.min===this.max&&c(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,n||s||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],s=t[t.length-1],r=this.minPointOffset||0;if(e)this.min=n;else for(;this.min-r>t[0];)t.shift();if(i)this.max=s;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&c(n)&&t.push((s+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return!1!==this.chart.options.chart.alignTicks&&!1!==i.alignTicks&&d(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join();i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!c(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,s=e&&e.length;if(s<i){for(;e.length<i;)e.push(a(e[e.length-1]+t));this.transA*=(s-1)/(i-1),this.max=e[e.length-1]}else s>i&&(this.tickInterval*=2,this.setTickPositions());if(c(n)){for(t=i=e.length;t--;)(3===n&&1==t%2||2>=n&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,s){var r=this,o=r.chart;i=T(i,!0),d(r.series,function(t){delete t.kdTree}),s=f(s,{min:t,max:e}),g(r,"setExtremes",s,function(){r.userMin=t,r.userMax=e,r.eventArgs=s,i&&o.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options,r=Math.min(i,T(s.min,i)),s=Math.max(n,T(s.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(c(i)&&t<=r&&(t=r),c(n)&&e>=s&&(e=s)),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,s=T(e.width,t.plotWidth-i+(e.offsetRight||0)),r=T(e.height,t.plotHeight),o=T(e.top,t.plotTop),e=T(e.left,t.plotLeft+i),i=/%$/;i.test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight)),i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=o,this.width=s,this.height=r,this.bottom=t.chartHeight-r-o,this.right=t.chartWidth-s-e,this.len=Math.max(n?s:r,0),this.pos=n?e:o},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?a(e(this.min)):this.min,max:t?a(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(T(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=T(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,n=this.options.labels,s=this.horiz,r=this.tickInterval,o=r,a=this.len/(((this.categories?1:0)+this.max-this.min)/r),l=n.rotation,u=this.labelMetrics(),p=Number.MAX_VALUE,f=function(t){return t/=a||1,(t=1<t?Math.ceil(t):1)*r};return s?(i=!n.staggerLines&&!n.step&&(c(l)?[l]:a<T(n.autoRotationLimit,80)&&n.autoRotation))&&d(i,function(i){var n;(i===l||i&&-90<=i&&90>=i)&&(e=f(Math.abs(u.h/Math.sin(h*i))),(n=e+Math.abs(i/360))<p&&(p=n,t=i,o=e))}):n.step||(o=f(u.h)),this.autoRotation=i,this.labelRotation=T(t,l),o},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),s=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/n||!e&&(s&&s-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,s=n.renderer,r=this.tickPositions,o=this.ticks,a=this.options.labels,l=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(a.padding||5))),u={},p=this.labelMetrics(),f=a.style&&a.style.textOverflow,g=0;if(_(a.rotation)||(u.rotation=a.rotation||0),d(r,function(t){(t=o[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>p.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t={width:h+"px"},!f))for(t.textOverflow="clip",e=r.length;!l&&e--;)i=r[e],(h=o[i].label)&&(h.styles&&"ellipsis"===h.styles.textOverflow?h.css({textOverflow:"clip"}):o[i].labelLength>c&&h.css({width:c+"px"}),h.getBBox().height>this.len/r.length-(p.h-p.f)&&(h.specCss={textOverflow:"ellipsis"}));u.rotation&&(t={width:(g>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},f||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(u.align=this.labelAlign),d(r,function(e){var i=(e=o[e])&&e.label;i&&(i.attr(u),t&&i.css(k(t,i.specCss)),delete i.specCss,e.rotation=u.rotation)}),this.tickRotCorr=s.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,s=this,r=s.chart,o=r.renderer,a=s.options,l=s.tickPositions,h=s.ticks,u=s.horiz,p=s.side,f=r.inverted?[1,0,3,2][p]:p,g=0,m=0,v=a.title,b=a.labels,y=0,x=s.opposite,w=r.axisOffset,r=r.clipOffset,_=[-1,1,1,-1][p],k=a.className,C=s.axisParent,S=this.tickSize("tick");if(t=s.hasData(),s.showAxis=e=t||T(a.showEmpty,!0),s.staggerLines=s.horiz&&b.staggerLines,s.axisGroup||(s.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(k||"")).add(C),s.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(k||"")).add(C),s.labelGroup=o.g("axis-labels").attr({zIndex:b.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels "+(k||"")).add(C)),t||s.isLinked)d(l,function(t){h[t]?h[t].addLabel():h[t]=new M(s,t)}),s.renderUnsquish(),!1===b.reserveSpace||0!==p&&2!==p&&{1:"left",3:"right"}[p]!==s.labelAlign&&"center"!==s.labelAlign||d(l,function(t){y=Math.max(h[t].getLabelSize(),y)}),s.staggerLines&&(y*=s.staggerLines,s.labelOffset=y*(s.opposite?-1:1));else for(n in h)h[n].destroy(),delete h[n];v&&v.text&&!1!==v.enabled&&(s.axisTitle||((n=v.textAlign)||(n=(u?{low:"left",middle:"center",high:"right"}:{low:x?"right":"left",middle:"center",high:x?"left":"right"})[v.align]),s.axisTitle=o.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:n}).addClass("highcharts-axis-title").css(v.style).add(s.axisGroup),s.axisTitle.isNew=!0),e&&(g=s.axisTitle.getBBox()[u?"height":"width"],i=v.offset,m=c(i)?0:T(v.margin,u?5:10)),s.axisTitle[e?"show":"hide"](!0)),s.renderLine(),s.offset=_*T(a.offset,w[p]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},o=0===p?-s.labelMetrics().h:2===p?s.tickRotCorr.y:0,m=Math.abs(y)+m,y&&(m=m-o+_*(u?T(b.y,s.tickRotCorr.y+8*_):b.x)),s.axisTitleMargin=T(i,m),w[p]=Math.max(w[p],s.axisTitleMargin+g+_*s.offset,m,t&&l.length&&S?S[0]:0),a=a.offset?0:2*Math.floor(s.axisLine.strokeWidth()/2),r[f]=Math.max(r[f],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,r=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:r,s?n:this.top,"L",s?e.chartWidth-this.right:r,s?n:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,s=this.options.title,r=t?e:i,o=this.opposite,a=this.offset,l=s.x||0,c=s.y||0,h=this.chart.renderer.fontMetrics(s.style&&s.style.fontSize,this.axisTitle).f,n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[s.align],e=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?n+l:e+(o?this.width:0)+a+l,y:t?e+c-(o?this.height:0)+a:n+c}},render:function(){var t,e,n=this,s=n.chart,r=s.renderer,o=n.options,a=n.isLog,l=n.lin2log,c=n.isLinked,h=n.tickPositions,u=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=o.stackLabels,v=o.alternateGridColor,b=n.tickmarkOffset,y=n.axisLine,x=s.hasRendered&&w(n.oldMin),_=n.showAxis,k=i(r.globalAnimation);n.labelEdge.length=0,n.overlap=!1,d([p,f,g],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||c)&&(n.minorTickInterval&&!n.categories&&d(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new M(n,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),h.length&&(d(h,function(t,e){(!c||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new M(n,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),b&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new M(n,-1,null,!0)),p[-1].render(-1))),v&&d(h,function(i,r){e=void 0!==h[r+1]?h[r+1]+b:n.max-b,0==r%2&&i<n.max&&e<=n.max+(s.polar?-b:b)&&(g[i]||(g[i]=new S(n)),t=i+b,g[i].options={from:a?l(t):t,to:a?l(e):e,color:v},g[i].render(),g[i].isActive=!0)}),n._addedPlotLB||(d((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),d([p,f,g],function(t){var e,i,n=[],r=k.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));P(function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])},t!==g&&s.hasRendered&&r?r:0)}),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[_?"show":"hide"](!0)),u&&_&&(u[u.isNew?"attr":"animate"](n.getTitlePosition()),u.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i,n=this,s=n.stacks,r=n.plotLinesAndBands;t||E(n);for(e in s)u(s[e]),s[e]=null;if(d([n.ticks,n.minorTicks,n.alternateBands],function(t){u(t)}),r)for(t=r.length;t--;)r[t].destroy();d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())});for(i in n)n.hasOwnProperty(i)&&-1===y(i,n.keepProps)&&delete n[i]},drawCrosshair:function(t,e){var i,n,s=this.crosshair,r=T(s.snap,!0),a=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(c(e)||!r)?(r?c(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),c(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:T(e.stackY,e.y)),null,null,null,n)||null),c(i)?(e=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+s.className).attr({zIndex:T(s.zIndex,2)}).add(),a.attr({stroke:s.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":T(s.width,1)}),s.dashStyle&&a.attr({dashstyle:s.dashStyle})),a.show().attr({d:i}),e&&!s.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},f(t.Axis.prototype,r)}(t),function(t){var e=t.Axis,i=t.Date,n=t.dateFormat,s=t.defaultOptions,r=t.defined,o=t.each,a=t.extend,l=t.getMagnitude,c=t.getTZOffset,h=t.normalizeTickInterval,u=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,h){var p,f,g=[],m={},v=s.global.useUTC,b=new i(e-c(e)),y=i.hcMakeTime,x=t.unitRange,w=t.count;if(r(e)){b[i.hcSetMilliseconds](x>=d.second?0:w*Math.floor(b.getMilliseconds()/w)),x>=d.second&&b[i.hcSetSeconds](x>=d.minute?0:w*Math.floor(b.getSeconds()/w)),x>=d.minute&&b[i.hcSetMinutes](x>=d.hour?0:w*Math.floor(b[i.hcGetMinutes]()/w)),x>=d.hour&&b[i.hcSetHours](x>=d.day?0:w*Math.floor(b[i.hcGetHours]()/w)),x>=d.day&&b[i.hcSetDate](x>=d.month?1:w*Math.floor(b[i.hcGetDate]()/w)),x>=d.month&&(b[i.hcSetMonth](x>=d.year?0:w*Math.floor(b[i.hcGetMonth]()/w)),p=b[i.hcGetFullYear]()),x>=d.year&&b[i.hcSetFullYear](p-p%w),x===d.week&&b[i.hcSetDate](b[i.hcGetDate]()-b[i.hcGetDay]()+u(h,1)),p=b[i.hcGetFullYear](),h=b[i.hcGetMonth]();var _=b[i.hcGetDate](),k=b[i.hcGetHours]();for((i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(f=(!v||!!i.hcGetTimezoneOffset)&&(l-e>4*d.month||c(e)!==c(l)),b=b.getTime(),b=new i(b+c(b))),v=b.getTime(),e=1;v<l;)g.push(v),v=x===d.year?y(p+e*w,0):x===d.month?y(p,h+e*w):!f||x!==d.day&&x!==d.week?f&&x===d.hour?y(p,h,_,k+e*w):v+x*w:y(p,h,_+e*w*(x===d.day?1:7)),e++;g.push(v),x<=d.hour&&o(g,function(t){"000000000"===n("%H%M%S%L",t)&&(m[t]="day")})}return g.info=a(t,{higherRanks:m,totalRange:x*w}),g},e.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var n,s=d[e[0]],r=e[1];for(n=0;n<i.length&&(e=i[n],s=d[e[0]],r=e[1],!(i[n+1]&&t<=(s*r[r.length-1]+d[i[n+1][0]])/2));n++);return s===d.year&&t<5*s&&(r=[1,2,5]),t=h(t/s,r,"year"===e[0]?Math.max(l(t/s),1):1),{unitRange:s,count:t,unitName:e[0]}}}(t),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,s=t.normalizeTickInterval,r=t.pick;e.prototype.getLogTickPositions=function(t,e,o,a){var l=this.options,c=this.len,h=this.lin2log,u=this.log2lin,d=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,o);else if(.08<=t)for(var p,f,g,m,v,c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<o+1&&!v;c++)for(f=l.length,p=0;p<f&&!v;p++)g=u(h(c)*l[p]),g>e&&(!a||m<=o)&&void 0!==m&&d.push(m),m>o&&(v=!0),m=g;else e=h(e),o=h(o),t=l[a?"minorTickInterval":"tickInterval"],t=r("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(o-e)/((a?c/this.tickPositions.length:c)||1)),t=s(t,null,i(t)),d=n(this.getLinearTickPositions(t,e,o),u),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t){var e=t.dateFormat,i=t.each,n=t.extend,s=t.format,r=t.isNumber,o=t.map,a=t.merge,l=t.pick,c=t.splat,h=t.stop,u=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,s){var r=this,o=r.now,a=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-o.x)||1<Math.abs(e-o.y)),l=r.followPointer||1<r.len;n(o,{x:a?(2*o.x+t)/3:t,y:a?(o.y+e)/2:e,anchorX:l?void 0:a?(2*o.anchorX+i)/3:i,anchorY:l?void 0:a?(o.anchorY+s)/2:s}),r.getLabel().attr(o),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,i,s)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,s,r,a=this.chart,l=a.inverted,h=a.plotTop,u=a.plotLeft,d=0,p=0;return t=c(t),n=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-h]),n||(i(t,function(t){s=t.series.yAxis,r=t.series.xAxis,d+=t.plotX+(!l&&r?r.left-u:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&s?s.top-h:0)}),d/=t.length,p/=t.length,n=[l?a.plotWidth-p:d,this.shared&&!l&&1<t.length&&e?e.chartY-h:l?a.plotHeight-d:p]),o(n,Math.round)},getPosition:function(t,e,i){var n,s=this.chart,r=this.distance,o={},a=i.h||0,c=["y",s.chartHeight,e,i.plotY+s.plotTop,s.plotTop,s.plotTop+s.plotHeight],h=["x",s.chartWidth,t,i.plotX+s.plotLeft,s.plotLeft,s.plotLeft+s.plotWidth],u=!this.followPointer&&l(i.ttBelow,!s.inverted==!!i.negative),d=function(t,e,i,n,s,l){var c=i<n-r,h=n+r+i<e,d=n-r-i;if(n+=r,u&&h)o[t]=n;else if(!u&&c)o[t]=d;else if(c)o[t]=Math.min(l-i,0>d-a?d:d-a);else{if(!h)return!1;o[t]=Math.max(s,n+a+i>e?n:n+a)}},p=function(t,e,i,n){var s;return n<r||n>e-r?s=!1:o[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,s},f=function(t){var e=c;c=h,h=e,n=t},g=function(){!1!==d.apply(0,c)?!1!==p.apply(0,h)||n||(f(!0),g()):n?o.x=o.y=0:(f(!0),g())};return(s.inverted||1<this.len)&&f(),g(),o},defaultFormatter:function(t){var e,i=this.points||c(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var n,s,r,o=this.chart,a=this.options,u={},d=[];n=a.formatter||this.defaultFormatter;var u=o.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=c(t)[0].series.tooltipOptions.followPointer,r=this.getAnchor(t,e),e=r[0],s=r[1],!p||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(o.hoverPoints=t,u&&i(u,function(t){t.setState()}),i(t,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=d,this.len=d.length,t=t[0]),u=n.call(u,this),p=t.series,this.distance=l(p.tooltipOptions.distance,16),!1===u?this.hide():(n=this.getLabel(),this.isHidden&&(h(n),n.attr({opacity:1}).show()),this.split?this.renderSplit(u,o.hoverPoints):(n.attr({text:u&&u.join?u.join(""):u}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(t.colorIndex,p.colorIndex)),n.attr({stroke:a.borderColor||t.color||p.color||"#666666"}),this.updatePosition({plotX:e,plotY:s,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0})),this.isHidden=!1)},renderSplit:function(e,n){var s,r=this,o=[],a=this.chart,c=a.renderer,h=!0,u=this.options,d=this.getLabel();i(e.slice(0,e.length-1),function(t,e){e=n[e-1]||{isHeader:!0,plotX:n[0].plotX};var i=e.series||r,p=i.tt,f=e.series||{},g="highcharts-color-"+l(e.colorIndex,f.colorIndex,"none");p||(i.tt=p=c.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+g).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:e.color||f.color||"#333333","stroke-width":u.borderWidth}).add(d)),p.isActive=!0,p.attr({text:t}),p.css(u.style),t=p.getBBox(),f=t.width+p.strokeWidth(),e.isHeader?(s=t.height,f=Math.max(0,Math.min(e.plotX+a.plotLeft-f/2,a.chartWidth-f))):f=e.plotX+a.plotLeft-l(u.distance,16)-f,0>f&&(h=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=a.plotTop,o.push({target:e.isHeader?a.plotHeight+s:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:f,tt:p})}),this.cleanSplit(),t.distribute(o,a.plotHeight+s),i(o,function(t){var e=t.point;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:h||e.isHeader?t.x:e.plotX+a.plotLeft+l(u.distance,16),y:t.pos+a.plotTop,anchorX:e.plotX+a.plotLeft,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+a.plotTop})})},updatePosition:function(t){var e=this.chart,i=this.getLabel(),i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,i,n){var s;i=i.dateTimeLabelFormats;var r,o,a=n&&n.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";if(a){o=e("%m-%d %H:%M:%S.%L",t.x);for(r in d){if(a===d.week&&+e("%w",t.x)===n.options.startOfWeek&&"00:00:00.000"===o.substr(6)){r="week";break}if(d[r]>a){r=c;break}if(l[r]&&o.substr(l[r])!=="01-01 00:00:00.000".substr(l[r]))break;"week"!==r&&(c=r)}r&&(s=i[r])}else s=i.day;return s||i.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header";e=t.series;var n=e.tooltipOptions,o=n.xDateFormat,a=e.xAxis,l=a&&"datetime"===a.options.type&&r(t.key),i=n[i+"Format"];return l&&!o&&(o=this.getXDateFormat(t,n,a)),l&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),s(i,{point:t,series:e})},bodyFormatter:function(t){return o(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,i=t.attr,n=t.charts,s=t.color,r=t.css,o=t.defined,a=t.doc,l=t.each,c=t.extend,h=t.fireEvent,u=t.offset,d=t.pick,p=t.removeEvent,f=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,n=i.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(n=d(i.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!e||n&&e,this.zoomVert=n&&!e||t&&e,this.hasZoom=t||n},normalize:function(t,e){var i,n;return t=t||m.event,t.target||(t.target=t.srcElement),n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=u(this.chart.container)),
void 0===n.pageX?(i=Math.max(t.x,t.clientX-e.left),e=t.y):(i=n.pageX-e.left,e=n.pageY-e.top),c(t,{chartX:Math.round(i),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(i){var s,r,o,c,h=this.chart,u=h.series,p=h.tooltip,f=!!p&&p.shared,g=!0,m=h.hoverPoint,v=h.hoverSeries,b=[];if(!f&&!v)for(s=0;s<u.length;s++)!u[s].directTouch&&u[s].options.stickyTracking||(u=[]);if(v&&(f?v.noSharedTooltip:v.directTouch)&&m?b=[m]:(f||!v||v.options.stickyTracking||(u=[v]),l(u,function(t){r=t.noSharedTooltip&&f,o=!f&&t.directTouch,t.visible&&!r&&!o&&d(t.options.enableMouseTracking,!0)&&(c=t.searchPoint(i,!r&&1===t.kdDimensions))&&c.series&&b.push(c)}),b.sort(function(t,e){var i=t.distX-e.distX,n=t.dist-e.dist,s=e.series.group.zIndex-t.series.group.zIndex;return 0!==i&&f?i:0!==n?n:0!==s?s:t.series.index>e.series.index?-1:1})),f)for(s=b.length;s--;)(b[s].x!==b[0].x||b[s].series.noSharedTooltip)&&b.splice(s,1);if(b[0]&&(b[0]!==this.prevKDPoint||p&&p.isHidden)){if(f&&!b[0].series.noSharedTooltip){for(s=0;s<b.length;s++)b[s].onMouseOver(i,b[s]!==(v&&v.directTouch&&m||b[0]));b.length&&p&&p.refresh(b.sort(function(t,e){return t.series.index-e.series.index}),i)}else p&&p.refresh(b[0],i),v&&v.directTouch||b[0].onMouseOver(i);this.prevKDPoint=b[0],g=!1}g&&(u=v&&v.tooltipOptions.followPointer,p&&u&&!p.isHidden&&(u=p.getAnchor([{}],i),p.updatePosition({plotX:u[0],plotY:u[1]}))),this.unDocMouseMove||(this.unDocMouseMove=e(a,"mousemove",function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.onDocumentMouseMove(e)})),l(f?b:[d(m,b[0])],function(t){l(h.axes,function(e){(!t||t.series&&t.series[e.coll]===e)&&e.drawCrosshair(i,t)})})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,r=i.hoverPoints,o=i.tooltip,a=o&&o.shared?r:s;t&&a&&l(f(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?o&&a&&(o.refresh(a),s&&(s.setState(s.state,!0),l(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,s)}))):(s&&s.onMouseOut(),r&&l(r,function(t){t.setState()}),n&&n.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l(i.axes,function(t){t.hideCrosshair()}),this.hoverX=this.prevKDPoint=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&s.group&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,r=t.chartX,o=t.chartY,a=this.zoomHor,l=this.zoomVert,c=i.plotLeft,h=i.plotTop,u=i.plotWidth,d=i.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];p&&p.touch||(r<c?r=c:r>c+u&&(r=c+u),o<h?o=h:o>h+d&&(o=h+d),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(g-o,2)),10<this.hasDragged&&(e=i.isInsidePlot(f-c,g-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!p&&(this.selectionMarker=p=i.renderer.rect(c,h,a?1:u,l?1:d,0).attr({fill:n.selectionMarkerFill||s("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),p&&a&&(r-=f,p.attr({width:Math.abs(r),x:(0<r?0:r)+f})),p&&l&&(r=o-g,p.attr({height:Math.abs(r),y:(0<r?0:r)+g})),e&&!p&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,a={originalEvent:t,xAxis:[],yAxis:[]},u=this.selectionMarker,d=u.attr?u.attr("x"):u.x,p=u.attr?u.attr("y"):u.y,f=u.attr?u.attr("width"):u.width,g=u.attr?u.attr("height"):u.height;(this.hasDragged||n)&&(l(i.axes,function(i){if(i.zoomEnabled&&o(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,c=i.toValue((r?d:p)+l),r=i.toValue((r?d+f:p+g)-l);a[i.coll].push({axis:i,min:Math.min(c,r),max:Math.max(c,r)}),s=!0}}),s&&h(i,"selection",a,function(t){i.zoom(c(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(r(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=n[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;o(t.hoverChartIndex)&&n[t.hoverChartIndex]&&n[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,s=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(h(i.series,"click",c(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(c(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-s)&&h(e,"click",t)))},setDOMEvents:function(){var i=this,n=i.chart.container;n.onmousedown=function(t){i.onContainerMouseDown(t)},n.onmousemove=function(t){i.onContainerMouseMove(t)},n.onclick=function(t){i.onContainerClick(t)},e(n,"mouseleave",i.onContainerMouseLeave),1===t.chartCount&&e(a,"mouseup",i.onDocumentMouseUp),t.hasTouch&&(n.ontouchstart=function(t){i.onContainerTouchStart(t)},n.ontouchmove=function(t){i.onContainerTouchMove(t)},1===t.chartCount&&e(a,"touchend",i.onDocumentTouchEnd))},destroy:function(){var e;p(this.chart.container,"mouseleave",this.onContainerMouseLeave),t.chartCount||(p(a,"mouseup",this.onDocumentMouseUp),p(a,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}}}(t),function(t){var e=t.charts,i=t.each,n=t.extend,s=t.map,r=t.noop,o=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,s,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,s,r)},pinchTranslateDirection:function(t,e,i,n,s,r,o,a){var l,c,h,u=this.chart,d=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=u["plot"+(t?"Left":"Top")],v=a||1,b=u.inverted,y=u.bounds[t?"h":"v"],x=1===e.length,w=e[0][f],_=i[0][f],k=!x&&e[1][f],C=!x&&i[1][f];i=function(){!x&&20<Math.abs(w-k)&&(v=a||Math.abs(_-C)/Math.abs(w-k)),c=(m-_)/v+w,l=u["plot"+(t?"Width":"Height")]/v},i(),e=c,e<y.min?(e=y.min,h=!0):e+l>y.max&&(e=y.max-l,h=!0),h?(_-=.8*(_-o[d][0]),x||(C-=.8*(C-o[d][1])),i()):o[d]=[_,C],b||(r[d]=c-m,r[g]=l),r=b?1/v:v,s[g]=l,s[d]=e,n[b?t?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*m+(_-r*w)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,h=c.length,u=e.lastValidTouch,d=e.hasZoom,p=e.selectionMarker,f={},g=1===h&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<h&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),s(c,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(c,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),u.x=[l[0].chartX,l[1]&&l[1].chartX],u.y=[l[0].chartY,l[1]&&l[1].chartY],i(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(o(t.options.min,t.dataMin)),s=t.toPixels(o(t.options.max,t.dataMax)),r=Math.max(n,s);e.min=Math.min(t.pos,Math.min(n,s)-i),e.max=Math.max(t.pos+t.len,r+i)}}),e.res=!0):e.followTouchMove&&1===h?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=n({destroy:r,touch:!0},a.plotBox)),e.pinchTranslate(l,c,f,p,m,u),e.hasPinched=d,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,s=this.chart;t.hoverChartIndex=s.index,1===e.touches.length?(e=this.normalize(e),s.isInsidePlot(e.chartX-s.plotLeft,e.chartY-s.plotTop)&&!s.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,n=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),o(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(t),function(t){var e=t.addEvent,i=t.charts,n=t.css,s=t.doc,r=t.extend,o=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,h=t.wrap;if(c.PointerEvent||c.MSPointerEvent){var u={},d=!!c.PointerEvent,p=function(){var t,e=[];e.item=function(t){return this[t]};for(t in u)u.hasOwnProperty(t)&&e.push({pageX:u[t].pageX,pageY:u[t].pageY,target:u[t].target});return e},f=function(e,n,s,r){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(r(e),r=i[t.hoverChartIndex].pointer,r[n]({type:s,target:e.currentTarget,preventDefault:o,touches:p()}))};r(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){u[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){u[t.pointerId]={pageX:t.pageX,pageY:t.pageY},u[t.pointerId].target||(u[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete u[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(s,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),h(a.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),h(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),h(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e,i=t.addEvent,n=t.css,s=t.discardElement,r=t.defined,o=t.each,a=t.extend,l=t.isFirefox,c=t.marginNames,h=t.merge,u=t.pick,d=t.setAnimation,p=t.stableSort,f=t.win,g=t.wrap;e=t.Legend=function(t,e){this.init(t,e)},e.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),i(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=h(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.initialItemX=this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(h(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,u(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i,n=this.options,s=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,l=e?t.color||a:a,c=t.options&&t.options.marker,h={fill:l};if(s&&s.css({fill:n,color:n}),r&&r.attr({stroke:l}),o){if(c&&o.isMarker&&(h=t.pointAttribs(),!e))for(i in h)h[i]=a;o.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],r=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?s:this.legendWidth-s-2*i-4,n),r&&(r.x=s,r.y=n)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&s(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),o(this.getAllItems(),function(t){o(["legendItem","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())})}),t&&(this.group=t.destroy()),this.display=null},positionCheckboxes:function(t){var e,i=this.group&&this.group.alignAttr,s=this.clipHeight||this.legendHeight,r=this.titleHeight;i&&(e=i.translateY,o(this.allItems,function(o){var a,l=o.checkbox;l&&(a=e+r+l.y+(t||0)+3,n(l,{left:i.translateX+o.checkboxOffset+l.x-20+"px",top:a+"px",display:a>e-6&&a<e+s-6?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,s="horizontal"===n.layout,r=this.symbolWidth,o=n.symbolPadding,a=this.itemStyle,l=this.itemHiddenStyle,c=this.padding,d=s?u(n.itemDistance,20):0,p=!n.rtl,f=n.width,g=n.itemMarginBottom||0,m=this.itemMarginTop,v=this.initialItemX,b=t.legendItem,y=!t.series,x=!y&&t.series.drawLegendSymbol?t.series:t,w=x.options,w=this.createCheckboxForItem&&w&&w.showCheckbox,_=n.useHTML;b||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+x.type+"-series highcharts-color-"+t.colorIndex+(t.options.className?" "+t.options.className:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=b=i.text("",p?r+o:-o,this.baseline||0,_).css(h(t.visible?a:l)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(a=a.fontSize,this.fontMetrics=i.fontMetrics(a,b),this.baseline=this.fontMetrics.f+3+m,b.attr("y",this.baseline)),x.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,b,_),w&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=b.getBBox(),r=t.checkboxOffset=n.itemWidth||t.legendItemWidth||r+o+i.width+d+(w?20:0),this.itemHeight=o=Math.round(t.legendItemHeight||i.height),s&&this.itemX-v+r>(f||e.chartWidth-2*c-v-n.x)&&(this.itemX=v,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,r),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=r:(this.itemY+=m+o+g,this.lastLineHeight=o),this.offsetWidth=f||Math.max((s?this.itemX-v-d:r)+c,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var i=e&&e.options;e&&u(i.showInLegend,!r(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,s=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);n.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(s)&&!r(t[a])&&(i[c[a]]=Math.max(i[c[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+u(n.margin,12)+e[a]))})},render:function(){var t,e,i,n,s=this,r=s.chart,l=r.renderer,c=s.group,h=s.box,u=s.options,d=s.padding;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,c||(s.group=c=l.g("legend").attr({zIndex:7}).add(),s.contentGroup=l.g().attr({zIndex:1}).add(c),s.scrollGroup=l.g().add(s.contentGroup)),s.renderTitle(),t=s.getAllItems(),p(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),u.reversed&&t.reverse(),s.allItems=t,s.display=e=!!t.length,s.lastLineHeight=0,o(t,function(t){s.renderItem(t)}),i=(u.width||s.offsetWidth)+d,n=s.lastItemY+s.lastLineHeight+s.titleHeight,n=s.handleOverflow(n),n+=d,h||(s.box=h=l.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(c),h.isNew=!0),h.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),0<i&&0<n&&(h[h.isNew?"attr":"animate"](h.crisp({x:0,y:0,width:i,height:n},h.strokeWidth())),h.isNew=!1),h[e?"show":"hide"](),s.legendWidth=i,s.legendHeight=n,o(t,function(t){s.positionItem(t)}),e&&c.align(a({width:i,height:n},u),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,s=this.chart,r=s.renderer,a=this.options,l=a.y,s=s.spacingBox.height+("top"===a.verticalAlign?-l:l)-this.padding,l=a.maxHeight,c=this.clipRect,h=a.navigation,d=u(h.animation,!0),p=h.arrowSize||12,f=this.nav,g=this.pages,m=this.padding,v=this.allItems,b=function(t){t?c.attr({height:t}):c&&(n.clipRect=c.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+m+"px,9999px,"+(m+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(s/=2),l&&(s=Math.min(s,l)),g.length=0,t>s&&!1!==h.enabled?(this.clipHeight=e=Math.max(s-20-this.titleHeight-m,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,n){var s=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var r=g.length;(!r||s-g[r-1]>e&&(i||s)!==g[r-1])&&(g.push(i||s),r++),n===v.length-1&&s+t-g[r-1]>e&&g.push(s),s!==i&&(i=s)}),c||(c=n.clipRect=r.clipRect(0,m,9999,0),n.contentGroup.clip(c)),b(e),f||(this.nav=f=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).on("click",function(){n.scroll(-1,d)}).add(f),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(f),this.down=r.symbol("triangle-down",0,0,p,p).on("click",function(){n.scroll(1,d)}).add(f)),n.scroll(0),t=s):f&&(b(),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length;t=this.currentPage+t;var s=this.clipHeight,r=this.options.navigation,o=this.pager,a=this.padding;t>n&&(t=n),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:a,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:t+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,"class":t===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?r.inactiveColor:r.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===n?r.inactiveColor:r.activeColor}).css({cursor:t===n?"default":"pointer"}),e=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options,n=i.symbolHeight||t.fontMetrics.f,i=i.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,n=t.symbolWidth,s=this.chart.renderer,r=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var o;o={"stroke-width":e.lineWidth||0},e.dashStyle&&(o.dashstyle=e.dashStyle),this.legendLine=s.path(["M",0,t,"L",n,t]).addClass("highcharts-graph").attr(o).add(r),i&&!1!==i.enabled&&(e=0===this.symbol.indexOf("url")?0:i.radius,this.legendSymbol=i=s.symbol(this.symbol,n/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(r),i.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||l)&&g(e.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(t),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,s=t.attr,r=t.doc,o=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,h=t.charts,u=t.css,d=t.defined,p=t.each,f=t.error,g=t.extend,m=t.fireEvent,v=t.getStyle,b=t.grep,y=t.isNumber,x=t.isObject,w=t.isString,_=t.Legend,k=t.marginNames,C=t.merge,T=t.Pointer,S=t.pick,E=t.pInt,O=t.removeEvent,P=t.seriesTypes,M=t.splat,D=t.svg,A=t.syncTimeout,I=t.win,N=t.Renderer,j=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new j(t,e,i)},j.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var s,r=i.series;i.series=null,s=C(l,i),s.series=i.series=r,this.userOptions=i,this.respRules=[],i=s.chart,r=i.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=s,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o;if(this.index=h.length,h.push(this),t.chartCount++,r)for(o in r)e(this,o,r[o]);this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=P[t.type||e.type||e.defaultSeriesType])||f(17,!0),e=new e,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t;return t=i?t:e,0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,n,s=this.axes,r=this.series,o=this.pointer,a=this.legend,l=this.isDirtyLegend,c=this.hasCartesianSeries,h=this.isDirtyBox,u=r.length,d=u,f=this.renderer,v=f.isHidden(),b=[];for(t.setAnimation(e,this),v&&this.cloneRenderTo(),this.layOutTitles();d--;)if(e=r[d],e.options.stacking&&(i=!0,e.isDirty)){n=!0;break}if(n)for(d=u;d--;)e=r[d],e.options.stacking&&(e.isDirty=!0);p(r,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),l=!0),t.isDirtyData&&m(t,"updatedData")}),l&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&p(s,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(p(s,function(t){t.isDirty&&(h=!0)}),p(s,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,b.push(function(){m(t,"afterSetExtremes",g(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||i)&&t.redraw()})),h&&this.drawChartBox(),p(r,function(t){(h||t.isDirty)&&t.visible&&t.redraw()}),o&&o.reset(!0),f.draw(),m(this,"redraw"),v&&this.cloneRenderTo(!0),p(b,function(t){t.call()})},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=M(e.xAxis||{}),e=e.yAxis=M(e.yAxis||{});p(i,function(t,e){t.index=e,t.isX=!0}),p(e,function(t,e){t.index=e}),i=i.concat(e),p(i,function(e){new o(t,e)})},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(b(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return b(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,s=this,r=s.options;n=r.title=C(r.title,t),r=r.subtitle=C(r.subtitle,e),p([["title",t,n],["subtitle",e,r]],function(t,e){var i=t[0],n=s[i],r=t[1];t=t[2],n&&r&&(s[i]=n=n.destroy()),t&&t.text&&!n&&(s[i]=s.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+i,zIndex:t.zIndex||4}).add(),s[i].update=function(t){s.setTitle(!e&&t,e&&t)},s[i].css(t.style))}),s.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,s=this.spacingBox;p(["title","subtitle"],function(t){var e,r=this[t],o=this.options[t];r&&(e=o.style.fontSize,e=n.fontMetrics(e,r).b,r.css({width:(o.width||s.width+o.widthAdjust)+"px"}).align(g({y:i+e+("title"===t?-3:2)},o),!1,"spacingBox"),o.floating||o.verticalAlign||(i=Math.ceil(i+r.getBBox().height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&S(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;d(e)||(this.containerWidth=v(i,"width")),d(t)||(this.containerHeight=v(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,S(t,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);c(e),delete this.renderToClone}}else i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),u(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),r.body.appendChild(e),i&&e.appendChild(i)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,o=this.options,l=o.chart;e=this.renderTo;var c,u=t.uniqueKey();e||(this.renderTo=e=l.renderTo),w(e)&&(this.renderTo=e=r.getElementById(e)),e||f(13,!0),i=E(s(e,"data-highcharts-chart")),y(i)&&h[i]&&h[i].hasRendered&&h[i].destroy(),s(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,c=g({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:u},c,this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||N)(e,i,n,null,l.forExport,o.exporting&&o.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!d(i[0])&&(this.plotTop=Math.max(this.plotTop,n+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(k,function(n,s){d(i[s])||(t[n]+=e[s])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,s=d(i.width),o=i.width||v(n,"width"),i=i.height||v(n,"height"),n=t?t.target:I;s||e.isPrinting||!o||!i||n!==I&&n!==r||(o===e.containerWidth&&i===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=A(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=o,e.containerHeight=i)},initReflow:function(){var t,i=this;t=e(I,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,s,r){var o=this,a=o.renderer;o.isResizing+=1,t.setAnimation(r,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==e&&(o.options.chart.width=e),void 0!==s&&(o.options.chart.height=s),o.getChartSize(),e=a.globalAnimation,(e?i:u)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},e),o.setChartSize(!0),a.setSize(o.chartWidth,o.chartHeight,r),p(o.axes,function(t){t.isDirty=!0,t.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.setResponsive&&o.setResponsive(!1),o.redraw(r),o.oldChartHeight=null,m(o,"resize"),A(function(){o&&m(o,"endResize",null,function(){--o.isResizing})},n(e).duration)},setChartSize:function(t){var e,i,n,s,r=this.inverted,o=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,h=this.spacing,u=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=s=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=r?s:n,this.plotSizeY=r?n:s,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:h[3],y:h[0],width:a-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=o.plotBox={x:e,y:i,width:n,height:s},a=2*Math.floor(this.plotBorderWidth/2),r=Math.ceil(Math.max(a,u[3])/2),o=Math.ceil(Math.max(a,u[0])/2),this.clipBox={x:r,y:o,width:Math.floor(this.plotSizeX-Math.max(a,u[1])/2-r),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,u[2])/2-o))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(i){var n=e[i],s=x(n)?n:[n,n,n,n];p(["Top","Right","Bottom","Left"],function(n,r){t[i][r]=S(e[i+n],s[r])})}),p(k,function(e,i){t[e]=S(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,n=this.renderer,s=this.chartWidth,r=this.chartHeight,o=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,h=i.backgroundColor,u=i.plotBackgroundColor,d=i.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,b=this.clipRect,y=this.clipBox,x="animate";o||(this.chartBackground=o=n.rect().addClass("highcharts-background").add(),x="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),h={fill:h||"none"},(t||o["stroke-width"])&&(h.stroke=i.borderColor,h["stroke-width"]=t),o.attr(h).shadow(i.shadow),o[x]({x:e/2,y:e/2,width:s-e-t%2,height:r-e-t%2,r:i.borderRadius}),x="animate",a||(x="attr",this.plotBackground=a=n.rect().addClass("highcharts-plot-background").add()),a[x](v),a.attr({fill:u||"none"}).shadow(i.plotShadow),d&&(c?c.animate(v):this.plotBGImage=n.image(d,p,f,g,m).add()),b?b.animate({width:y.width,height:y.height}):this.clipRect=n.clipRect(y),x="animate",l||(x="attr",this.plotBorder=l=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[x](l.crisp({x:p,y:f,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,r=n.options.series;p(["inverted","angular","polar"],function(o){for(t=P[s.type||s.defaultSeriesType],i=s[o]||t&&t.prototype[o],e=r&&r.length;!i&&e--;)(t=P[r[e].type])&&t.prototype[o]&&(i=!0);n[o]=i})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var i=e.options.linkedTo;w(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=S(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(i){var n=g(e.style,i.style),s=E(n.left)+t.plotLeft,r=E(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,s,r).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n=this.axes,s=this.renderer,r=this.options;this.setTitle(),this.legend=new _(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,t=this.plotHeight-=21,p(n,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<r/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(p(n,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(I.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,s=i.series,r=i.container,o=r&&r.parentNode;for(m(i,"destroy"),h[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),O(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=s.length;e--;)s[e]=s[e].destroy()
;p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),r&&(r.innerHTML="",O(r),o&&c(r));for(e in i)delete i[e]},isReadyToRender:function(){var t=this;return!(!D&&I==I.top&&"complete"!==r.readyState)||(r.attachEvent("onreadystatechange",function(){r.detachEvent("onreadystatechange",t.firstRender),"complete"===r.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),T&&(t.pointer=new T(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}}}(t),function(t){var e,i=t.each,n=t.extend,s=t.erase,r=t.fireEvent,o=t.format,a=t.isArray,l=t.isNumber,c=t.pick,h=t.removeEvent;e=t.Point=function(){},e.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=c(this.colorIndex,i),t.chart.pointCount++,this},applyOptions:function(t,i){var s=this.series,r=s.options.pointValKey||s.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,r&&(this.y=this[r]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&s.xAxis&&s.xAxis.hasNames&&(this.x=s.xAxis.nameToX(this)),void 0===this.x&&s&&(this.x=void 0===i?s.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,s=n||i.pointArrayMap||["y"],r=s.length,o=0,c=0;if(l(t)||null===t)e[s[0]]=t;else if(a(t))for(!n&&t.length>r&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);c<r;)n&&void 0===t[o]||(e[s[c]]=t[o]),o++,c++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")},getZone:function(){var t,e=this.series,i=e.zones,e=e.zoneAxis||"y",n=0;for(t=i[n];this[e]>=t.value;)t=i[++n];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),s(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,s=c(n.valueDecimals,""),r=n.valuePrefix||"",a=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||a)&&(t=t.replace(e+"}",r+e+"}"+a)),t=t.replace(e+"}",e+":,."+s+"f}")}),o(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),r(this,t,e,i)},visible:!0}}(t),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,s=t.arrayMin,r=t.correctFloat,o=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,c=t.defined,h=t.each,u=t.erase,d=t.error,p=t.extend,f=t.fireEvent,g=t.grep,m=t.isArray,v=t.isNumber,b=t.isString,y=t.merge,x=t.pick,w=t.removeEvent,_=t.splat,k=t.stableSort,C=t.SVGElement,T=t.syncTimeout,S=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,s,r,o=this,a=t.series,l=function(t,e){return x(t.options.index,t._i)-x(e.options.index,e._i)};o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),p(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),s=i.events;for(n in s)e(o,n,s[n]);(s&&s.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),h(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),o._i=x(r&&r._i,-1)+1,a.push(o),k(a,l),this.yAxis&&k(this.yAxis.series,l),h(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;h(e.axisTypes||[],function(s){h(n[s],function(n){t=n.options,(i[s]===t.index||void 0!==i[s]&&i[s]===t.id||void 0===i[s]&&0===t.index)&&(n.series.push(e),e[s]=n,n.isDirty=!0)}),e[s]||e.optionalAxis===s||d(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,s=v(e)?function(n){var s="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};h(i.parallelArrays,s)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=x(i,e.pointStart,0);return this.pointInterval=t=x(this.pointInterval,e.pointInterval,1),n&&(e=new o(i),"day"===n?e=+e[o.hcSetDate](e[o.hcGetDate]()+t):"month"===n?e=+e[o.hcSetMonth](e[o.hcGetMonth]()+t):"year"===n&&(e=+e[o.hcSetFullYear](e[o.hcGetFullYear]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},n=e.plotOptions||{},s=i[this.type];return this.userOptions=t,i=y(s,i.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions[this.type].tooltip,e.tooltip,n.series&&n.series.tooltip,n[this.type]&&n[this.type].tooltip,t.tooltip),null===s.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,className:"highcharts-negative",color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&c(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n,s=this.userOptions,r=t+"Index",o=t+"Counter",a=i?i.length:x(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(n=x(s[r],s["_"+r]),c(n)||(s["_"+r]=n=this.chart[o]%a,this.chart[o]+=1),i&&(e=i[n])),void 0!==n&&(this[r]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(t,e,i,n){var s,r=this,o=r.points,a=o&&o.length||0,l=r.options,c=r.chart,u=null,p=r.xAxis,f=l.turboThreshold,g=this.xData,y=this.yData,w=(s=r.pointArrayMap)&&s.length;if(t=t||[],s=t.length,e=x(e,!0),!1!==n&&s&&a===s&&!r.cropped&&!r.hasGroupedData&&r.visible)h(t,function(t,e){o[e].update&&t!==l.data[e]&&o[e].update(t,!1,null,!1)});else{if(r.xIncrement=null,r.colorCounter=0,h(this.parallelArrays,function(t){r[t+"Data"].length=0}),f&&s>f){for(i=0;null===u&&i<s;)u=t[i],i++;if(v(u))for(i=0;i<s;i++)g[i]=this.autoIncrement(),y[i]=t[i];else if(m(u))if(w)for(i=0;i<s;i++)u=t[i],g[i]=u[0],y[i]=u.slice(1,w+1);else for(i=0;i<s;i++)u=t[i],g[i]=u[0],y[i]=u[1];else d(12)}else for(i=0;i<s;i++)void 0!==t[i]&&(u={series:r},r.pointClass.prototype.applyOptions.apply(u,[t[i]]),r.updateParallelArrays(u,i));for(b(y[0])&&d(14,!0),r.data=[],r.options.data=r.userOptions.data=t,i=a;i--;)o[i]&&o[i].destroy&&o[i].destroy();p&&(p.minRange=p.userMinRange),r.isDirty=c.isDirtyBox=!0,r.isDirtyData=!!o,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)},processData:function(t){var e,i=this.xData,n=this.yData,s=i.length;e=0;var r,o,a,l=this.xAxis,c=this.options;a=c.cropThreshold;var h,u,p=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,c=l&&l.val2lin,g=l&&l.isLog;if(f&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),h=t.min,u=t.max),f&&this.sorted&&!p&&(!a||s>a||this.forceCrop)&&(i[s-1]<h||i[0]>u?(i=[],n=[]):(i[0]<h||i[s-1]>u)&&(e=this.cropData(this.xData,this.yData,h,u),i=e.xData,n=e.yData,e=e.start,r=!0)),a=i.length||1;--a;)s=g?c(i[a])-c(i[a-1]):i[a]-i[a-1],0<s&&(void 0===o||s<o)?o=s:0>s&&this.requireSorting&&d(15);this.cropped=r,this.cropStart=e,this.processedXData=i,this.processedYData=n,this.closestPointRange=o},cropData:function(t,e,i,n){var s,r=t.length,o=0,a=r,l=x(this.cropShoulder,1);for(s=0;s<r;s++)if(t[s]>=i){o=Math.max(0,s-l);break}for(i=s;i<r;i++)if(t[i]>n){a=i+l;break}return{xData:t.slice(o,a),yData:e.slice(o,a),start:o,end:a}},generatePoints:function(){var t,e,i,n,s=this.options.data,r=this.data,o=this.processedXData,a=this.processedYData,l=this.pointClass,c=o.length,h=this.cropStart||0,u=this.hasGroupedData,d=[];for(r||u||(r=[],r.length=s.length,r=this.data=r),n=0;n<c;n++)e=h+n,u?(i=(new l).init(this,[o[n]].concat(_(a[n]))),i.dataGroup=this.groupMap[n]):(i=r[e])||void 0===s[e]||(r[e]=i=(new l).init(this,s[e],o[n])),i.index=e,d[n]=i;if(r&&(c!==(t=r.length)||u))for(n=0;n<t;n++)n!==h||u||(n+=c),r[n]&&(r[n].destroyElements(),r[n].plotX=void 0);this.data=r,this.points=d},getExtremes:function(t){var e,i=this.yAxis,r=this.processedXData,o=[],a=0;e=this.xAxis.getExtremes();var l,c,h,u,d=e.min,p=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,u=0;u<e;u++)if(c=r[u],h=t[u],l=(v(h,!0)||m(h))&&(!i.isLog||h.length||0<h),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(r[u+1]||c)>=d&&(r[u-1]||c)<=p,l&&c)if(l=h.length)for(;l--;)null!==h[l]&&(o[a++]=h[l]);else o[a++]=h;this.dataMin=s(o),this.dataMax=n(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,s=this.options,o=s.stacking,a=this.xAxis,l=a.categories,h=this.yAxis,u=this.points,d=u.length,p=!!this.modifyValue,f=s.pointPlacement,g="between"===f||v(f),m=s.threshold,b=s.startFromThreshold?m:0,y=Number.MAX_VALUE;for("between"===f&&(f=.5),v(f)&&(f*=x(s.pointRange||a.pointRange)),s=0;s<d;s++){var w=u[s],_=w.x,k=w.y;e=w.low;var C,T=o&&h.stacks[(this.negStacks&&k<(b?0:m)?"-":"")+this.stackKey];h.isLog&&null!==k&&0>=k&&(w.isNull=!0),w.plotX=t=r(Math.min(Math.max(-1e5,a.translate(_,0,0,0,1,f,"flags"===this.type)),1e5)),o&&this.visible&&!w.isNull&&T&&T[_]&&(n=this.getStackIndicator(n,_,this.index),C=T[_],k=C.points[n.key],e=k[0],k=k[1],e===b&&n.key===T[_].base&&(e=x(m,h.min)),h.isLog&&0>=e&&(e=null),w.total=w.stackTotal=C.total,w.percentage=C.total&&w.y/C.total*100,w.stackY=k,C.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=c(e)?h.translate(e,0,1,0,1):null,p&&(k=this.modifyValue(k,w)),w.plotY=e="number"==typeof k&&Infinity!==k?Math.min(Math.max(-1e5,h.translate(k,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=a.len,w.clientX=g?r(a.translate(_,0,0,0,1,f)):t,w.negative=w.y<(m||0),w.category=l&&void 0!==l[w.x]?l[w.x]:w.x,w.isNull||(void 0!==i&&(y=Math.min(y,Math.abs(t-i))),i=t)}this.closestPointRangePx=y},getValidPoints:function(t,e){var i=this.chart;return g(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,s=e.inverted,r=this.clipBox,o=r||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,i.xAxis,i.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(o.width=0,e[a+"m"]=c=n.clipRect(-99,s?-e.plotLeft:-e.plotTop,99,s?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(o),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(r||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n=this.chart,s=i(this.options.animation);t?this.setClip(s):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX},s),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){this.setClip(),f(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,s,r,o,a,l=this.points,c=this.chart,h=this.options.marker,u=this.markerGroup,d=x(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>2*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(e=l.length;e--;)i=l[e],t=i.plotY,n=i.graphic,s=i.marker||{},r=!!i.marker,o=d&&void 0===s.enabled||s.enabled,a=i.isInside,o&&v(t)&&null!==i.y?(t=x(s.symbol,this.symbol),i.hasImage=0===t.indexOf("url"),o=this.markerAttribs(i,i.selected&&"select"),n?n[a?"show":"hide"](!0).animate(o):a&&(0<o.width||i.hasImage)&&(i.graphic=n=c.renderer.symbol(t,o.x,o.y,o.width,o.height,r?s:h).add(u)),n&&n.attr(this.pointAttribs(i,i.selected&&"select")),n&&n.addClass(i.getClassName(),!0)):n&&(i.graphic=n.destroy())},markerAttribs:function(t,e){var i=this.options.marker,n=t&&t.options,s=n&&n.marker||{},n=x(s.radius,i.radius);return e&&(i=i.states[e],e=s.states&&s.states[e],n=x(e&&e.radius,i&&i.radius,n+(i&&i.radiusPlus||0))),t.hasImage&&(n=0),t={x:Math.floor(t.plotX)-n,y:t.plotY-n},n&&(t.width=t.height=2*n),t},pointAttribs:function(t,e){var i,n=this.options.marker,s=t&&t.options,r=s&&s.marker||{},o=this.color,a=s&&s.color,l=t&&t.color,s=x(r.lineWidth,n.lineWidth);return t&&this.zones.length&&(t=t.getZone())&&t.color&&(i=t.color),o=a||i||l||o,i=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e&&(n=n.states[e],e=r.states&&r.states[e]||{},s=x(e.lineWidth,n.lineWidth,s+x(e.lineWidthPlus,n.lineWidthPlus,0)),i=e.fillColor||n.fillColor||i,o=e.lineColor||n.lineColor||o),{stroke:o,"stroke-width":s,fill:i}},destroy:function(){var t,e,i,n,s=this,r=s.chart,o=/AppleWebKit\/533/.test(S.navigator.userAgent),a=s.data||[];for(f(s,"destroy"),w(s),h(s.axisTypes||[],function(t){(n=s[t])&&n.series&&(u(n.series,s),n.isDirty=n.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();s.points=null,clearTimeout(s.animationTimeout);for(i in s)s[i]instanceof C&&!s[i].survive&&(t=o&&"group"===i?"hide":"destroy",s[i][t]());r.hoverSeries===s&&(r.hoverSeries=null),u(r.series,s);for(i in s)delete s[i]},getGraphPath:function(t,e,i){var n,s,r=this,o=r.options,a=o.step,l=[],u=[];return t=t||r.points,(n=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),!o.connectNulls||e||i||(t=this.getValidPoints(t)),h(t,function(n,h){var d=n.plotX,p=n.plotY,f=t[h-1];(n.leftCliff||f&&f.rightCliff)&&!i&&(s=!0),n.isNull&&!c(e)&&0<h?s=!o.connectNulls:n.isNull&&!e?s=!0:(0===h||s?h=["M",n.plotX,n.plotY]:r.getPointSpline?h=r.getPointSpline(t,n,h):a?(h=1===a?["L",f.plotX,p]:2===a?["L",(f.plotX+d)/2,f.plotY,"L",(f.plotX+d)/2,p]:["L",d,f.plotY],h.push("L",d,p)):h=["L",d,p],u.push(n.x),a&&u.push(n.x),l.push.apply(l,h),s=!1)}),l.xMap=u,r.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];h(this.zones,function(i,s){n.push(["zone-graph-"+s,"highcharts-graph highcharts-zone-graph-"+s+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),h(n,function(n,s){var r=n[0],o=t[r];o?(o.endX=i.xMap,o.animate({d:i})):i.length&&(t[r]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),o={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?o.dashstyle=n[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=t[r].attr(o).shadow(2>s&&e.shadow)),o&&(o.startX=i.xMap,o.isArea=i.isArea)})},applyZones:function(){var t,e,i,n,s,r,o,a,l,c=this,u=this.chart,d=u.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(u.chartWidth,u.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],y=u.inverted,w=!1;p.length&&(g||m)&&b&&void 0!==b.min&&(s=b.reversed,r=b.horiz,g&&g.hide(),m&&m.hide(),n=b.getExtremes(),h(p,function(h,p){t=s?r?u.plotWidth:0:r?0:b.toPixels(n.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(b.toPixels(x(h.value,n.max),!0)),0),v),w&&(t=e=b.toPixels(n.max)),o=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),b.isXAxis?(i={x:y?l:a,y:0,width:o,height:v},r||(i.x=u.plotHeight-i.x)):(i={x:0,y:y?l:a,width:v,height:o},r&&(i.y=u.plotWidth-i.y)),y&&d.isVML&&(i=b.isXAxis?{x:0,y:s?a:l,height:i.width,width:u.chartWidth}:{x:i.y-u.plotLeft-u.spacingBox.x,y:0,width:i.height,height:u.chartHeight}),f[p]?f[p].animate(i):(f[p]=d.clipRect(i),g&&c["zone-graph-"+p].clip(f[p]),m&&c["zone-area-"+p].clip(f[p])),w=h.value>n.max}),this.clips=f)},invertGroups:function(t){function i(){var e={width:s.yAxis.len,height:s.xAxis.len};h(["group","markerGroup"],function(i){s[i]&&s[i].attr(e).invert(t)})}var n,s=this;s.xAxis&&(n=e(s.chart,"resize",i),e(s,"destroy",n),i(t),s.invertGroups=i)},plotGroup:function(t,e,i,n,s){var r=this[t],o=!r;return o&&(this[t]=r=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(s),r.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),r.attr({visibility:i})[o?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,s=e.options,r=!!e.animate&&n.renderer.isSVG&&i(s.animation).duration,o=e.visible?"inherit":"hidden",a=s.zIndex,l=e.hasRendered,c=n.seriesGroup,h=n.inverted;t=e.plotGroup("group","series",o,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",o,a,c),r&&e.animate(!0),t.inverted=!!e.isCartesian&&h,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(h),!1===s.clip||e.sharedClipKey||l||t.clip(n.clipRect),r&&e.animate(),l||(e.animationTimeout=T(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,s=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:x(n&&n.left,t.plotLeft),translateY:x(s&&s.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,s=this.chart.inverted;return this.searchKDTree({clientX:s?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:s?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,s){var r,o;if(o=i&&i.length)return r=e.kdAxisArray[n%s],i.sort(function(t,e){return t[r]-e[r]}),o=Math.floor(o/2),{point:i[o],left:t(i.slice(0,o),n+1,s),right:t(i.slice(o+1),n+1,s)}}var e=this,i=e.kdDimensions;delete e.kdTree,T(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,l){var h,u,d=e.point,p=n.kdAxisArray[a%l],f=d;return u=c(t[s])&&c(d[s])?Math.pow(t[s]-d[s],2):null,h=c(t[r])&&c(d[r])?Math.pow(t[r]-d[r],2):null,h=(u||0)+(h||0),d.dist=c(h)?Math.sqrt(h):Number.MAX_VALUE,d.distX=c(u)?Math.sqrt(u):Number.MAX_VALUE,p=t[p]-d[p],h=0>p?"left":"right",u=0>p?"right":"left",e[h]&&(h=i(t,e[h],a+1,l),f=h[o]<f[o]?h:d),e[u]&&Math.sqrt(p*p)<f[o]&&(t=i(t,e[u],a+1,l),f=t[o]<f[o]?t:f),f}var n=this,s=this.kdAxisArray[0],r=this.kdAxisArray[1],o=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}})}(t),function(t){function e(t,e,i,n,s){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:c(e.y,r?4:i?14:-6),x:c(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}var i=t.Axis,n=t.Chart,s=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,a=t.each,l=t.format,c=t.pick;t=t.Series,e.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?l(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,r=i.reversed,r=this.isNegative&&!r||!this.isNegative&&r,o=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=Math.abs(o-i);t=n.xAxis[0].translate(this.x)+t;var a=n.plotHeight,s={x:s?r?o:o-i:t,y:s?a-t-e:r?a-o-i:a-o,width:s?i:e,height:s?e:i};(e=this.label)&&(e.align(this.alignOptions,null,s),s=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(s.x,s.y)?"show":"hide"](!0))}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))})},i.prototype.buildStacks=function(){var t,e,i=this.series,n=c(this.options.reversedStacks,!0),s=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=s;e--;)i[n?e:s-e-1].setStackedPoints();for(e=s;e--;)t=i[n?e:s-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<s;e++)i[e].setPercentStacks()}},i.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,s=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(i.plotLeft,i.plotTop);for(t in s)for(e in i=s[t])i[e].render(r)},i.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},i.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis)for(e in this.oldStacks&&(t=this.stacks=this.oldStacks),t)for(i in t[e])t[e][i].cum=t[e][i].total},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,i,n,o,a,l,h,u=this.processedXData,d=this.processedYData,p=[],f=d.length,g=this.options,m=g.threshold,v=g.startFromThreshold?m:0,b=g.stack,g=g.stacking,y=this.stackKey,x="-"+y,w=this.negStacks,_=this.yAxis,k=_.stacks,C=_.oldStacks;for(_.stacksTouched+=1,a=0;a<f;a++)l=u[a],h=d[a],t=this.getStackIndicator(t,l,this.index),o=t.key,n=(i=w&&h<(v?0:m))?x:y,k[n]||(k[n]={}),k[n][l]||(C[n]&&C[n][l]?(k[n][l]=C[n][l],k[n][l].total=null):k[n][l]=new e(_,_.options.stackLabels,i,l,b)),n=k[n][l],null!==h&&(n.points[o]=n.points[this.index]=[c(n.cum,v)],r(n.cum)||(n.base=o),n.touched=_.stacksTouched,0<t.index&&!1===this.singleStacks&&(n.points[o][0]=n.points[this.index+","+l+",0"][0])),"percent"===g?(i=i?y:x,w&&k[i]&&k[i][l]?(i=k[i][l],n.total=i.total=Math.max(i.total,n.total)+Math.abs(h)||0):n.total=s(n.total+(Math.abs(h)||0))):n.total=s(n.total+(h||0)),n.cum=c(n.cum,v)+(h||0),null!==h&&(n.points[o].push(n.cum),p[a]=n.cum);"percent"===g&&(_.usePercentage=!0),this.stackedYData=p,_.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;a([i,"-"+i],function(i){for(var o,a,l=r.length;l--;)o=r[l],t=e.getStackIndicator(t,o,e.index,i),(o=(a=n[i]&&n[i][o])&&a.points[t.key])&&(a=a.total?100/a.total:0,o[0]=s(o[0]*a),o[1]=s(o[1]*a),e.stackedYData[l]=o[1])})},t.prototype.getStackIndicator=function(t,e,i,n){return!r(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,s=t.createElement,r=t.css,o=t.defined,a=t.each,l=t.erase,c=t.extend,h=t.fireEvent,u=t.inArray,d=t.isNumber,p=t.isObject,f=t.merge,g=t.pick,m=t.Point,v=t.Series,b=t.seriesTypes,y=t.setAnimation,x=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,i){var n,s=this;return t&&(e=g(e,!0),h(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(t,e,i,s){var r=e?"xAxis":"yAxis",o=this.options;t=f(t,{index:this[r].length,isX:e}),new n(this,t),o[r]=x(o[r]||{}),o[r].push(t),g(i,!0)&&this.redraw(s)},showLoading:function(t){var n=this,o=n.options,a=n.loadingDiv,l=o.loading,h=function(){a&&r(a,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};a||(n.loadingDiv=a=s("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=s("span",{className:"highcharts-loading-inner"},null,a),e(n,"redraw",h)),a.className="highcharts-loading",n.loadingSpan.innerHTML=t||o.lang.loading,r(a,c(l.style,{zIndex:10})),r(n.loadingSpan,l.labelStyle),n.loadingShown||(r(a,{opacity:0,display:""}),i(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,h()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){r(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions".split(" "),update:function(t,e){var i,n,s,r={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;if(l){f(!0,this.options.chart,l),"className"in l&&this.setClassName(l.className),("inverted"in l||"polar"in l)&&(this.propFromSeries(),n=!0);for(i in l)l.hasOwnProperty(i)&&(-1!==u("chart."+i,this.propsRequireUpdateSeries)&&(s=!0),-1!==u(i,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in l&&this.renderer.setStyle(l.style)}for(i in t)this[i]&&"function"==typeof this[i].update?this[i].update(t[i],!1):"function"==typeof this[r[i]]&&this[r[i]](t[i]),"chart"!==i&&-1!==u(i,this.propsRequireUpdateSeries)&&(s=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&f(!0,this.options.plotOptions,t.plotOptions),a(["xAxis","yAxis","series"],function(e){t[e]&&a(x(t[e]),function(t){var i=o(t.id)&&this.get(t.id)||this[e][0];i&&i.coll===e&&i.update(t,!1)},this)},this),n&&a(this.axes,function(t){t.update({},!1)}),s&&a(this.series,function(t){t.update({},!1)}),t.loading&&f(!0,this.options.loading,t.loading),i=l&&l.width,l=l&&l.height,d(i)&&i!==this.chartWidth||d(l)&&l!==this.chartHeight?this.setSize(i,l):g(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(m.prototype,{update:function(t,e,i,n){function s(){o.applyOptions(t),null===o.y&&l&&(o.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(o.graphic=l.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),r=o.index,a.updateParallelArrays(o,r),h.data[r]=p(h.data[r],!0)?o.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var r,o=this,a=o.series,l=o.graphic,c=a.chart,h=a.options;e=g(e,!0),!1===n?s():o.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(u(this,this.series.data),t,e)}}),c(v.prototype,{addPoint:function(t,e,i,n){var s,r,o,a,l=this.options,c=this.data,h=this.chart,u=this.xAxis&&this.xAxis.names,d=l.data,p=this.xData;if(e=g(e,!0),s={series:this},this.pointClass.prototype.applyOptions.apply(s,[t]),a=s.x,o=p.length,this.requireSorting&&a<p[o-1])for(r=!0;o&&p[o-1]>a;)o--;this.updateParallelArrays(s,"splice",o,0,0),this.updateParallelArrays(s,o),u&&s.name&&(u[a]=s.name),d.splice(o,0,t),r&&(this.data.splice(o,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(s,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&h.redraw(n)},removePoint:function(t,e,i){var n=this,s=n.data,r=s[t],o=n.points,a=n.chart,l=function(){o&&o.length===s.length&&o.splice(t,1),s.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(r||{series:n},"splice",t,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};y(i,a),e=g(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){s.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),g(t,!0)&&r.redraw(e)}var s=this,r=s.chart;!1!==i?h(s,"remove",null,n):n()},update:function(t,e){var i,n=this,s=this.chart,r=this.userOptions,o=this.type,l=t.type||r.type||s.options.chart.type,h=b[o].prototype,u=["group","markerGroup","dataLabelsGroup"];(l&&l!==o||void 0!==t.zIndex)&&(u.length=0),a(u,function(t){u[t]=n[t],delete n[t]}),t=f(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1);for(i in h)this[i]=void 0;c(this,b[l||o].prototype),a(u,function(t){n[t]=u[t]}),this.init(s,t),s.linkSeries(),g(e,!0)&&s.redraw(!1)}}),c(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=f(this.userOptions,t),this.destroy(!0),this.init(i,c(t,{events:void 0})),i.isDirtyBox=!0,g(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),a(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,g(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,i=t.each,n=t.map,s=t.pick,r=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,r,o=[],a=[],l=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],u={},d=this.points,p=this.index,f=c.series,g=f.length,m=s(c.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<d.length;e++)u[d[e].x]=d[e];for(r in h)null!==h[r].total&&a.push(r);a.sort(function(t,e){return t-e}),t=n(f,function(){return this.visible}),i(a,function(n,s){var r,d,f=0;if(u[n]&&!u[n].isNull)o.push(u[n]),i([-1,1],function(i){var o=1===i?"rightNull":"leftNull",l=0,c=h[a[s+i]];if(c)for(e=p;0<=e&&e<g;)r=c.points[e],r||(e===p?u[n][o]=!0:t[e]&&(d=h[n].points[e])&&(l-=d[1]-d[0])),e+=m;u[n][1===i?"rightCliff":"leftCliff"]=l});else{for(e=p;0<=e&&e<g;){if(r=h[n].points[e]){f=r[1];break}e+=m}f=c.toPixels(f,!0),o.push({isNull:!0,plotX:l.toPixels(n,!0),plotY:f,yBottom:f})}})}return o},getGraphPath:function(t){
var e,i,n,o,a=r.prototype.getGraphPath,l=this.options,c=l.stacking,h=this.yAxis,u=[],d=[],p=this.index,f=h.stacks[this.stackKey],g=l.threshold,m=h.getThreshold(l.threshold),l=l.connectNulls||"percent"===c,v=function(e,i,s){var r=t[e];e=c&&f[r.x].points[p];var o=r[s+"Null"]||0;s=r[s+"Cliff"]||0;var a,l,r=!0;s||o?(a=(o?e[0]:e[1])+s,l=e[0]+s,r=!!o):!c&&t[i]&&t[i].isNull&&(a=l=g),void 0!==a&&(d.push({plotX:n,plotY:null===a?m:h.getThreshold(a),isNull:r}),u.push({plotX:n,plotY:null===l?m:h.getThreshold(l),doCurve:!1}))};for(t=t||this.points,c&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,n=s(t[e].rectPlotX,t[e].plotX),o=s(t[e].yBottom,m),(!i||l)&&(l||v(e,e-1,"left"),i&&!c&&l||(d.push(t[e]),u.push({x:e,plotX:n,plotY:o})),l||v(e,e+1,"right"));return e=a.call(this,d,!0,!0),u.reversed=!0,i=a.call(this,u,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),a=a.call(this,d,!1,l),i.xMap=e.xMap,this.areaPath=i,a},drawGraph:function(){this.areaPath=[],r.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,o=this.options,a=[["area","highcharts-area",this.color,o.fillColor]];i(this.zones,function(e,i){a.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||o.fillColor])}),i(a,function(i){var r=i[0],a=t[r];a?(a.endX=n.xMap,a.animate({d:n})):(a=t[r]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:s(i[3],e(i[2]).setOpacity(s(o.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=n.xMap,a.shiftUnit=o.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){var s=i.plotX,r=i.plotY,o=t[n-1];n=t[n+1];var a,l,c,h;if(o&&!o.isNull&&!1!==o.doCurve&&n&&!n.isNull&&!1!==n.doCurve){t=o.plotY,c=n.plotX,n=n.plotY;var u=0;a=(1.5*s+o.plotX)/2.5,l=(1.5*r+t)/2.5,c=(1.5*s+c)/2.5,h=(1.5*r+n)/2.5,c!==a&&(u=(h-l)*(c-s)/(c-a)+r-h),l+=u,h+=u,l>t&&l>r?(l=Math.max(t,r),h=2*r-l):l<t&&l<r&&(l=Math.min(t,r),h=2*r-l),h>n&&h>r?(h=Math.max(n,r),l=2*r-h):h<n&&h<r&&(h=Math.min(n,r),l=2*r-h),i.rightContX=c,i.rightContY=h}return i=["C",e(o.rightContX,o.plotX),e(o.rightContY,o.plotY),e(a,s),e(l,r),s,r],o.rightContX=o.rightContY=null,i}})}(t),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,i=t.color,n=t.each,s=t.extend,r=t.isNumber,o=t.merge,a=t.pick,l=t.Series,c=t.seriesType,h=t.stop,u=t.svg;c("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,s=e.xAxis,r=e.yAxis,o=s.reversed,l={},c=0;!1===i.grouping?c=1:n(e.chart.series,function(i){var n,s=i.options,o=i.yAxis;i.type===e.type&&i.visible&&r.len===o.len&&r.pos===o.pos&&(s.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=c++),n=l[t]):!1!==s.grouping&&(n=c++),i.columnIndex=n)});var h=Math.min(Math.abs(s.transA)*(s.ordinalSlope||i.pointRange||s.closestPointRange||s.tickInterval||1),s.len),u=h*i.groupPadding,d=(h-2*u)/c,i=Math.min(i.maxPointWidth||s.len,a(i.pointWidth,d*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(d-i)/2+(u+((e.columnIndex||0)+(o?1:0))*d-h/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var s=this.chart,r=this.borderWidth,o=-(r%2?.5:0),r=r%2?.5:1;return s.inverted&&s.renderer.isVML&&(r+=1),i=Math.round(t+i)+o,t=Math.round(t)+o,n=Math.round(e+n)+r,o=.5>=Math.abs(e)&&.5<n,e=Math.round(e)+r,n-=e,o&&n&&(--e,n+=1),{x:t,y:e,width:i-t,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,s=t.dense=2>t.closestPointRange*t.xAxis.transA,s=t.borderWidth=a(i.borderWidth,s?0:1),r=t.yAxis,o=t.translatedThreshold=r.getThreshold(i.threshold),c=a(i.minPointLength,5),h=t.getColumnMetrics(),u=h.width,d=t.barW=Math.max(u,1+2*s),p=t.pointXOffset=h.offset;e.inverted&&(o-=.5),i.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),n(t.points,function(i){var n,s=a(i.yBottom,o),l=999+Math.abs(s),l=Math.min(Math.max(-l,i.plotY),r.len+l),h=i.plotX+p,f=d,g=Math.min(l,s),m=Math.max(l,s)-g;Math.abs(m)<c&&c&&(m=c,n=!r.reversed&&!i.negative||r.reversed&&i.negative,g=Math.abs(g-o)>c?s-c:o-(n?c:0)),i.barX=h,i.pointWidth=u,i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-l,t.xAxis.len-h-f/2,m]:[h+f/2,l+r.pos-e.plotTop,m],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[i.plotX,r.len/2,0,0]:[h,g,f,m])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,s=this.options,r=this.pointAttrToOptions||{},o=r.stroke||"borderColor",a=r["stroke-width"]||"borderWidth",l=t&&t.color||this.color,c=t[o]||s[o]||this.color||l,r=s.dashStyle;return t&&this.zones.length&&(l=(l=t.getZone())&&l.color||t.options.color||this.color),e&&(e=s.states[e],n=e.brightness,l=e.color||void 0!==n&&i(l).brighten(e.brightness).get()||l,c=e[o]||c,r=e.dashStyle||r),t={fill:l,stroke:c,"stroke-width":t[a]||s[a]||this[a]||0},s.borderRadius&&(t.r=s.borderRadius),r&&(t.dashstyle=r),t},drawPoints:function(){var t,e=this,i=this.chart,s=e.options,a=i.renderer,l=s.animationLimit||250;n(e.points,function(n){var c=n.graphic;r(n.plotY)&&null!==n.y?(t=n.shapeArgs,c?(h(c),c[i.pointCount<l?"animate":"attr"](o(t))):n.graphic=c=a[n.shapeType](t).attr({"class":n.getClassName()}).add(n.group||e.group),c.attr(e.pointAttribs(n,n.selected&&"select")).shadow(s.shadow,null,s.stacking&&!s.borderRadius)):c&&(n.graphic=c.destroy())})},animate:function(t){var i=this,n=this.yAxis,r=i.options,o=this.chart.inverted,a={};u&&(t?(a.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(r.threshold))),o?a.translateX=t-n.len:a.translateY=t,i.group.attr(a)):(a[o?"translateX":"translateY"]=n.pos,i.group.animate(a,s(e(i.options.animation),{step:function(t,e){i.group.attr({scaleY:Math.max(.001,e.pos)})}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,i=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,n,s=this.options,r=this.chart,o=2*(s.slicedOffset||0),a=r.plotWidth-2*o,r=r.plotHeight-2*o,l=s.center,l=[e(l[0],"50%"),e(l[1],"50%"),s.size||"100%",s.innerSize||0],c=Math.min(a,r);for(t=0;4>t;++t)n=l[t],s=2>t||2===t&&/%$/.test(n),l[t]=i(n,[a,r,c,l[2]][t])+(s?o:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,i=t.defined,n=t.each,s=t.extend,r=t.inArray,o=t.noop,a=t.pick,l=t.Point,c=t.Series,h=t.seriesType,u=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(n(i,function(t){var i=t.graphic,n=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:s,end:s}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,s=n.length,r=this.options.ignoreHiddenPoint;for(t=0;t<s;t++)e=n[t],0>e.y&&(e.y=null),i+=r&&!e.visible?0:e.y;for(this.total=i,t=0;t<s;t++)e=n[t],e.percentage=0<i&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,s,r,o=0,l=this.options,c=l.slicedOffset,h=c+(l.borderWidth||0),u=l.startAngle||0,d=this.startAngleRad=Math.PI/180*(u-90),u=(this.endAngleRad=Math.PI/180*(a(l.endAngle,u+360)-90))-d,p=this.points,f=l.dataLabels.distance,l=l.ignoreHiddenPoint,g=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+f),1)),t[0]+(i?-1:1)*Math.cos(n)*(t[2]/2+f)},s=0;s<g;s++)r=p[s],e=d+o*u,l&&!r.visible||(o+=r.percentage/100),i=d+o*u,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},n=(i+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),r.slicedTranslation={translateX:Math.round(Math.cos(n)*c),translateY:Math.round(Math.sin(n)*c)},e=Math.cos(n)*t[2]/2,i=Math.sin(n)*t[2]/2,r.tooltipPos=[t[0]+.7*e,t[1]+.7*i],r.half=n<-Math.PI/2||n>Math.PI/2?1:0,r.angle=n,h=Math.min(h,f/5),r.labelPos=[t[0]+e+Math.cos(n)*f,t[1]+i+Math.sin(n)*f,t[0]+e+Math.cos(n)*h,t[1]+i+Math.sin(n)*h,t[0]+e,t[1]+i,0>f?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,r,o=this,a=o.chart.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=a.g("shadow").add(o.group)),n(o.points,function(n){if(null!==n.y){e=n.graphic,r=n.shapeArgs,t=n.sliced?n.slicedTranslation:{};var c=n.shadowGroup;l&&!c&&(c=n.shadowGroup=a.g("shadow").add(o.shadowGroup)),c&&c.attr(t),i=o.pointAttribs(n,n.selected&&"select"),e?e.setRadialReference(o.center).attr(i).animate(s(r,t)):(n.graphic=e=a[n.shapeType](r).addClass(n.getClassName()).setRadialReference(o.center).attr(t).add(o.group),n.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,c))}})},searchPoint:o,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:o},{init:function(){l.prototype.init.apply(this,arguments);var t,i=this;return i.name=a(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},setVisible:function(t,e){var i=this,s=i.series,o=s.chart,l=s.options.ignoreHiddenPoint;e=a(e,l),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,s.options.data[r(i,s.data)]=i.options,n(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),l&&(s.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var s=this.series;u(n,s.chart),a(e,!0),this.sliced=this.options.sliced=t=i(t)?t:!this.sliced,s.options.data[r(this,s.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,s=t.each,r=t.extend,o=t.format,a=t.map,l=t.merge,c=t.noop,h=t.pick,u=t.relativeLength,d=t.Series,p=t.seriesTypes,f=t.stableSort,g=t.stop;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,r,o=!0,l=t,c=[];for(r=0,n=t.length;n--;)r+=t[n].size;if(r>e){for(f(t,function(t,e){return(e.rank||0)-(t.rank||0)}),r=n=0;r<=e;)r+=t[n].size,n++;c=t.splice(n-1,t.length)}for(f(t,i),t=a(t,function(t){return{size:t.size,targets:[t.target]}});o;){for(n=t.length;n--;)o=t[n],r=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,r-o.size/2),e-o.size);for(n=t.length,o=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),o=!0)}n=0,s(t,function(t){var e=0;s(t.targets,function(){l[n].pos=t.pos+e,e+=l[n].size,n++})}),l.push.apply(l,c),f(l,i)},d.prototype.drawDataLabels=function(){var t,i,a,c,u=this,d=u.options,p=d.dataLabels,f=u.points,g=u.hasRendered||0,m=h(p.defer,!0),v=u.chart.renderer;(p.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(p),c=u.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",p.zIndex||6),m&&(c.attr({opacity:+g}),g||e(u,"afterAnimate",function(){u.visible&&c.show(!0),c[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=p,s(f,function(e){var s,f,g,m,b=e.dataLabel,y=e.connector,x=!0,w={};if(t=e.dlOptions||e.options&&e.options.dataLabels,s=h(t&&t.enabled,i.enabled)&&null!==e.y,b&&!s)e.dataLabel=b.destroy();else if(s){if(p=l(i,t),m=p.style,s=p.rotation,f=e.getLabelConfig(),a=p.format?o(p.format,f):p.formatter.call(f,p),m.color=h(p.color,m.color,u.color,"#000000"),b)n(a)?(b.attr({text:a}),x=!1):(e.dataLabel=b=b.destroy(),y&&(e.connector=y.destroy()));else if(n(a)){b={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:s,padding:p.padding,zIndex:1},"contrast"===m.color&&(w.color=p.inside||0>p.distance||d.stacking?v.getContrast(e.color||u.color):"#000000"),d.cursor&&(w.cursor=d.cursor);for(g in b)void 0===b[g]&&delete b[g];b=e.dataLabel=v[s?"text":"label"](a,0,-9999,p.shape,null,null,p.useHTML,null,"data-label").attr(b),b.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(p.className||"")),b.css(r(m,w)),b.add(c),b.shadow(p.shadow)}b&&u.alignDataLabel(e,b,p,null,x)}}))},d.prototype.alignDataLabel=function(t,e,i,n,s){var o,a=this.chart,l=a.inverted,c=h(t.plotX,-9999),u=h(t.plotY,-9999),d=e.getBBox(),p=i.rotation,f=i.align,m=this.visible&&(t.series.forceDL||a.isInsidePlot(c,Math.round(u),l)||n&&a.isInsidePlot(c,l?n.x+1:n.y+n.height-1,l)),v="justify"===h(i.overflow,"justify");m&&(o=i.style.fontSize,o=a.renderer.fontMetrics(o,e).b,n=r({x:l?a.plotWidth-u:c,y:Math.round(l?a.plotHeight-c:u),width:0,height:0},n),r(i,{width:d.width,height:d.height}),p?(v=!1,l=a.renderer.rotCorr(o,p),l={x:n.x+i.x+n.width/2+l.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[s?"attr":"animate"](l).attr({align:f}),c=(p+720)%360,c=180<c&&360>c,"left"===f?l.y-=c?d.height:0:"center"===f?(l.x-=d.width/2,l.y-=d.height/2):"right"===f&&(l.x-=d.width,l.y-=c?0:d.height)):(e.align(i,null,n),l=e.alignAttr),v?this.justifyDataLabel(e,i,l,d,n,s):h(i.crop,!0)&&(m=a.isInsidePlot(l.x,l.y)&&a.isInsidePlot(l.x+d.width,l.y+d.height)),i.shape&&!p&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),m||(g(e),e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,s,r){var o,a,l=this.chart,c=e.align,h=e.verticalAlign,u=t.box?0:t.padding||0;o=i.x+u,0>o&&("right"===c?e.align="left":e.x=-o,a=!0),o=i.x+n.width-u,o>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-o,a=!0),o=i.y+u,0>o&&("bottom"===h?e.verticalAlign="top":e.y=-o,a=!0),o=i.y+n.height-u,o>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-o,a=!0),a&&(t.placed=!r,t.align(e,null,s))},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,n,r,o,l,c,u,p,f,g,m=this,v=m.data,b=m.chart,y=m.options.dataLabels,x=h(y.connectorPadding,10),w=h(y.connectorWidth,1),_=b.plotWidth,k=b.plotHeight,C=y.distance,T=m.center,S=T[2]/2,E=T[1],O=0<C,P=[[],[]],M=[0,0,0,0];m.visible&&(y.enabled||m._hasPointLabels)&&(d.prototype.drawDataLabels.apply(m),s(v,function(t){t.dataLabel&&t.visible&&(P[t.half].push(t),t.dataLabel._pos=null)}),s(P,function(i,n){var s,h,d,v,w,O=i.length;if(O)for(m.sortByAngle(i,n-.5),0<C&&(s=Math.max(0,E-S-C),h=Math.min(E+S+C,b.plotHeight),d=a(i,function(t){if(t.dataLabel)return w=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-s+w/2,size:w,rank:t.y}}),t.distribute(d,h+w-s)),g=0;g<O;g++)e=i[g],l=e.labelPos,r=e.dataLabel,f=!1===e.visible?"hidden":"inherit",v=l[1],d?void 0===d[g].pos?f="hidden":(c=d[g].size,p=s+d[g].pos):p=v,u=y.justify?T[0]+(n?-1:1)*(S+C):m.getX(p<s+2||p>h-2?v:p,n),r._attr={visibility:f,align:l[6]},r._pos={x:u+y.x+({left:x,right:-x}[l[6]]||0),y:p+y.y-10},l.x=u,l.y=p,null===m.options.size&&(o=r.width,u-o<x?M[3]=Math.max(Math.round(o-u+x),M[3]):u+o>_-x&&(M[1]=Math.max(Math.round(u+o-_+x),M[1])),0>p-c/2?M[0]=Math.max(Math.round(c/2-p),M[0]):p+c/2>k&&(M[2]=Math.max(Math.round(p+c/2-k),M[2])))}),0===i(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),O&&w&&s(this.points,function(t){var e;n=t.connector,(r=t.dataLabel)&&r._pos&&t.visible?(f=r._attr.visibility,(e=!n)&&(t.connector=n=b.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),n.attr({"stroke-width":w,stroke:y.connectorColor||t.color||"#666666"})),n[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),n.attr("visibility",f)):n&&(t.connector=n.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return h(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){s(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i,n=this.center,s=this.options,r=s.center,o=s.minSize||80;return null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(u(s.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):i=!0,i}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,n,s){var r=this.chart.inverted,o=t.series,a=t.dlBox||t.shapeArgs,c=h(t.below,t.plotY>h(this.translatedThreshold,o.yAxis.len)),u=h(i.inside,!!this.options.stacking);a&&(n=l(a),0>n.y&&(n.height+=n.y,n.y=0),a=n.y+n.height-o.yAxis.len,0<a&&(n.height-=a),r&&(n={x:o.yAxis.len-n.y-n.height,y:o.xAxis.len-n.x-n.width,width:n.height,height:n.width}),u||(r?(n.x+=c?0:n.width,n.width=0):(n.y+=c?n.height:0,n.height=0))),i.align=h(i.align,!r||u?"center":c?"right":"left"),i.verticalAlign=h(i.verticalAlign,r||u?"middle":c?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,s)})}(t),function(t){var e=t.Chart,i=t.each,n=t.pick,s=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var s=t.options.dataLabels,r=t.dataLabelCollections||["dataLabel"];(s.enabled||t._hasPointLabels)&&!s.allowOverlap&&t.visible&&i(r,function(s){i(t.points,function(t){t[s]&&(t[s].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[s]))})})}),t.hideOverlappingLabels(e)}e(),s(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,s,r,o,a,l,c,h,u=t.length,d=function(t,e,i,n,s,r,o,a){return!(s>t+i||s+o<t||r>e+n||r+a<e)};for(n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(s=t[n],e=n+1;e<u;++e)r=t[e],s&&r&&s.placed&&r.placed&&0!==s.newOpacity&&0!==r.newOpacity&&(o=s.alignAttr,a=r.alignAttr,l=s.parentGroup,c=r.parentGroup,h=2*(s.box?0:s.padding),o=d(o.x+l.translateX,o.y+l.translateY,s.width-h,s.height-h,a.x+c.translateX,a.y+c.translateY,r.width-h,r.height-h))&&((s.labelrank<r.labelrank?s:r).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,i=t.addEvent,n=t.Chart,s=t.createElement,r=t.css,o=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,h=t.fireEvent,u=t.hasTouch,d=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,b=t.Series,y=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;void 0!==i&&i!==e.hoverPoint&&i.onMouseOver(t)};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){i.onTrackerMouseOut(t)}),u&&t[e].on("touchstart",n),t.options.cursor&&t[e].css(r).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,s=[].concat(n?e.areaPath:e.graphPath),r=s.length,o=e.chart,a=o.pointer,c=o.renderer,h=o.options.tooltip.snap,d=e.tracker,p=function(){o.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(x?1e-4:.002)+")";if(r&&!n)for(t=r+1;t--;)"M"===s[t]&&s.splice(t+1,0,s[t+1]-h,s[t+2],"L"),(t&&"M"===s[t]||t===r)&&s.splice(t,0,"L",s[t-2]+h,s[t-1]);d?d.attr({d:s}):e.graph&&(e.tracker=c.path(s).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*h),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),u&&t.on("touchstart",p)}))}},y.column&&(y.column.prototype.drawTracker=e.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=e.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=e.drawTrackerPoint),c(f.prototype,{setItemEvents:function(t,e,i){var n=this,s=n.chart,r="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),s.seriesGroup.addClass(r),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n.itemStyle:n.itemHiddenStyle),s.seriesGroup.removeClass(r),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):h(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=s("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){h(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),o.legend.itemStyle.cursor="pointer",c(n.prototype,{showResetZoom:function(){var t=this,e=o.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,r)},zoomOut:function(){var t=this;h(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,s=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&p(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&l(s,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=n[e?"xAxis":"yAxis"][0];var s=e.horiz,r=t[s?"chartX":"chartY"],s=s?"mouseDownX":"mouseDownY",o=n[s],a=(e.pointRange||0)/2,l=e.getExtremes(),c=e.toValue(o-r,!0)+a,a=e.toValue(o+e.len-r,!0)-a,o=o>r;e.series.length&&(o||c>Math.min(l.dataMin,l.min))&&(!o||a<Math.max(l.dataMax,l.max))&&(e.setExtremes(c,a,!1,!1,{trigger:"pan"}),i=!0),n[s]=r}),i&&n.redraw(!1),r(n.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,s=n.tooltip,r=n.hoverPoint;this.series&&(e||(r&&r!==this&&r.onMouseOut(),n.hoverSeries!==i&&i.onMouseOver(),n.hoverPoint=this),!s||s.shared&&!i.noSharedTooltip?s||this.setState("hover"):(this.setState("hover"),s.refresh(this,t)),this.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==d(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=g(this.series.options.point,this.options).events;this.events=e;for(t in e)i(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(e,i){var n,s=Math.floor(this.plotX),r=this.plotY,o=this.series,l=o.options.states[e]||{},h=a[o.type].marker&&o.options.marker,u=h&&!1===h.enabled,d=h&&h.states&&h.states[e]||{},p=!1===d.enabled,f=o.stateMarkerGraphic,g=this.marker||{},v=o.chart,b=o.halo,y=h&&o.markerAttribs;(e=e||"")===this.state&&!i||this.selected&&"select"!==e||!1===l.enabled||e&&(p||u&&!1===d.enabled)||e&&g.states&&g.states[e]&&!1===g.states[e].enabled||(y&&(n=o.markerAttribs(this,e)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),e&&this.graphic.addClass("highcharts-point-"+e),this.graphic.attr(o.pointAttribs(this,e)),n&&this.graphic.animate(n,m(v.options.chart.animation,d.animation,h.animation)),f&&f.hide()):(e&&d&&(h=g.symbol||o.symbol,f&&f.currentSymbol!==h&&(f=f.destroy()),f?f[i?"animate":"attr"]({x:n.x,y:n.y}):h&&(o.stateMarkerGraphic=f=v.renderer.symbol(h,n.x,n.y,n.width,n.height).add(o.markerGroup),f.currentSymbol=h),f&&f.attr(o.pointAttribs(this,e))),f&&(f[e&&v.isInsidePlot(s,r,v.inverted)?"show":"hide"](),f.element.point=this)),(s=l.halo)&&s.size?(b||(o.halo=b=v.renderer.path().add(y?o.markerGroup:o.group)),t.stop(b),b[i?"animate":"attr"]({d:this.haloPath(s.size)}),b.attr({"class":"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)}),b.attr(c({fill:this.color||o.color,"fill-opacity":s.opacity,zIndex:-1},s.attributes))):b&&b.animate({d:this.haloPath(0)}),this.state=e)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(b.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&h(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&h(this,"mouseOut"),!i||t.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,n=e.graph,s=i.states,r=i.lineWidth,i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!s[t]||!1!==s[t].enabled)&&(t&&(r=s[t].lineWidth||r+(s[t].lineWidthPlus||0)),n&&!n.dashstyle))for(s={"stroke-width":r},n.attr(s);e["zone-graph-"+i];)e["zone-graph-"+i].attr(s),i+=1},setVisible:function(t,e){var i,n=this,s=n.chart,r=n.legendItem,o=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),s.hoverSeries!==n&&(s.hoverPoint&&s.hoverPoint.series)!==n||n.onMouseOut(),r&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),o&&(s.isDirtyBox=!0),!1!==e&&s.redraw(),h(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),h(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,i=t.each,n=t.inArray,s=t.isObject,r=t.pick,o=t.splat;e.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&i(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},e.prototype.matchResponsiveRule=function(e,i){var n,s=this.respRules,o=e.condition;n=o.callback||function(){return this.chartWidth<=r(o.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(o.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(o.minWidth,0)&&this.chartHeight>=r(o.minHeight,0)},void 0===e._id&&(e._id=t.uniqueKey()),n=n.call(this),!s[e._id]&&n?e.chartOptions&&(s[e._id]=this.currentOptions(e.chartOptions),this.update(e.chartOptions,i)):s[e._id]&&!n&&(this.update(s[e._id],i),delete s[e._id])},e.prototype.currentOptions=function(t){function e(t,i,r){var a,l;for(a in t)if(-1<n(a,["series","xAxis","yAxis"]))for(t[a]=o(t[a]),r[a]=[],l=0;l<t[a].length;l++)r[a][l]={},e(t[a][l],i[a][l],r[a][l]);else s(t[a])?(r[a]={},e(t[a],i[a]||{},r[a])):r[a]=i[a]||null}var i={};return e(t,this.options,i),i}}(t),t}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){var e=t.defaultOptions,i=t.doc,n=t.Chart,s=t.addEvent,r=t.removeEvent,o=t.fireEvent,a=t.createElement,l=t.discardElement,c=t.css,h=t.merge,u=t.pick,d=t.each,p=t.extend,f=t.splat,g=t.isTouchDevice,m=t.win,v=t.Renderer.prototype.symbols;p(e.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),e.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},h(!0,e.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:g?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),e.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,n){var s;t=a("form",h({method:"post",action:t,enctype:"multipart/form-data"},n),{display:"none"},i.body);for(s in e)a("input",{type:"hidden",name:s,value:e[s]},null,t);t.submit(),l(t)},p(n.prototype,{sanitizeSVG:function(t){return t=t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),
t=t.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var n,s,r,o,c,u,g=this,m=h(g.options,e),v=m.exporting.allowHTML;return i.createElementNS||(i.createElementNS=function(t,e){return i.createElement(e)}),s=a("div",null,{position:"absolute",top:"-9999em",width:g.chartWidth+"px",height:g.chartHeight+"px"},i.body),c=g.renderTo.style.width,r=g.renderTo.style.height,c=m.exporting.sourceWidth||m.chart.width||/px$/.test(c)&&parseInt(c,10)||600,u=m.exporting.sourceHeight||m.chart.height||/px$/.test(r)&&parseInt(r,10)||400,p(m.chart,{animation:!1,renderTo:s,forExport:!0,renderer:"SVGRenderer",width:c,height:u}),m.exporting.enabled=!1,delete m.data,m.series=[],d(g.series,function(t){o=h(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),o.isInternal||m.series.push(o)}),e&&d(["xAxis","yAxis"],function(t){d(f(e[t]),function(e,i){m[t][i]=h(m[t][i],e)})}),n=new t.Chart(m,g.callback),d(["xAxis","yAxis"],function(t){d(g[t],function(e,i){i=n[t][i];var s=e.getExtremes();e=s.userMin,s=s.userMax,!i||void 0===e&&void 0===s||i.setExtremes(e,s,!0,!1)})}),r=n.getChartHTML(),m=null,n.destroy(),l(s),v&&(s=r.match(/<\/svg>(.*?$)/))&&(s='<foreignObject x="0" y="0" width="'+c+'" height="'+u+'"><body xmlns="http://www.w3.org/1999/xhtml">'+s[1]+"</body></foreignObject>",r=r.replace("</svg>",s+"</svg>")),r=this.sanitizeSVG(r),r=r.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(h({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){i=this.getSVGForExport(e,i),e=h(this.options.exporting,e),t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale,svg:i},e.formAttributes)},print:function(){var t,e,n=this,s=n.container,r=[],a=s.parentNode,l=i.body,c=l.childNodes,h=n.options.exporting.printMaxWidth;n.isPrinting||(n.isPrinting=!0,n.pointer.reset(null,0),o(n,"beforePrint"),(e=h&&n.chartWidth>h)&&(t=[n.options.chart.width,void 0,!1],n.setSize(h,void 0,!1)),d(c,function(t,e){1===t.nodeType&&(r[e]=t.style.display,t.style.display="none")}),l.appendChild(s),m.focus(),m.print(),setTimeout(function(){a.appendChild(s),d(c,function(t,e){1===t.nodeType&&(t.style.display=r[e])}),n.isPrinting=!1,e&&n.setSize.apply(n,t),o(n,"afterPrint")},1e3))},contextMenu:function(t,e,n,r,o,l,h){var u,f,g=this,m=g.options.navigation,v=g.chartWidth,b=g.chartHeight,y="cache-"+t,x=g[y],w=Math.max(o,l);x||(g[y]=x=a("div",{className:t},{position:"absolute",zIndex:1e3,padding:w+"px"},g.container),u=a("div",{className:"highcharts-menu"},null,x),c(u,p({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},m.menuStyle)),f=function(){c(x,{display:"none"}),h&&h.setState(0),g.openMenu=!1},s(x,"mouseleave",function(){x.hideTimer=setTimeout(f,500)}),s(x,"mouseenter",function(){clearTimeout(x.hideTimer)}),y=s(i,"mouseup",function(e){g.pointer.inClass(e.target,t)||f()}),s(g,"destroy",y),d(e,function(t){if(t){var e;t.separator?e=a("hr",null,null,u):(e=a("div",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),f(),t.onclick&&t.onclick.apply(g,arguments)},innerHTML:t.text||g.options.lang[t.textKey]},null,u),e.onmouseover=function(){c(this,m.menuItemHoverStyle)},e.onmouseout=function(){c(this,m.menuItemStyle)},c(e,p({cursor:"pointer"},m.menuItemStyle))),g.exportDivElements.push(e)}}),g.exportDivElements.push(u,x),g.exportMenuWidth=x.offsetWidth,g.exportMenuHeight=x.offsetHeight),e={display:"block"},n+g.exportMenuWidth>v?e.right=v-n-o-w+"px":e.left=n-w+"px",r+l+g.exportMenuHeight>b&&"top"!==h.alignOptions.verticalAlign?e.bottom=b-r-w+"px":e.top=r+l-w+"px",c(x,e),g.openMenu=!0},addButton:function(t){var e,i,n=this,s=n.renderer,r=h(n.options.navigation.buttonOptions,t),o=r.onclick,a=r.menuItems,l=r.symbolSize||12;if(n.btnCount||(n.btnCount=0),n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]),!1!==r.enabled){var c,d=r.theme,f=d.states,g=f&&f.hover,f=f&&f.select;delete d.states,o?c=function(t){t.stopPropagation(),o.call(n,t)}:a&&(c=function(){n.contextMenu(i.menuClassName,a,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)}),r.text&&r.symbol?d.paddingLeft=u(d.paddingLeft,25):r.text||p(d,{width:r.width,height:r.height,padding:0}),i=s.button(r.text,0,0,c,d,g,f).addClass(t.className).attr({"stroke-linecap":"round",title:n.options.lang[r._titleKey],zIndex:3}),i.menuClassName=t.menuClassName||"highcharts-menu-"+n.btnCount++,r.symbol&&(e=s.symbol(r.symbol,r.symbolX-l/2,r.symbolY-l/2,l,l).addClass("highcharts-button-symbol").attr({zIndex:1}).add(i),e.attr({stroke:r.symbolStroke,fill:r.symbolFill,"stroke-width":r.symbolStrokeWidth||1})),i.add().align(p(r,{width:i.width,x:u(r.x,n.buttonOffset)}),!0,"spacingBox"),n.buttonOffset+=(i.width+r.buttonSpacing)*("right"===r.align?-1:1),n.exportSVGElements.push(i,e)}},destroyExport:function(t){var e=t?t.target:this;t=e.exportSVGElements;var i=e.exportDivElements;t&&(d(t,function(t,i){t&&(t.onclick=t.ontouchstart=null,e.exportSVGElements[i]=t.destroy())}),t.length=0),i&&(d(i,function(t,i){clearTimeout(t.hideTimer),r(t,"mouseleave"),e.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,l(t)}),i.length=0)}}),v.menu=function(t,e,i,n){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+n/2+.5,"L",t+i,e+n/2+.5,"M",t,e+n-1.5,"L",t+i,e+n-1.5]},n.prototype.renderExporting=function(){var t,e=this.options.exporting,i=e.buttons,n=this.isDirtyExporting||!this.exportSVGElements;if(this.buttonOffset=0,this.isDirtyExporting&&this.destroyExport(),n&&!1!==e.enabled){for(t in i)this.addButton(i[t]);this.isDirtyExporting=!1}s(this,"destroy",this.destroyExport)},n.prototype.callbacks.push(function(t){t.renderExporting(),s(t,"redraw",t.renderExporting),d(["exporting","navigation"],function(e){t[e]={update:function(i,n){t.isDirtyExporting=!0,h(!0,t.options[e],i),u(n,!0)&&t.redraw()}}})})}(t)}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){"use strict";function e(e,i,n,s,o){var a,l,c,h=(e.options.exporting||{}).csv||{},u=h.url||"http://www.highcharts.com/studies/csv-export/download.php";c=e.options.exporting.filename?e.options.exporting.filename:e.title?e.title.textStr.replace(/ /g,"-").toLowerCase():"chart",window.Blob&&window.navigator.msSaveOrOpenBlob?(l=new Blob([s]),window.navigator.msSaveOrOpenBlob(l,c+"."+n)):r?(a=document.createElement("a"),a.href=i,a.target="_blank",a.download=c+"."+n,document.body.appendChild(a),a.click(),a.remove()):t.post(u,{data:s,type:o,extension:n})}var i=t.each,n=t.pick,s=t.seriesTypes,r=void 0!==document.createElement("a").download;t.setOptions({lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",viewData:"View data table"}}),t.Chart.prototype.getDataRows=function(){var e,s,r,o,a=(this.options.exporting||{}).csv||{},l=this.xAxis[0],c={},h=[],u=[],d=a.dateFormat||"%Y-%m-%d %H:%M:%S",p=a.columnHeaderFormatter||function(e,i,n){return e instanceof t.Axis?e.options.title&&e.options.title.text||(e.isDatetimeAxis?"DateTime":"Category"):e.name+(n>1?" ("+i+")":"")};s=0,i(this.series,function(t){var e,r=t.options.keys,o=r||t.pointArrayMap||["y"],a=o.length,l=t.requireSorting,h={};if(i(o,function(e){h[e]=t[e+"Axis"]&&t[e+"Axis"].categories||[]}),!1!==t.options.includeInCSVExport&&!1!==t.visible){for(e=0;e<a;)u.push(p(t,o[e],o.length)),e+=1;i(t.points,function(i,r){var u,d,p=l?i.x:r;for(e=0,c[p]||(c[p]=[]),c[p].x=i.x,t.xAxis&&"name"!==t.exportKey||(c[p].name=i.name);e<a;)u=o[e],d=i[u],c[p][s+e]=n(h[u][d],d),e+=1}),s+=e}});for(r in c)c.hasOwnProperty(r)&&h.push(c[r]);return h.sort(function(t,e){return t.x-e.x}),o=p(l),e=[[o].concat(u)],i(h,function(i){var s=i.name;s||(l.isDatetimeAxis?(i.x instanceof Date&&(i.x=i.x.getTime()),s=t.dateFormat(d,i.x)):s=l.categories?n(l.names[i.x],l.categories[i.x],i.x):i.x),i.unshift(s),e.push(i)}),e},t.Chart.prototype.getCSV=function(t){var e="",n=this.getDataRows(),s=(this.options.exporting||{}).csv||{},r=s.itemDelimiter||",",o=s.lineDelimiter||"\n";return i(n,function(i,s){for(var a="",l=i.length,c=t?1.1.toLocaleString()[1]:".";l--;)a=i[l],"string"==typeof a&&(a='"'+a+'"'),"number"==typeof a&&","===c&&(a=a.toString().replace(".",",")),i[l]=a;e+=i.join(r),s<n.length-1&&(e+=o)}),e},t.Chart.prototype.getTable=function(t){var e="<table>",n=this.getDataRows();return i(n,function(i,n){var s,r,o=n?"td":"th",a=t?1.1.toLocaleString()[1]:".";for(e+="<tr>",r=0;r<i.length;r+=1)s=i[r],"number"==typeof s?(s=s.toString(),","===a&&(s=s.replace(".",a)),e+="<"+o+' class="number">'+s+"</"+o+">"):e+="<"+o+">"+(void 0===s?"":s)+"</"+o+">";e+="</tr>"}),e+="</table>"},t.Chart.prototype.downloadCSV=function(){var t=this.getCSV(!0);e(this,"data:text/csv,\ufeff"+t.replace(/\n/g,"%0A"),"csv",t,"text/csv")},t.Chart.prototype.downloadXLS=function(){var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";e(this,"data:application/vnd.ms-excel;base64,"+function(t){return window.btoa(unescape(encodeURIComponent(t)))}(t),"xls",t,"application/vnd.ms-excel")},t.Chart.prototype.viewData=function(){if(!this.insertedTable){var t=document.createElement("div");t.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(t,this.renderTo.nextSibling),t.innerHTML=this.getTable(),this.insertedTable=!0}},t.getOptions().exporting&&t.getOptions().exporting.buttons.contextButton.menuItems.push({textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},{textKey:"viewData",onclick:function(){this.viewData()}}),s.map&&(s.map.prototype.exportKey="name"),s.mapbubble&&(s.mapbubble.prototype.exportKey="name")}),$(document).ready(function(){var t=callIosNativeApp();0==callAndroidNativeApp()&&0==t?$(".app_non_important").removeClass("app_non_important"):$(".app_non_important").remove()}),function(t){"use strict";function e(t,i){return new e.prototype.init(t,i)}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;return function(){return e.apply(t)}});var i=0;t.fn.redactor=function(i){var n=[],s=Array.prototype.slice.call(arguments,1);return"string"==typeof i?this.each(function(){var e,r=t.data(this,"redactor");if("-1"!==i.search(/\./)?void 0!==r[(e=i.split("."))[0]]&&(e=r[e[0]][e[1]]):e=r[i],void 0!==r&&t.isFunction(e)){var o=e.apply(r,s);void 0!==o&&o!==r&&n.push(o)}else t.error('No such method "'+i+'" for Redactor')}):this.each(function(){t.data(this,"redactor",{}),t.data(this,"redactor",e(this,i))}),0===n.length?this:1===n.length?n[0]:n},t.Redactor=e,t.Redactor.VERSION="2.8.1",t.Redactor.modules=["air","autosave","block","buffer","build","button","caret","clean","code","core","detect","dropdown","events","file","focus","image","indent","inline","insert","keydown","keyup","lang","line","link","linkify","list","marker","modal","observe","offset","paragraphize","paste","placeholder","progress","selection","shortcuts","storage","toolbar","upload","uploads3","utils","browser"],t.Redactor.settings={},t.Redactor.opts={animation:!1,lang:"en",direction:"ltr",spellcheck:!0,overrideStyles:!0,scrollTarget:document,focus:!1,focusEnd:!1,clickToEdit:!1,structure:!1,tabindex:!1,minHeight:!1,maxHeight:!1,maxWidth:!1,plugins:!1,callbacks:{},placeholder:!1,linkify:!0,enterKey:!0,pastePlainText:!1,pasteImages:!0,pasteLinks:!0,pasteBlockTags:["pre","h1","h2","h3","h4","h5","h6","table","tbody","thead","tfoot","th","tr","td","ul","ol","li","blockquote","p","figure","figcaption"],pasteInlineTags:["br","strong","ins","code","del","span","samp","kbd","sup","sub","mark","var","cite","small","b","u","em","i"],preClass:!1,preSpaces:4,tabAsSpaces:!1,tabKey:!0,autosave:!1,autosaveName:!1,autosaveFields:!1,imageUpload:null,imageUploadParam:"file",imageUploadFields:!1,imageUploadForms:!1,imageTag:"figure",imageEditable:!0,imageCaption:!0,imagePosition:!1,imageResizable:!1,imageFloatMargin:"10px",dragImageUpload:!0,multipleImageUpload:!0,clipboardImageUpload:!0,fileUpload:null,fileUploadParam:"file",fileUploadFields:!1,fileUploadForms:!1,dragFileUpload:!0,s3:!1,linkNewTab:!1,linkTooltip:!0,linkNofollow:!1,linkSize:30,pasteLinkTarget:!1,videoContainerClass:"video-container",toolbar:!0,toolbarFixed:!0,toolbarFixedTarget:document,toolbarFixedTopOffset:0,toolbarExternal:!1,toolbarOverflow:!1,air:!1,airWidth:!1,formatting:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],formattingAdd:!1,buttons:["format","bold","italic","deleted","lists","image","file","link","horizontalrule"],buttonsTextLabeled:!1,buttonsHide:[],buttonsHideOnMobile:[],script:!0,removeNewlines:!1,removeComments:!0,replaceTags:{b:"strong",i:"em",strike:"del"},keepStyleAttr:[],shortcuts:{"ctrl+shift+m, meta+shift+m":{func:"inline.removeFormat"},"ctrl+b, meta+b":{func:"inline.format",params:["bold"]},"ctrl+i, meta+i":{func:"inline.format",params:["italic"]},"ctrl+h, meta+h":{func:"inline.format",params:["superscript"]},"ctrl+l, meta+l":{func:"inline.format",params:["subscript"]},"ctrl+k, meta+k":{func:"link.show"},"ctrl+shift+7":{func:"list.toggle",params:["orderedlist"]},"ctrl+shift+8":{func:"list.toggle",params:["unorderedlist"]}},shortcutsAdd:!1,activeButtons:["deleted","italic","bold"],activeButtonsStates:{b:"bold",strong:"bold",i:"italic",em:"italic",del:"deleted",strike:"deleted"},langs:{en:{format:"Format",image:"Image",file:"File",link:"Link",bold:"Bold",italic:"Italic",deleted:"Strikethrough",underline:"Underline","bold-abbr":"B","italic-abbr":"I","deleted-abbr":"S","underline-abbr":"U",lists:"Lists","link-insert":"Insert link","link-edit":"Edit link","link-in-new-tab":"Open link in new tab",unlink:"Unlink",cancel:"Cancel",close:"Close",insert:"Insert",save:"Save","delete":"Delete",text:"Text",edit:"Edit",title:"Title",paragraph:"Normal text",quote:"Quote",code:"Code",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",filename:"Name",optional:"optional",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",horizontalrule:"Line","upload-label":"Drop file here or ",caption:"Caption",bulletslist:"Bullets",numberslist:"Numbers","image-position":"Position",none:"None",left:"Left",right:"Right",center:"Center","accessibility-help-label":"Rich text editor"}},type:"textarea",inline:!1,inlineTags:["a","span","strong","strike","b","u","em","i","code","del","ins","samp","kbd","sup","sub","mark","var","cite","small"],blockTags:["pre","ul","ol","li","p","h1","h2","h3","h4","h5","h6","dl","dt","dd","div","td","blockquote","output","figcaption","figure","address","section","header","footer","aside","article","iframe"],paragraphize:!0,paragraphizeBlocks:["table","div","pre","form","ul","ol","h1","h2","h3","h4","h5","h6","dl","blockquote","figcaption","address","section","header","footer","aside","article","object","style","script","iframe","select","input","textarea","button","option","map","area","math","hr","fieldset","legend","hgroup","nav","figure","details","menu","summary","p"],emptyHtml:"<p>&#x200b;</p>",invisibleSpace:"&#x200b;",emptyHtmlRendered:t("").html("\u200b").html(),imageTypes:["image/png","image/jpeg","image/gif"],userAgent:navigator.userAgent.toLowerCase(),observe:{dropdowns:[]},regexps:{linkyoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.\-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,linkvimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,linkimage:/((https?|www)[^\s]+\.)(jpe?g|png|gif)(\?[^\s-]+)?/gi,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/gi}},e.fn=t.Redactor.prototype={keyCode:{BACKSPACE:8,DELETE:46,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,CTRL:17,META:91,SHIFT:16,ALT:18,RIGHT:39,LEFT:37,LEFT_WIN:91},init:function(e,n){if(this.$element=t(e),this.uuid=i++,this.sBuffer=[],this.sRebuffer=[],this.loadOptions(n),this.loadModules(),this.opts.clickToEdit&&!this.$element.hasClass("redactor-click-to-edit"))return this.loadToEdit(n);this.$element.hasClass("redactor-click-to-edit")&&this.$element.removeClass("redactor-click-to-edit"),this.reIsBlock=new RegExp("^("+this.opts.blockTags.join("|").toUpperCase()+")$","i"),this.reIsInline=new RegExp("^("+this.opts.inlineTags.join("|").toUpperCase()+")$","i"),this.opts.dragImageUpload=null!==this.opts.imageUpload&&this.opts.dragImageUpload,this.opts.dragFileUpload=null!==this.opts.fileUpload&&this.opts.dragFileUpload,this.formatting={},this.lang.load(),t.extend(this.opts.shortcuts,this.opts.shortcutsAdd),this.$editor=this.$element,this.detectType(),this.core.callback("start"),this.core.callback("startToEdit"),this.start=!0,this.build.start()},detectType:function(){this.build.isInline()||this.opts.inline?this.opts.type="inline":this.build.isTag("DIV")?this.opts.type="div":this.build.isTag("PRE")&&(this.opts.type="pre")},loadToEdit:function(e){this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},initToEdit:function(e){t.extend(e.callbacks,{startToEdit:function(){this.insert.node(this.marker.get(),!1)},initToEdit:function(){this.selection.restore(),this.clickToCancelStorage=this.code.get(),t(this.opts.clickToCancel).off(".redactor-click-to-edit"),t(this.opts.clickToCancel).show().on("click.redactor-click-to-edit",t.proxy(function(i){i.preventDefault(),this.core.destroy(),this.events.syncFire=!1,this.$element.html(this.clickToCancelStorage),this.core.callback("cancel",this.clickToCancelStorage),this.events.syncFire=!0,this.clickToCancelStorage="",t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this)),t(this.opts.clickToSave).off(".redactor-click-to-edit"),t(this.opts.clickToSave).show().on("click.redactor-click-to-edit",t.proxy(function(i){i.preventDefault(),this.core.destroy(),this.core.callback("save",this.code.get()),t(this.opts.clickToCancel).hide(),t(this.opts.clickToSave).hide(),this.$element.on("click.redactor-click-to-edit",t.proxy(function(){this.initToEdit(e)},this)),this.$element.addClass("redactor-click-to-edit")},this))}}),this.$element.redactor(e),this.$element.off(".redactor-click-to-edit")},loadOptions:function(e){var i={};void 0!==t.Redactor.settings.namespace?this.$element.hasClass(t.Redactor.settings.namespace)&&(i=t.Redactor.settings):i=t.Redactor.settings,this.opts=t.extend({},t.Redactor.opts,this.$element.data(),e),this.opts=t.extend({},this.opts,i)},getModuleMethods:function(t){return Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]})},loadModules:function(){for(var e=t.Redactor.modules.length,i=0;i<e;i++)this.bindModuleMethods(t.Redactor.modules[i])},bindModuleMethods:function(t){if(void 0!==this[t]){this[t]=this[t]();for(var e=this.getModuleMethods(this[t]),i=e.length,n=0;n<i;n++)this[t][e[n]]=this[t][e[n]].bind(this)}},air:function(){return{enabled:!1,collapsed:function(){this.opts.air&&this.selection.get().collapseToStart()},collapsedEnd:function(){this.opts.air&&this.selection.get().collapseToEnd()},build:function(){this.detect.isMobile()||(this.button.hideButtons(),this.button.hideButtonsOnMobile(),0!==this.opts.buttons.length&&(this.$air=this.air.createContainer(),!1!==this.opts.airWidth&&this.$air.css("width",this.opts.airWidth),this.air.append(),this.button.$toolbar=this.$air,this.button.setFormatting(),this.button.load(this.$air),this.core.editor().on("mouseup.redactor",this,t.proxy(function(t){""!==this.selection.text()&&this.air.show(t)},this))))},append:function(){this.$air.appendTo("body")},createContainer:function(){return t("<ul>").addClass("redactor-air").attr({id:"redactor-air-"+this.uuid,role:"toolbar"}).hide()},show:function(e){this.selection.saveInstant(),t(".redactor-air").hide();var i=0,n=this.$air.innerWidth();t(window).width()<e.clientX+n&&(i=200),this.$air.css({left:e.clientX-i+"px",top:e.clientY+10+t(document).scrollTop()+"px"}).show(),this.air.enabled=!0,this.air.bindHide()},bindHide:function(){t(document).on("mousedown.redactor-air."+this.uuid,t.proxy(function(e){var i=t(e.target).closest(".redactor-dropdown").length;0===t(e.target).closest(this.$air).length&&0===i&&!1!==this.air.hide(e)&&this.marker.remove()},this)).on("keydown.redactor-air."+this.uuid,t.proxy(function(e){var i=e.which;if((this.utils.isRedactorParent(e.target)||t(e.target).hasClass("redactor-in"))&&0===t(e.target).closest("#redactor-modal").length){if(i===this.keyCode.ESC)this.selection.get().collapseToStart();else if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){var n=this.selection.get();this.selection.range(n).deleteContents()}else i===this.keyCode.ENTER&&this.selection.get().collapseToEnd();this.air.enabled?this.air.hide(e):this.selection.get().collapseToStart()}},this))},hide:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey&&e.altKey)return!1;this.button.setInactiveAll(),this.$air.fadeOut(100),this.air.enabled=!1,t(document).off("mousedown.redactor-air."+this.uuid),t(document).off("keydown.redactor-air."+this.uuid)}}},autosave:function(){return{enabled:!1,html:!1,init:function(){this.opts.autosave&&(this.autosave.enabled=!0,this.autosave.name=this.opts.autosaveName?this.opts.autosaveName:this.$textarea.attr("name"))},is:function(){return this.autosave.enabled},send:function(){if(this.opts.autosave&&(this.autosave.source=this.code.get(),this.autosave.html!==this.autosave.source)){var e={};e.name=this.autosave.name,e[this.autosave.name]=this.autosave.source,e=this.autosave.getHiddenFields(e),t.ajax({url:this.opts.autosave,type:"post",data:e}).done(this.autosave.success)}},getHiddenFields:function(e){return!1===this.opts.autosaveFields||"object"!=typeof this.opts.autosaveFields?e:(t.each(this.opts.autosaveFields,t.proxy(function(i,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),e[i]=n},this)),e)},success:function(t){var e;try{e=JSON.parse(t)}catch(i){e=t}var i=void 0===e.error?"autosave":"autosaveError";this.core.callback(i,this.autosave.name,e),this.autosave.html=this.autosave.source},disable:function(){this.autosave.enabled=!1,clearInterval(this.autosaveTimeout)}}},block:function(){return{format:function(e,i,n,s){if(e="quote"===e?"blockquote":e,this.block.tags=["p","blockquote","pre","h1","h2","h3","h4","h5","h6","div","figure"],-1!==t.inArray(e,this.block.tags))return"p"===e&&void 0===i&&(i="class"),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.block.formatCollapsed(e,i,n,s):this.block.formatUncollapsed(e,i,n,s)},formatCollapsed:function(e,i,n,s){this.selection.save();var r=this.selection.block(),o=r.tagName.toLowerCase();if(-1!==t.inArray(o,this.block.tags)){var a=!1;o===e&&void 0===i&&(e="p",a=!0),a&&(this.block.removeAllClass(),this.block.removeAllAttr());var l;if("blockquote"===o&&this.utils.isEndOfElement(r)){this.marker.remove(),(l=document.createElement("p")).innerHTML=this.opts.invisibleSpace,t(r).after(l),this.caret.start(l);var c=t(r).children().last();0!==c.length&&"BR"===c[0].tagName&&c.remove()}else l=this.utils.replaceToTag(r,e);if("object"==typeof i){s=n;for(var h in i)l=this.block.setAttr(l,h,i[h],s)}else l=this.block.setAttr(l,i,n,s);return"pre"===e&&1===l.length&&t(l).html(t.trim(t(l).html())),this.selection.restore(),this.block.removeInlineTags(l),l}this.selection.restore()},formatUncollapsed:function(e,i,n,s){this.selection.save();var r=[],o=this.selection.blocks();o[0]&&(t(o[0]).hasClass("redactor-in")||t(o[0]).hasClass("redactor-box"))&&(o=this.core.editor().find(this.opts.blockTags.join(", ")));for(var a=o.length,l=0;l<a;l++){var c=o[l].tagName.toLowerCase();if(-1!==t.inArray(c,this.block.tags)&&"figure"!==c){var h=this.utils.replaceToTag(o[l],e);if("object"==typeof i){s=n;for(var u in i)h=this.block.setAttr(h,u,i[u],s)}else h=this.block.setAttr(h,i,n,s);r.push(h),this.block.removeInlineTags(h)}}if(this.selection.restore(),"pre"===e&&0!==r.length){var d=r[0];t.each(r,function(e,i){0!==e&&(t(d).append("\n"+t.trim(i.html())),t(i).remove())}),(r=[]).push(d)}return r},removeInlineTags:function(e){e=e[0]||e;var i=this.opts.inlineTags,n=["PRE","H1","H2","H3","H4","H5","H6"];if(-1!==t.inArray(e.tagName,n)){if("PRE"!==e.tagName){var s=i.indexOf("a");i.splice(s,1)}t(e).find(i.join(",")).not(".redactor-selection-marker").contents().unwrap()}},setAttr:function(t,e,i,n){if(void 0===e)return t;var s=void 0===n?"replace":n;return t="class"===e?this.block[s+"Class"](i,t):"remove"===s?this.block[s+"Attr"](e,t):"removeAll"===s?this.block[s+"Attr"](e,t):this.block[s+"Attr"](e,i,t)},getBlocks:function(e){if(e=void 0===e?this.selection.blocks():e,t(e).hasClass("redactor-box")){var i=[],n=this.core.editor().children();return t.each(n,t.proxy(function(t,e){this.utils.isBlock(e)&&i.push(e)},this)),i}return e},replaceClass:function(e,i){return t(this.block.getBlocks(i)).removeAttr("class").addClass(e)[0]},toggleClass:function(e,i){return t(this.block.getBlocks(i)).toggleClass(e)[0]},addClass:function(e,i){return t(this.block.getBlocks(i)).addClass(e)[0]},removeClass:function(e,i){return t(this.block.getBlocks(i)).removeClass(e)[0]},removeAllClass:function(e){return t(this.block.getBlocks(e)).removeAttr("class")[0]},replaceAttr:function(e,i,n){return n=this.block.removeAttr(e,n),t(n).attr(e,i)[0]},toggleAttr:function(e,i,n){n=this.block.getBlocks(n);var s=this,r=[];return t.each(n,function(n,o){t(o).attr(e)?r.push(s.block.removeAttr(e,o)):r.push(s.block.addAttr(e,i,o))}),r},addAttr:function(e,i,n){return t(this.block.getBlocks(n)).attr(e,i)[0]},removeAttr:function(e,i){return t(this.block.getBlocks(i)).removeAttr(e)[0]},removeAllAttr:function(e){e=this.block.getBlocks(e);var i=[];return t.each(e,function(e,n){void 0===n.attributes&&i.push(n);for(var s=t(n),r=n.attributes.length,o=0;o<r;o++)s.removeAttr(n.attributes[o].name);i.push(s[0])}),i}}},buffer:function(){return{set:function(t){void 0===t&&this.buffer.clear(),void 0===t||"undo"===t?this.buffer.setUndo():this.buffer.setRedo()},setUndo:function(){var t=this.selection.saveInstant(),e=this.sBuffer[this.sBuffer.length-1],i=this.core.editor().html();(void 0===e||e[0]!==i)&&this.sBuffer.push([i,t])},setRedo:function(){var t=this.selection.saveInstant();this.sRebuffer.push([this.core.editor().html(),t])},add:function(){this.sBuffer.push([this.core.editor().html(),0])},undo:function(){if(0!==this.sBuffer.length){var t=this.sBuffer.pop();this.buffer.set("redo"),this.core.editor().html(t[0]),this.selection.restoreInstant(t[1]),this.observe.load()}},redo:function(){if(0!==this.sRebuffer.length){var t=this.sRebuffer.pop();this.buffer.set("undo"),this.core.editor().html(t[0]),this.selection.restoreInstant(t[1]),this.observe.load()}},clear:function(){this.sRebuffer=[]}}},build:function(){return{start:function(){"inline"===this.opts.type?this.opts.type="inline":"div"===this.opts.type?""===t.trim(this.$editor.html())&&this.$editor.html(this.opts.emptyHtml):"textarea"===this.opts.type&&this.build.startTextarea(),this.build.setIn(),this.build.setId(),this.build.enableEditor(),this.build.setOptions(),this.build.callEditor()},createContainerBox:function(){this.$box=t('<div class="redactor-box" role="application" />')},setIn:function(){this.core.editor().addClass("redactor-in")},setId:function(){var t="textarea"===this.opts.type?"redactor-uuid-"+this.uuid:this.$element.attr("id");this.core.editor().attr("id",void 0===t?"redactor-uuid-"+this.uuid:t)},getName:function(){var t=this.$element.attr("name");return void 0===t?"content-"+this.uuid:t},loadFromTextarea:function(){this.$editor=t("<div />"),this.$textarea=this.$element,this.$element.attr("name",this.build.getName()),this.$box.insertAfter(this.$element).append(this.$editor).append(this.$element),this.$editor.addClass("redactor-layer"),this.opts.overrideStyles&&this.$editor.addClass("redactor-styles"),this.$element.hide(),this.$box.prepend('<span class="redactor-voice-label" id="redactor-voice-'+this.uuid+'" aria-hidden="false">'+this.lang.get("accessibility-help-label")+"</span>"),this.$editor.attr({"aria-labelledby":"redactor-voice-"+this.uuid,role:"presentation"})},startTextarea:function(){this.build.createContainerBox(),this.build.loadFromTextarea(),this.code.start(this.core.textarea().val()),this.core.textarea().val(this.clean.onSync(this.$editor.html()))},isTag:function(t){return this.$element[0].tagName===t},isInline:function(){return!this.build.isTag("TEXTAREA")&&!this.build.isTag("DIV")&&!this.build.isTag("PRE")},enableEditor:function(){this.core.editor().attr({contenteditable:!0})},setOptions:function(){"inline"===this.opts.type&&(this.opts.enterKey=!1),"inline"!==this.opts.type&&"pre"!==this.opts.type||(this.opts.toolbarMobile=!1,this.opts.toolbar=!1,this.opts.air=!1,this.opts.linkify=!1),this.core.editor().attr("spellcheck",this.opts.spellcheck),this.opts.structure&&this.core.editor().addClass("redactor-structure"),"textarea"===this.opts.type&&(this.core.box().attr("dir",this.opts.direction),this.core.editor().attr("dir",this.opts.direction),this.opts.tabindex&&this.core.editor().attr("tabindex",this.opts.tabindex),this.opts.minHeight?this.core.editor().css("min-height",this.opts.minHeight):this.core.editor().css("min-height","40px"),this.opts.maxHeight&&this.core.editor().css("max-height",this.opts.maxHeight),this.opts.maxWidth&&this.core.editor().css({"max-width":this.opts.maxWidth,margin:"auto"}))},callEditor:function(){this.build.disableBrowsersEditing(),this.events.init(),this.build.setHelpers(),(this.opts.toolbar||this.opts.air)&&(this.toolbarsButtons=this.button.init()),this.opts.air?this.air.build():this.opts.toolbar&&this.toolbar.build(),this.detect.isMobile()&&this.opts.toolbarMobile&&this.opts.air&&(this.opts.toolbar=!0,this.toolbar.build()),(this.opts.air||this.opts.toolbar)&&(this.core.editor().on("mouseup.redactor-observe."+this.uuid+" keyup.redactor-observe."+this.uuid+" focus.redactor-observe."+this.uuid+" touchstart.redactor-observe."+this.uuid,t.proxy(this.observe.toolbar,this)),this.core.element().on("blur.callback.redactor",t.proxy(function(){this.button.setInactiveAll()},this))),this.modal.templates(),this.build.plugins(),this.autosave.init(),this.code.html=this.code.cleaned(this.core.editor().html()),this.core.callback("init"),this.core.callback("initToEdit"),this.storage.observe(),this.start=!1},setHelpers:function(){this.opts.linkify&&this.linkify.format(),this.placeholder.init(),this.opts.focus?setTimeout(this.focus.start,100):this.opts.focusEnd&&setTimeout(this.focus.end,100)},disableBrowsersEditing:function(){try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1),document.execCommand("AutoUrlDetect",!1,!1)}catch(t){}},plugins:function(){this.opts.plugins&&t.each(this.opts.plugins,t.proxy(function(i,n){var s="undefined"!=typeof RedactorPlugins&&void 0!==RedactorPlugins[n]?RedactorPlugins:e.fn;if(t.isFunction(s[n])){this[n]=s[n]();for(var r=this.getModuleMethods(this[n]),o=r.length,a=0;a<o;a++)this[n][r[a]]=this[n][r[a]].bind(this);if(void 0!==this[n].langs){var l={};void 0!==this[n].langs[this.opts.lang]?l=this[n].langs[this.opts.lang]:void 0===this[n].langs[this.opts.lang]&&void 0!==this[n].langs.en&&(l=this[n].langs.en);var c=this;t.each(l,function(t,e){void 0===c.opts.curLang[t]&&(c.opts.curLang[t]=e)})}t.isFunction(this[n].init)&&this[n].init()}},this))}}},button:function(){return{toolbar:function(){return void 0!==this.button.$toolbar&&this.button.$toolbar?this.button.$toolbar:this.$toolbar},init:function(){return{format:{title:this.lang.get("format"),icon:!0,dropdown:{p:{title:this.lang.get("paragraph"),func:"block.format"},blockquote:{title:this.lang.get("quote"),func:"block.format"},pre:{
title:this.lang.get("code"),func:"block.format"},h1:{title:this.lang.get("heading1"),func:"block.format"},h2:{title:this.lang.get("heading2"),func:"block.format"},h3:{title:this.lang.get("heading3"),func:"block.format"},h4:{title:this.lang.get("heading4"),func:"block.format"},h5:{title:this.lang.get("heading5"),func:"block.format"},h6:{title:this.lang.get("heading6"),func:"block.format"}}},bold:{title:this.lang.get("bold-abbr"),icon:!0,label:this.lang.get("bold"),func:"inline.format"},italic:{title:this.lang.get("italic-abbr"),icon:!0,label:this.lang.get("italic"),func:"inline.format"},deleted:{title:this.lang.get("deleted-abbr"),icon:!0,label:this.lang.get("deleted"),func:"inline.format"},underline:{title:this.lang.get("underline-abbr"),icon:!0,label:this.lang.get("underline"),func:"inline.format"},lists:{title:this.lang.get("lists"),icon:!0,dropdown:{unorderedlist:{title:"&bull; "+this.lang.get("unorderedlist"),func:"list.toggle"},orderedlist:{title:"1. "+this.lang.get("orderedlist"),func:"list.toggle"},outdent:{title:"< "+this.lang.get("outdent"),func:"indent.decrease",observe:{element:"li",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}},indent:{title:"> "+this.lang.get("indent"),func:"indent.increase",observe:{element:"li",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},ul:{title:"&bull; "+this.lang.get("bulletslist"),icon:!0,func:"list.toggle"},ol:{title:"1. "+this.lang.get("numberslist"),icon:!0,func:"list.toggle"},outdent:{title:this.lang.get("outdent"),icon:!0,func:"indent.decrease"},indent:{title:this.lang.get("indent"),icon:!0,func:"indent.increase"},image:{title:this.lang.get("image"),icon:!0,func:"image.show"},file:{title:this.lang.get("file"),icon:!0,func:"file.show"},link:{title:this.lang.get("link"),icon:!0,dropdown:{link:{title:this.lang.get("link-insert"),func:"link.show",observe:{element:"a","in":{title:this.lang.get("link-edit")},out:{title:this.lang.get("link-insert")}}},unlink:{title:this.lang.get("unlink"),func:"link.unlink",observe:{element:"a",out:{attr:{"class":"redactor-dropdown-link-inactive","aria-disabled":!0}}}}}},horizontalrule:{title:this.lang.get("horizontalrule"),icon:!0,func:"line.insert"}}},setFormatting:function(){t.each(this.toolbarsButtons.format.dropdown,t.proxy(function(e){-1===t.inArray(e,this.opts.formatting)&&delete this.toolbarsButtons.format.dropdown[e]},this))},hideButtons:function(){0!==this.opts.buttonsHide.length&&this.button.hideButtonsSlicer(this.opts.buttonsHide)},hideButtonsOnMobile:function(){this.detect.isMobile()&&0!==this.opts.buttonsHideOnMobile.length&&this.button.hideButtonsSlicer(this.opts.buttonsHideOnMobile)},hideButtonsSlicer:function(e){t.each(e,t.proxy(function(t,e){var i=this.opts.buttons.indexOf(e);-1!==i&&this.opts.buttons.splice(i,1)},this))},load:function(e){this.button.buttons=[],t.each(this.opts.buttons,t.proxy(function(i,n){!this.toolbarsButtons[n]||"file"===n&&!this.file.is()||"image"===n&&!this.image.is()||e.append(t("<li>").append(this.button.build(n,this.toolbarsButtons[n])))},this))},buildButtonTooltip:function(e,i){if(!this.opts.air&&!this.detect.isMobile()){var n=t("<span>");n.addClass("re-button-tooltip"),n.html(i),e.append(n),e.on("mouseover",function(){t(this).hasClass("redactor-button-disabled")||(n.show(),n.css("margin-left",-n.innerWidth()/2))}).on("mouseout",function(){n.hide()})}},build:function(e,i){if(!1!==this.opts.toolbar){var n=void 0!==i.label?i.label:i.title,s=t('<a href="javascript:void(null);" alt="'+n+'" rel="'+e+'" />');if(s.addClass("re-button re-"+e),s.attr({role:"button","aria-label":n,tabindex:"-1"}),void 0===i.icon||this.opts.buttonsTextLabeled)s.html(i.title);else{var r=t("<i>");r.addClass("re-icon-"+e),s.append(r),s.addClass("re-button-icon"),this.button.buildButtonTooltip(s,n)}if((i.func||i.command||i.dropdown)&&this.button.setEvent(s,e,i),i.dropdown){s.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var o=t('<ul class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+e+'" style="display: none;">');s.data("dropdown",o),this.dropdown.build(e,o,i.dropdown)}return this.button.buttons.push(s),s}},getButtons:function(){return this.button.toolbar().find("a.re-button")},getButtonsKeys:function(){return this.button.buttons},setEvent:function(e,i,n){e.on("mousedown",t.proxy(function(t){if(t.preventDefault(),e.hasClass("redactor-button-disabled"))return!1;var s="func",r=n.func;return n.command?(s="command",r=n.command):n.dropdown&&(s="dropdown",r=!1),this.button.toggle(t,i,s,r),!1},this))},toggle:function(t,e,i,n,s){!this.detect.isIe()&&this.detect.isDesktop()||(this.utils.freezeScroll(),t.returnValue=!1),"command"===i?this.inline.format(n):"dropdown"===i?this.dropdown.show(t,e):this.button.clickCallback(t,n,e,s),"dropdown"!==i&&this.dropdown.hideAll(!1),this.opts.air&&"dropdown"!==i&&this.air.hide(t),!this.detect.isIe()&&this.detect.isDesktop()||this.utils.unfreezeScroll()},clickCallback:function(e,i,n,s){var r;if(s=void 0===s?n:s,t.isFunction(i))i.call(this,n);else if("-1"!==i.search(/\./)){if(r=i.split("."),void 0===this[r[0]])return;"object"==typeof s?this[r[0]][r[1]].apply(this,s):this[r[0]][r[1]].call(this,s)}else"object"==typeof s?this[i].apply(this,s):this[i].call(this,s);this.observe.buttons(e,n)},all:function(){return this.button.buttons},get:function(t){if(!1!==this.opts.toolbar)return this.button.toolbar().find("a.re-"+t)},set:function(t,e){if(!1!==this.opts.toolbar){var i=this.button.toolbar().find("a.re-"+t);return i.html(e).attr("aria-label",e),i}},add:function(e,i){if(!0!==this.button.isAdded(e))return t();var n=this.button.build(e,{title:i});return this.button.toolbar().append(t("<li>").append(n)),n},addFirst:function(e,i){if(!0!==this.button.isAdded(e))return t();var n=this.button.build(e,{title:i});return this.button.toolbar().prepend(t("<li>").append(n)),n},addAfter:function(e,i,n){if(!0!==this.button.isAdded(i))return t();var s=this.button.build(i,{title:n}),r=this.button.get(e);return 0!==r.length?r.parent().after(t("<li>").append(s)):this.button.toolbar().append(t("<li>").append(s)),s},addBefore:function(e,i,n){if(!0!==this.button.isAdded(i))return t();var s=this.button.build(i,{title:n}),r=this.button.get(e);return 0!==r.length?r.parent().before(t("<li>").append(s)):this.button.toolbar().append(t("<li>").append(s)),s},isAdded:function(t){var e=this.opts.buttonsHideOnMobile.indexOf(t);return!(!1===this.opts.toolbar||-1!==e&&this.detect.isMobile())},setIcon:function(t,e){this.opts.buttonsTextLabeled||(t.html(e).addClass("re-button-icon"),this.button.buildButtonTooltip(t,t.attr("alt")))},changeIcon:function(t,e){var i=this.button.get(t);0!==i.length&&i.find("i").removeAttr("class").addClass("re-icon-"+e)},addCallback:function(e,i){if(void 0!==e&&!1!==this.opts.toolbar){var n="dropdown"===i?"dropdown":"func",s=e.attr("rel");e.on("mousedown",t.proxy(function(t){if(e.hasClass("redactor-button-disabled"))return!1;this.button.toggle(t,s,n,i)},this))}},addDropdown:function(e,i){if(!1!==this.opts.toolbar){e.addClass("redactor-toolbar-link-dropdown").attr("aria-haspopup",!0);var n=e.attr("rel");this.button.addCallback(e,"dropdown");var s=t('<div class="redactor-dropdown redactor-dropdown-'+this.uuid+" redactor-dropdown-box-"+n+'" style="display: none;">');return e.data("dropdown",s),i&&this.dropdown.build(n,s,i),s}},setActive:function(t){this.button.get(t).addClass("redactor-act")},setInactive:function(t){this.button.get(t).removeClass("redactor-act")},setInactiveAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.removeClass("redactor-act")},disable:function(t){this.button.get(t).addClass("redactor-button-disabled")},enable:function(t){this.button.get(t).removeClass("redactor-button-disabled")},disableAll:function(t){var e=this.button.toolbar().find("a.re-button");void 0!==t&&(e=e.not(".re-"+t)),e.addClass("redactor-button-disabled")},enableAll:function(){this.button.toolbar().find("a.re-button").removeClass("redactor-button-disabled")},remove:function(t){this.button.get(t).remove()}}},caret:function(){return{set:function(t,e,i){var n=this.core.editor().scrollTop();this.core.editor().focus(),this.core.editor().scrollTop(n),i=void 0===i?0:1,t=t[0]||t,e=e[0]||e;var s=this.selection.get(),r=this.selection.range(s);try{r.setStart(t,0),r.setEnd(e,i)}catch(t){}this.selection.update(s,r)},prepare:function(t){return this.detect.isFirefox()&&void 0!==this.start&&this.core.editor().focus(),t[0]||t},start:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.before(e);var s=t(e).children().first(),r=this.utils.isInlineTag(e.tagName);""===e.innerHTML||r?this.caret.setStartEmptyOrInline(e,r):s&&0!==s.length&&this.utils.isInlineTag(s[0].tagName)&&""===s.text()?this.caret.setStartEmptyOrInline(s[0],!0):((i=window.getSelection()).removeAllRanges(),(n=document.createRange()).selectNodeContents(e),n.collapse(!0),i.addRange(n))}},setStartEmptyOrInline:function(e,i){var n=window.getSelection(),s=document.createRange(),r=document.createTextNode("\u200b");s.setStart(e,0),s.insertNode(r),s.setStartAfter(r),s.collapse(!0),n.removeAllRanges(),n.addRange(s),i||this.core.editor().on("keydown.redactor-remove-textnode",function(){t(r).remove(),t(this).off("keydown.redactor-remove-textnode")})},end:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"!==e.tagName&&""===e.innerHTML)return this.caret.start(e);if("BR"===e.tagName){var s=document.createElement("span");return s.className="redactor-invisible-space",s.innerHTML="&#x200b;",t(e).after(s),(i=window.getSelection()).removeAllRanges(),(n=document.createRange()).setStartBefore(s),n.setEndBefore(s),i.addRange(n),void t(s).replaceWith(function(){return t(this).contents()})}if(e.lastChild&&1===e.lastChild.nodeType)return this.caret.after(e.lastChild);if((i=window.getSelection()).getRangeAt||i.rangeCount)try{(n=i.getRangeAt(0)).selectNodeContents(e),n.collapse(!1),i.removeAllRanges(),i.addRange(n)}catch(t){}}},after:function(e){var i,n;if(e=this.caret.prepare(e)){if("BR"===e.tagName)return this.caret.end(e);if(this.utils.isBlockTag(e.tagName)){var s=this.caret.next(e);void 0===s?this.caret.end(e):("TABLE"===s.tagName?s=t(s).find("th, td").first()[0]:"UL"!==s.tagName&&"OL"!==s.tagName||(s=t(s).find("li").first()[0]),this.caret.start(s))}else{var r=document.createTextNode("\u200b");(i=window.getSelection()).removeAllRanges(),(n=document.createRange()).setStartAfter(e),n.insertNode(r),n.setStartAfter(r),n.collapse(!0),i.addRange(n)}}},before:function(e){var i,n;if(e=this.caret.prepare(e))if(this.utils.isBlockTag(e.tagName)){var s=this.caret.prev(e);void 0===s?this.caret.start(e):("TABLE"===s.tagName?s=t(s).find("th, td").last()[0]:"UL"!==s.tagName&&"OL"!==s.tagName||(s=t(s).find("li").last()[0]),this.caret.end(s))}else(i=window.getSelection()).removeAllRanges(),(n=document.createRange()).setStartBefore(e),n.collapse(!0),i.addRange(n)},next:function(e){var i=t(e).next();return i.hasClass("redactor-script-tag, redactor-selection-marker")?i.next()[0]:i[0]},prev:function(e){var i=t(e).prev();return i.hasClass("redactor-script-tag, redactor-selection-marker")?i.prev()[0]:i[0]},offset:function(t){return this.offset.get(t)}}},clean:function(){return{onSet:function(e){e=this.clean.savePreCode(e),e=this.clean.saveFormTags(e),this.opts.script&&(e=e.replace(/<script(.*?[^>]?)>([\w\W]*?)<\/script>/gi,'<pre class="redactor-script-tag" $1>$2</pre>')),e=(e=(e=(e=(e=e.replace(/\$/g,"&#36;")).replace(/&amp;/g,"&")).replace(/<a href="(.*?[^>]?)\xae(.*?[^>]?)">/gi,'<a href="$1&reg$2">')).replace(/<span id="selection-marker-1"(.*?[^>]?)>\u200b<\/span>/gi,"###marker1###")).replace(/<span id="selection-marker-2"(.*?[^>]?)>\u200b<\/span>/gi,"###marker2###");var i=this,n=t("<div/>").html(t.parseHTML(e,document,!0)),s=this.opts.replaceTags;if(s){var r=Object.keys(this.opts.replaceTags);n.find(r.join(",")).each(function(t,e){i.utils.replaceToTag(e,s[e.tagName.toLowerCase()])})}n.find("span, a").attr("data-redactor-span",!0),n.find(this.opts.inlineTags.join(",")).each(function(){var e=t(this);e.attr("style")&&e.attr("data-redactor-style-cache",e.attr("style"))}),e=n.html();var o=["font","html","head","link","body","meta","applet"];return this.opts.script||o.push("script"),e=this.clean.stripTags(e,o),this.opts.removeComments&&(e=e.replace(/<!--[\s\S]*?-->/gi,"")),e=this.paragraphize.load(e),e=e.replace("###marker1###",'<span id="selection-marker-1" class="redactor-selection-marker">\u200b</span>'),e=e.replace("###marker2###",'<span id="selection-marker-2" class="redactor-selection-marker">\u200b</span>'),-1!==e.search(/^(||\s||<br\s?\/?>||&nbsp;)$/i)?this.opts.emptyHtml:e},onGet:function(t){return this.clean.onSync(t)},onSync:function(e){if(e=e.replace(/\u200B/g,""),-1!==(e=e.replace(/&#x200b;/gi,"")).search(/^<p>(||\s||<br\s?\/?>||&nbsp;)<\/p>$/i))return"";e=e.replace(/<span(.*?)id="redactor-image-box"(.*?[^>])>([\w\W]*?)<img(.*?)><\/span>/gi,"$3<img$4>"),e=e.replace(/<span(.*?)id="redactor-image-resizer"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<span(.*?)id="redactor-image-editter"(.*?[^>])>(.*?)<\/span>/gi,""),e=e.replace(/<img(.*?)style="(.*?)opacity: 0\.5;(.*?)"(.*?)>/gi,'<img$1style="$2$3"$4>');var i=t("<div/>").html(t.parseHTML(e,document,!0));i.find('*[style=""]').removeAttr("style"),i.find('*[class=""]').removeAttr("class"),i.find('*[rel=""]').removeAttr("rel"),i.find('*[data-image=""]').removeAttr("data-image"),i.find('*[alt=""]').removeAttr("alt"),i.find('*[title=""]').removeAttr("title"),i.find("*[data-redactor-style-cache]").removeAttr("data-redactor-style-cache"),i.find(".redactor-invisible-space, .redactor-unlink").each(function(){t(this).contents().unwrap()}),i.find("span, a").removeAttr("data-redactor-span data-redactor-style-cache").each(function(){0===this.attributes.length&&t(this).contents().unwrap()}),i.find("img").removeAttr("rel"),i.find(".redactor-selection-marker, #redactor-insert-marker").remove(),e=i.html(),this.opts.script&&(e=e.replace(/<pre class="redactor-script-tag"(.*?[^>]?)>([\w\W]*?)<\/pre>/gi,"<script$1>$2</script>")),e=this.clean.restoreFormTags(e),e=e.replace(new RegExp("<br\\s?/?></h","gi"),"</h"),e=e.replace(new RegExp("<br\\s?/?></li>","gi"),"</li>"),e=e.replace(new RegExp("</li><br\\s?/?>","gi"),"</li>"),e=e.replace(/<pre>/gi,"<pre>\n"),this.opts.preClass&&(e=e.replace(/<pre>/gi,'<pre class="'+this.opts.preClass+'">')),this.opts.linkNofollow&&(e=e.replace(/<a(.*?)rel="nofollow"(.*?[^>])>/gi,"<a$1$2>"),e=e.replace(/<a(.*?[^>])>/gi,'<a$1 rel="nofollow">'));var n={"\u2122":"&trade;","\xa9":"&copy;","\u2026":"&hellip;","\u2014":"&mdash;","\u2010":"&dash;"};return t.each(n,function(t,i){e=e.replace(new RegExp(t,"g"),i)}),e=e.replace(/&amp;/g,"&"),e=e.replace(/\n{2,}/g,"\n"),this.opts.removeNewlines&&(e=e.replace(/\r?\n/g,"")),e},onPaste:function(e,i,n){return!0!==n&&(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2")).replace(/<b(.*?)id="docs-internal-guid(.*?)">([\w\W]*?)<\/b>/gi,"$3")).replace(/<span[^>]*(font-style: italic; font-weight: bold|font-weight: bold; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*(font-style: italic; font-weight: 700|font-weight: 700; font-style: italic)[^>]*>([\w\W]*?)<\/span>/gi,"<b><i>$2</i></b>")).replace(/<span[^>]*font-style: italic[^>]*>([\w\W]*?)<\/span>/gi,"<i>$1</i>")).replace(/<span[^>]*font-weight: bold[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<span[^>]*font-weight: 700[^>]*>([\w\W]*?)<\/span>/gi,"<b>$1</b>")).replace(/<o:p[^>]*>/gi,"")).replace(/<\/o:p>/gi,""),this.clean.isHtmlMsWord(e)&&(e=this.clean.cleanMsWord(e))),e=t.trim(e),i.pre?this.opts.preSpaces&&(e=e.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))):(e=this.clean.replaceBrToNl(e),e=this.clean.removeTagsInsidePre(e)),!0!==n&&(e=this.clean.removeEmptyInlineTags(e),!1===i.encode&&(e=e.replace(/&/g,"&amp;"),e=this.clean.convertTags(e,i),e=this.clean.getPlainText(e),e=this.clean.reconvertTags(e,i))),i.text&&(e=this.clean.replaceNbspToSpaces(e),e=this.clean.getPlainText(e)),i.lists&&(e=e.replace("\n","<br>")),i.encode&&(e=this.clean.encodeHtml(e)),i.paragraphize&&(e=(e=e.replace(/ \n/g," ")).replace(/\n /g," "),e=(e=this.paragraphize.load(e)).replace(/<p><\/p>/g,"")),e=e.replace(/<li><p>/g,"<li>"),e=e.replace(/<\/p><\/li>/g,"</li>")},getCurrentType:function(t,e){var i=this.selection.blocks(),n={text:!1,encode:!1,paragraphize:!0,line:this.clean.isHtmlLine(t),blocks:this.clean.isHtmlBlocked(t),pre:!1,lists:!1,block:!0,inline:!0,links:!0,images:!0};return 1===i.length&&this.utils.isCurrentOrParent(["h1","h2","h3","h4","h5","h6","a","figcaption"])?(n.text=!0,n.paragraphize=!1,n.inline=!1,n.images=!1,n.links=!1,n.line=!0):"inline"===this.opts.type||!1===this.opts.enterKey?(n.paragraphize=!1,n.block=!1,n.line=!0):1===i.length&&this.utils.isCurrentOrParent(["li"])?(n.lists=!0,n.block=!1,n.paragraphize=!1,n.images=!1):1===i.length&&this.utils.isCurrentOrParent(["th","td","blockquote"])?(n.block=!1,n.paragraphize=!1):("pre"===this.opts.type||1===i.length&&this.utils.isCurrentOrParent("pre"))&&(n.inline=!1,n.block=!1,n.encode=!0,n.pre=!0,n.paragraphize=!1,n.images=!1,n.links=!1),!0===n.line&&(n.paragraphize=!1),!0===e&&(n.text=!1),n},isHtmlBlocked:function(t){var e=t.match(new RegExp("</("+this.opts.blockTags.join("|").toUpperCase()+")>","gi")),i=t.match(new RegExp("<hr(.*?[^>])>","gi"));return null!==e||null!==i},isHtmlLine:function(t){if(this.clean.isHtmlBlocked(t))return!1;var e=t.match(/<br\s?\/?>/gi),i=t.match(/\n/gi);return!e&&!i},isHtmlMsWord:function(t){return t.match(/class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i)},removeEmptyInlineTags:function(e){var i=this.opts.inlineTags,n=t("<div/>").html(t.parseHTML(e,document,!0)),s=this,r=n.find("span"),o=n.find(i.join(","));return o.removeAttr("style"),o.each(function(){var e=t(this).html();0===this.attributes.length&&s.utils.isEmpty(e)&&t(this).replaceWith(function(){return t(this).contents()})}),r.each(function(){t(this).html(),0===this.attributes.length&&t(this).replaceWith(function(){return t(this).contents()})}),e=n.html(),e=e.replace("<!--?php","<?php"),e=e.replace("<!--?","<?"),e=e.replace("?-->","?>"),n.remove(),e},cleanMsWord:function(e){e=(e=(e=(e=e.replace(/<!--[\s\S]*?-->/g,"")).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"")).replace(/\n/g," ")).replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n\n");var i=t("<div/>").html(e),n=!1,s=1,r=[];return i.find("p[style]").each(function(){var e=t(this).attr("style").match(/mso\-list\:l([0-9]+)\slevel([0-9]+)/);if(e){var o=parseInt(e[1]),a=parseInt(e[2]),l=t(this).html().match(/^[\w]+\./)?"ol":"ul",c=t("<li/>").html(t(this).html());if(c.html(c.html().replace(/^([\w\.]+)</,"<")),c.find("span:first").remove(),1==a&&-1==t.inArray(o,r)){var h=t("<"+l+"/>").attr({"data-level":a,"data-list":o}).html(c);t(this).replaceWith(h),n=o,r.push(o)}else{if(a>s){for(var u=p=i.find('[data-level="'+s+'"][data-list="'+n+'"]'),d=s;d<a;d++)(h=t("<"+l+"/>")).appendTo(u.find("li").last()),u=h;u.attr({"data-level":a,"data-list":o}).html(c)}else{var p=i.find('[data-level="'+a+'"][data-list="'+o+'"]').last();p.append(c)}s=a,n=o,t(this).remove()}}}),i.find("[data-level][data-list]").removeAttr("data-level data-list"),e=i.html()},replaceNbspToSpaces:function(t){return t.replace("&nbsp;"," ")},replaceBrToNl:function(t){return t.replace(/<br\s?\/?>/gi,"\n")},replaceNlToBr:function(t){return t.replace(/\n/g,"<br />")},convertTags:function(e,i){var n=t("<div>").html(e);n.find("iframe").remove();var s=n.find("a");if(s.removeAttr("style"),!1!==this.opts.pasteLinkTarget&&s.attr("target",this.opts.pasteLinkTarget),i.links&&this.opts.pasteLinks&&n.find("a").each(function(t,e){if(e.href){for(var i,n='##%a href="'+e.href+'"',s=0,r=e.attributes.length;s<r;s++)"href"!==(i=e.attributes.item(s)).name&&(n+=" "+i.name+'="'+i.value+'"');e.outerHTML=n+"%##"+e.innerHTML+"##%/a%##"}}),e=n.html(),i.images&&this.opts.pasteImages&&(e=e.replace(/<img(.*?)src="(.*?)"(.*?[^>])>/gi,'##%img$1src="$2"$3%##')),this.opts.pastePlainText)return e;for(var r,o=i.lists?["ul","ol","li"]:this.opts.pasteBlockTags,a=(r=i.block||i.lists?i.inline?o.concat(this.opts.pasteInlineTags):o:i.inline?this.opts.pasteInlineTags:[]).length,l=0;l<a;l++)e=e.replace(new RegExp("</"+r[l]+">","gi"),"###/"+r[l]+"###"),e="td"===r[l]||"th"===r[l]?e.replace(new RegExp("<"+r[l]+'(.*?[^>])((colspan|rowspan)="(.*?[^>])")?(.*?[^>])>',"gi"),"###"+r[l]+" $2###"):this.utils.isInlineTag(r[l])?(e=(e=e.replace(new RegExp("<"+r[l]+'([^>]*)class="([^>]*)"[^>]*>',"gi"),"###"+r[l]+' class="$2"###')).replace(new RegExp("<"+r[l]+'([^>]*)data-redactor-style-cache="([^>]*)"[^>]*>',"gi"),"###"+r[l]+' cache="$2"###')).replace(new RegExp("<"+r[l]+"[^>]*>","gi"),"###"+r[l]+"###"):e.replace(new RegExp("<"+r[l]+"[^>]*>","gi"),"###"+r[l]+"###");return e},reconvertTags:function(t,e){if((e.links&&this.opts.pasteLinks||e.images&&this.opts.pasteImages)&&(t=(t=t.replace(new RegExp("##%","gi"),"<")).replace(new RegExp("%##","gi"),">")),this.opts.pastePlainText)return t;for(var i,n=e.lists?["ul","ol","li"]:this.opts.pasteBlockTags,s=(i=e.block||e.lists?e.inline?n.concat(this.opts.pasteInlineTags):n:e.inline?this.opts.pasteInlineTags:[]).length,r=0;r<s;r++)t=t.replace(new RegExp("###/"+i[r]+"###","gi"),"</"+i[r]+">");for(r=0;r<s;r++)t=t.replace(new RegExp("###"+i[r]+"###","gi"),"<"+i[r]+">");for(r=0;r<s;r++)if("td"===i[r]||"th"===i[r])t=t.replace(new RegExp("###"+i[r]+"s?(.*?[^#])###","gi"),"<"+i[r]+"$1>");else if(this.utils.isInlineTag(i[r])){var o="span"===i[r]?' data-redactor-span="true"':"";t=(t=t.replace(new RegExp("###"+i[r]+' cache="(.*?[^#])"###',"gi"),"<"+i[r]+' style="$1"'+o+' data-redactor-style-cache="$1">')).replace(new RegExp("###"+i[r]+"s?(.*?[^#])###","gi"),"<"+i[r]+"$1>")}return t},cleanPre:function(e){e=void 0===e?t(this.selection.block()).closest("pre",this.core.editor()[0]):e,t(e).find("br").replaceWith(function(){return document.createTextNode("\n")}),t(e).find("p").replaceWith(function(){return t(this).contents()})},removeTagsInsidePre:function(e){var i=t("<div />").append(e);return i.find("pre").replaceWith(function(){var e=t(this).html();return e=e.replace(/<br\s?\/?>|<\/p>|<\/div>|<\/li>|<\/td>/gi,"\n"),e=e.replace(/(<([^>]+)>)/gi,""),t("<pre />").append(e)}),e=i.html(),i.remove(),e},getPlainText:function(e){e=(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]*?-->/gi,"")).replace(/<style[\s\S]*?style>/gi,"")).replace(/<p><\/p>/g,"")).replace(/<\/div>|<\/li>|<\/td>/gi,"\n")).replace(/<\/p>/gi,"\n\n")).replace(/<\/H[1-6]>/gi,"\n\n");var i=document.createElement("div");return i.innerHTML=e,e=i.textContent||i.innerText,t.trim(e)},savePreCode:function(t){return t=this.clean.savePreFormatting(t),t=this.clean.saveCodeFormatting(t),t=this.clean.restoreSelectionMarkers(t)},savePreFormatting:function(e){var i=e.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);return null===i?e:(t.each(i,t.proxy(function(t,i){var n,s,r,o=[],a=!1;i.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>/i)?(a=!0,n=(o=i.match(/<pre(.*?)>(([\n\r\s]+)?)<code(.*?)>([\w\W]*?)<\/code>(([\n\r\s]+)?)<\/pre>/i))[5],s=o[1],r=o[4]):(n=(o=i.match(/<pre(.*?)>([\w\W]*?)<\/pre>/i))[2],s=o[1]),n=(n=n.replace(/<br\s?\/?>/g,"\n")).replace(/&nbsp;/g," "),this.opts.preSpaces&&(n=n.replace(/\t/g,new Array(this.opts.preSpaces+1).join(" "))),n=(n=this.clean.encodeEntities(n)).replace(/\$/g,"&#36;"),e=a?e.replace(i,"<pre"+s+"><code"+r+">"+n+"</code></pre>"):e.replace(i,"<pre"+s+">"+n+"</pre>")},this)),e)},saveCodeFormatting:function(e){var i=e.match(/<code(.*?)>([\w\W]*?)<\/code>/gi);return null===i?e:(t.each(i,t.proxy(function(t,i){var n=i.match(/<code(.*?)>([\w\W]*?)<\/code>/i);n[2]=n[2].replace(/&nbsp;/g," "),n[2]=this.clean.encodeEntities(n[2]),n[2]=n[2].replace(/\$/g,"&#36;"),e=e.replace(i,"<code"+n[1]+">"+n[2]+"</code>")},this)),e)},restoreSelectionMarkers:function(t){return t=t.replace(/&lt;span id=&quot;selection-marker-([0-9])&quot; class=&quot;redactor-selection-marker&quot;&gt;\u200b&lt;\/span&gt;/g,'<span id="selection-marker-$1" class="redactor-selection-marker">\u200b</span>')},saveFormTags:function(t){return t.replace(/<form(.*?)>([\w\W]*?)<\/form>/gi,'<section$1 rel="redactor-form-tag">$2</section>')},restoreFormTags:function(t){return t.replace(/<section(.*?) rel="redactor-form-tag"(.*?)>([\w\W]*?)<\/section>/gi,"<form$1$2>$3</form>")},encodeHtml:function(t){return t=t.replace(/\u201d/g,'"'),t=t.replace(/\u201c/g,'"'),t=t.replace(/\u2018/g,"'"),t=t.replace(/\u2019/g,"'"),t=this.clean.encodeEntities(t)},encodeEntities:function(t){return t=String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},stripTags:function(t,e){if(void 0===e)return t.replace(/(<([^>]+)>)/gi,"");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return t.replace(i,function(t,i){return-1===e.indexOf(i.toLowerCase())?t:""})},removeMarkers:function(t){return t.replace(/<span(.*?[^>]?)class="redactor-selection-marker"(.*?[^>]?)>([\w\W]*?)<\/span>/gi,"")},removeSpaces:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g," "),e=e.replace(/[\s\n]*$/g," "),e=e.replace(/>\s{2,}</g,"> <"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},removeSpacesHard:function(e){return e=t.trim(e),e=e.replace(/\n/g,""),e=e.replace(/[\t]*/g,""),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/^[\s\n]*/g,""),e=e.replace(/[\s\n]*$/g,""),e=e.replace(/>\s{2,}</g,"><"),e=e.replace(/\n\n/g,"\n"),e=e.replace(/\u200B/g,"")},normalizeCurrentHeading:function(){var t=this.selection.block();this.utils.isCurrentOrParentHeader()&&t&&t.normalize()}}},code:function(){return{syncFire:!0,html:!1,start:function(e){e=(e=t.trim(e)).replace(/^(<span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span>)/,""),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),e=e.replace(/<p><span id="selection-marker-1" class="redactor-selection-marker">\u200b<\/span><\/p>/,""),this.events.stopDetectChanges(),this.core.editor().html(e),this.observe.load(),this.events.startDetectChanges()},set:function(e,i){e=t.trim(e),(i=i||{}).start&&(this.start=i.start),"textarea"===this.opts.type?e=this.clean.onSet(e):"div"===this.opts.type&&""===e&&(e=this.opts.emptyHtml),this.core.editor().html(e),"textarea"===this.opts.type&&this.code.sync(),this.placeholder.enable()},get:function(){if("textarea"===this.opts.type)return this.core.textarea().val();var t=this.core.editor().html();return t=this.clean.onGet(t)},sync:function(){if(this.code.syncFire){var e=this.core.editor().html(),i=this.code.cleaned(e);if(!this.code.isSync(i)){if(this.code.html=i,"textarea"!==this.opts.type)return this.core.callback("sync",e),void this.core.callback("change",e);"textarea"===this.opts.type&&setTimeout(t.proxy(function(){this.code.startSync(e)},this),10)}}},startSync:function(t){t=this.core.callback("syncBefore",t),t=this.clean.onSync(t),this.core.textarea().val(t),this.core.callback("sync",t),!1===this.start&&this.core.callback("change",t),this.start=!1},isSync:function(t){var e=!1!==this.code.html&&this.code.html;return!1!==e&&e===t},cleaned:function(t){return t=t.replace(/\u200B/g,""),this.clean.removeMarkers(t)}}},core:function(){return{id:function(){return this.$editor.attr("id")},element:function(){return this.$element},editor:function(){return void 0===this.$editor?t():this.$editor},textarea:function(){return this.$textarea},box:function(){return"textarea"===this.opts.type?this.$box:this.$element},toolbar:function(){return!!this.$toolbar&&this.$toolbar},air:function(){return!!this.$air&&this.$air},object:function(){return t.extend({},this)},structure:function(){this.core.editor().toggleClass("redactor-structure")},addEvent:function(t){this.core.event=t},getEvent:function(){return this.core.event},callback:function(e,i,n){var s=!1,r=t._data(this.core.element()[0],"events");if(void 0!==r&&void 0!==r[e])for(var o=r[e].length,a=0;a<o;a++)if("callback.redactor"===r[e][a].namespace){var l=r[e][a].handler,c=void 0===n?[i]:[i,n];s=void 0===c?l.call(this,i):l.call(this,i,c)}if(s)return s;if(void 0===this.opts.callbacks[e])return void 0===n?i:n;var h=this.opts.callbacks[e];return t.isFunction(h)?void 0===n?h.call(this,i):h.call(this,i,n):void 0===n?i:n},destroy:function(){this.opts.destroyed=!0,this.core.callback("destroy"),this.placeholder.destroy(),this.progress.destroy(),t("#redactor-voice-"+this.uuid).remove(),this.core.editor().removeClass("redactor-in redactor-styles redactor-structure redactor-layer-img-edit"),this.core.editor().off("keydown.redactor-remove-textnode"),this.core.editor().off(".redactor-observe."+this.uuid),this.$element.off(".redactor").removeData("redactor"),this.core.editor().off(".redactor"),t(document).off(".redactor-dropdown"),t(document).off(".redactor-air."+this.uuid),t(document).off("mousedown.redactor-blur."+this.uuid),t(document).off("mousedown.redactor."+this.uuid),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid),t(window).off(".redactor-toolbar."+this.uuid),t(window).off("touchmove.redactor."+this.uuid),t("body").off("scroll.redactor."+this.uuid),t(this.opts.toolbarFixedTarget).off("scroll.redactor."+this.uuid);var e=this;!1!==this.opts.plugins&&t.each(this.opts.plugins,function(i,n){t(window).off(".redactor-plugin-"+n),t(document).off(".redactor-plugin-"+n),t("body").off(".redactor-plugin-"+n),e.core.editor().off(".redactor-plugin-"+n)}),this.$element.off("click.redactor-click-to-edit"),this.$element.removeClass("redactor-click-to-edit"),this.core.editor().removeClass("redactor-layer"),this.core.editor().removeAttr("contenteditable");var i=this.code.get();this.opts.toolbar&&this.$toolbar&&this.$toolbar.find("a").each(function(){var e=t(this);e.data("dropdown")&&(e.data("dropdown").remove(),e.data("dropdown",{}))}),"textarea"===this.opts.type&&(this.$box.after(this.$element),this.$box.remove(),this.$element.val(i).show()),this.opts.air&&this.$air.remove(),this.opts.toolbar&&this.$toolbar&&this.$toolbar.remove(),this.$modalBox&&this.$modalBox.remove(),this.$modalOverlay&&this.$modalOverlay.remove(),t(".redactor-link-tooltip").remove(),clearInterval(this.autosaveTimeout)}}},detect:function(){return{isWebkit:function(){return/webkit/.test(this.opts.userAgent)},isFirefox:function(){return this.opts.userAgent.indexOf("firefox")>-1},isIe:function(t){if(document.documentMode||/Edge/.test(navigator.userAgent))return"edge";var e;return(e=RegExp("msie"+(isNaN(t)?"":"\\s"+t),"i").test(navigator.userAgent))||(e=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),e},isMobile:function(){return/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)},isDesktop:function(){return!/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)},isIpad:function(){return/iPad/.test(navigator.userAgent)}}},dropdown:function(){return{active:!1,button:!1,key:!1,position:[],getDropdown:function(){return this.dropdown.active},build:function(e,i,n){n=this.dropdown.buildFormatting(e,n),t.each(n,t.proxy(function(t,n){var s=this.dropdown.buildItem(t,n);this.observe.addDropdown(s,t,n),i.attr("rel",e).append(s)},this))},buildFormatting:function(e,i){return"format"!==e||!1===this.opts.formattingAdd?i:(t.each(this.opts.formattingAdd,t.proxy(function(t,e){var n=this.utils.isBlockTag(e.args[0])?"block":"inline";i[t]={func:"block"===n?"block.format":"inline.format",args:e.args,title:e.title}},this)),i)},buildItem:function(e,i){var n=t("<li />");if(void 0!==i.classname&&n.addClass(i.classname),-1!==e.search(/^divider/i))return n.addClass("redactor-dropdown-divider"),n;var s=t('<a href="#" class="redactor-dropdown-'+e+'" role="button" />'),r=t("<span />").html(i.title);return s.append(r),s.on("mousedown",t.proxy(function(t){t.preventDefault(),this.dropdown.buildClick(t,e,i)},this)),n.append(s),n},buildClick:function(e,i,n){if(!t(e.target).hasClass("redactor-dropdown-link-inactive")){var s=this.dropdown.buildCommand(n);void 0!==n.args?this.button.toggle(e,i,s.type,s.callback,n.args):this.button.toggle(e,i,s.type,s.callback)}},buildCommand:function(t){var e={};return e.type="func",e.callback=t.func,t.command?(e.type="command",e.callback=t.command):t.dropdown&&(e.type="dropdown",e.callback=t.dropdown),e},show:function(e,i){this.detect.isDesktop()&&this.core.editor().focus(),this.dropdown.hideAll(!1,i),this.dropdown.key=i,this.dropdown.button=this.button.get(this.dropdown.key),this.dropdown.button.hasClass("dropact")?this.dropdown.hide():(this.dropdown.active=this.dropdown.button.data("dropdown").appendTo(document.body),this.core.callback("dropdownShow",{dropdown:this.dropdown.active,
key:this.dropdown.key,button:this.dropdown.button}),this.button.setActive(this.dropdown.key),this.dropdown.button.addClass("dropact"),this.dropdown.getButtonPosition(),this.button.toolbar().hasClass("toolbar-fixed-box")&&this.detect.isDesktop()?this.dropdown.showIsFixedToolbar():this.dropdown.showIsUnFixedToolbar(),this.detect.isDesktop()&&!this.detect.isFirefox()&&(this.dropdown.active.on("mouseover.redactor-dropdown",t.proxy(this.utils.disableBodyScroll,this)),this.dropdown.active.on("mouseout.redactor-dropdown mousedown.redactor-dropdown",t.proxy(this.utils.enableBodyScroll,this))),e.stopPropagation())},showIsFixedToolbar:function(){var e=this.dropdown.button.position().top+this.dropdown.button.innerHeight()+this.opts.toolbarFixedTopOffset,i="fixed";this.opts.toolbarFixedTarget!==document&&(e=this.dropdown.button.innerHeight()+this.$toolbar.offset().top+this.opts.toolbarFixedTopOffset,i="absolute"),this.dropdown.active.css({position:i,left:this.dropdown.position.left+"px",top:e+"px"}).show(),this.dropdown.active.redactorAnimation("slideDown",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},showIsUnFixedToolbar:function(){this.dropdown.active.css({position:"absolute",left:this.dropdown.position.left+"px",top:this.dropdown.button.innerHeight()+this.dropdown.position.top+"px"}).show(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideDown":"show",{duration:.2},t.proxy(function(){this.dropdown.enableCallback(),this.dropdown.enableEvents()},this))},enableEvents:function(){t(document).on("mousedown.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),this.core.editor().on("touchstart.redactor-dropdown",t.proxy(this.dropdown.hideAll,this)),t(document).on("keyup.redactor-dropdown",t.proxy(this.dropdown.closeHandler,this))},enableCallback:function(){this.core.callback("dropdownShown",{dropdown:this.dropdown.active,key:this.dropdown.key,button:this.dropdown.button})},getButtonPosition:function(){this.dropdown.position=this.dropdown.button.offset();var e=this.dropdown.active.width();this.dropdown.position.left+e>t(document).width()&&(this.dropdown.position.left=Math.max(0,this.dropdown.position.left-e+parseInt(this.dropdown.button.innerWidth())))},closeHandler:function(t){t.which===this.keyCode.ESC&&(this.dropdown.hideAll(t),this.core.editor().focus())},hideAll:function(e,i){if(this.detect.isDesktop()&&this.utils.enableBodyScroll(),!1===e||0===t(e.target).closest(".redactor-dropdown").length){var n=void 0===i?this.button.toolbar().find("a.dropact"):this.button.toolbar().find("a.dropact").not(".re-"+i),s=void 0===i?t(".redactor-dropdown-"+this.uuid):t(".redactor-dropdown-"+this.uuid).not(".redactor-dropdown-box-"+i);0!==s.length&&(t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),t.each(s,t.proxy(function(e,i){var n=t(i);this.core.callback("dropdownHide",n),n.hide(),n.off("mouseover mouseout").off(".redactor-dropdown")},this)),n.removeClass("redactor-act dropact"))}},hide:function(){!1!==this.dropdown.active&&(this.detect.isDesktop()&&this.utils.enableBodyScroll(),this.dropdown.active.redactorAnimation(this.opts.animation?"slideUp":"hide",{duration:.2},t.proxy(function(){t(document).off(".redactor-dropdown"),this.core.editor().off(".redactor-dropdown"),this.dropdown.hideOut()},this)))},hideOut:function(){this.core.callback("dropdownHide",this.dropdown.active),this.dropdown.button.removeClass("redactor-act dropact"),this.dropdown.active.off("mouseover mouseout").off(".redactor-dropdown"),this.dropdown.button=!1,this.dropdown.key=!1,this.dropdown.active=!1}}},events:function(){return{focused:!1,blured:!0,dropImage:!1,stopChanges:!1,stopDetectChanges:function(){this.events.stopChanges=!0},startDetectChanges:function(){var t=this;setTimeout(function(){t.events.stopChanges=!1},1)},dragover:function(e){e.preventDefault(),e.stopPropagation(),"IMG"===e.target.tagName&&t(e.target).addClass("redactor-image-dragover")},dragleave:function(){this.core.editor().find("img").removeClass("redactor-image-dragover")},drop:function(t){return t=t.originalEvent||t,this.core.editor().find("img").removeClass("redactor-image-dragover"),"inline"===this.opts.type||"pre"===this.opts.type?(t.preventDefault(),!1):void 0===window.FormData||!t.dataTransfer||(0===t.dataTransfer.files.length?this.events.onDrop(t):(this.events.onDropUpload(t),void this.core.callback("drop",t)))},click:function(t){var e=this.core.getEvent(),i="click"!==e&&"arrow"!==e&&"click";this.core.addEvent(i),this.utils.disableSelectAll(),this.core.callback("click",t)},focus:function(t){if(!this.rtePaste&&(this.events.isCallback("focus")&&this.core.callback("focus",t),this.events.focused=!0,this.events.blured=!1,!1===this.selection.current())){var e=this.selection.get(),i=this.selection.range(e);i.setStart(this.core.editor()[0],0),i.setEnd(this.core.editor()[0],0),this.selection.update(e,i)}},blur:function(e){this.start||this.rtePaste||0===t(e.target).closest("#"+this.core.id()+", .redactor-toolbar, .redactor-dropdown, #redactor-modal-box").length&&(!this.events.blured&&this.events.isCallback("blur")&&this.core.callback("blur",e),this.events.focused=!1,this.events.blured=!0)},touchImageEditing:function(){var e=-1;this.events.imageEditing=!1,t(window).on("touchmove.redactor."+this.uuid,t.proxy(function(){this.events.imageEditing=!0,-1!==e&&clearTimeout(e),e=setTimeout(t.proxy(function(){this.events.imageEditing=!1},this),500)},this))},init:function(){this.core.editor().on("dragover.redactor dragenter.redactor",t.proxy(this.events.dragover,this)),this.core.editor().on("dragleave.redactor",t.proxy(this.events.dragleave,this)),this.core.editor().on("drop.redactor",t.proxy(this.events.drop,this)),this.core.editor().on("click.redactor",t.proxy(this.events.click,this)),this.core.editor().on("paste.redactor",t.proxy(this.paste.init,this)),this.core.editor().on("keydown.redactor",t.proxy(this.keydown.init,this)),this.core.editor().on("keyup.redactor",t.proxy(this.keyup.init,this)),this.core.editor().on("focus.redactor",t.proxy(this.events.focus,this)),t(document).on("mousedown.redactor-blur."+this.uuid,t.proxy(this.events.blur,this)),this.events.touchImageEditing(),this.events.createObserver(),this.events.setupObserver()},createObserver:function(){var e=this;this.events.observer=new MutationObserver(function(i){i.forEach(t.proxy(e.events.iterateObserver,e))})},iterateObserver:function(t){var e=!1;(("textarea"===this.opts.type||"div"===this.opts.type)&&!this.detect.isFirefox()&&t.target===this.core.editor()[0]||"class"===t.attributeName&&t.target===this.core.editor()[0])&&(e=!0),e||(this.observe.load(),this.events.changeHandler())},setupObserver:function(){this.events.observer.observe(this.core.editor()[0],{attributes:!0,subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0})},changeHandler:function(){this.events.stopChanges||(this.code.sync(),this.autosave.is()&&(clearTimeout(this.autosaveTimeout),this.autosaveTimeout=setTimeout(t.proxy(this.autosave.send,this),300)))},onDropUpload:function(t){if(t.preventDefault(),t.stopPropagation(),(this.opts.dragImageUpload||this.opts.dragFileUpload)&&(null!==this.opts.imageUpload||null!==this.opts.fileUpload)){"IMG"===t.target.tagName&&(this.events.dropImage=t.target);for(var e=t.dataTransfer.files,i=e.length,n=0;n<i;n++)this.upload.directUpload(e[n],t)}},onDrop:function(t){this.core.callback("drop",t)},isCallback:function(e){return void 0!==this.opts.callbacks[e]&&t.isFunction(this.opts.callbacks[e])},stopDetect:function(){this.events.stopDetectChanges()},startDetect:function(){this.events.startDetectChanges()}}},file:function(){return{is:function(){return!(!this.opts.fileUpload||!this.opts.fileUpload&&!this.opts.s3)},show:function(){this.modal.load("file",this.lang.get("file"),700),this.upload.init("#redactor-modal-file-upload",this.opts.fileUpload,this.file.insert),t("#redactor-filename").val(this.selection.get().toString()),this.modal.show()},insert:function(e,i,n){if(void 0!==e.error)return this.modal.close(),void this.core.callback("fileUploadError",e);this.file.release(n,i),this.buffer.set(),this.air.collapsed();var s=this.file.text(e),r=t("<a />").attr("href",e.url).text(s),o=void 0===e.id?"":e.id,a=void 0===e.s3?"file":"s3";r.attr("data-"+a,o),r=t(this.insert.node(r)),this.caret.after(r),this.storage.add({type:a,node:r[0],url:e.url,id:o}),null!==i&&this.core.callback("fileUpload",r,e)},release:function(t,e){e?(this.marker.remove(),this.insert.nodeToPoint(t,this.marker.get()),this.selection.restore()):this.modal.close()},text:function(e){var i=t("#redactor-filename").val();return void 0===i||""===i?e.name:i}}},focus:function(){return{start:function(){if(this.core.editor().focus(),"inline"!==this.opts.type){var t=this.focus.first();!1!==t&&this.caret.start(t)}},end:function(){this.core.editor().focus();var t=this.opts.inline?this.core.editor():this.focus.last();if(0!==t.length){var e=this.focus.lastChild(t);if(this.detect.isWebkit()||!1===e){var i=this.selection.get(),n=this.selection.range(i);null!==n?(n.selectNodeContents(t[0]),n.collapse(!1),this.selection.update(i,n)):this.caret.end(t)}else this.caret.end(e)}},first:function(){var t=this.core.editor().children().first();return(0!==t.length||0!==t[0].length&&"BR"!==t[0].tagName&&"HR"!==t[0].tagName&&3!==t[0].nodeType)&&("UL"===t[0].tagName||"OL"===t[0].tagName?t.find("li").first():t)},last:function(){return this.core.editor().children().last()},lastChild:function(t){var e=t[0].lastChild;return!(null===e||!this.utils.isInlineTag(e.tagName))&&e},is:function(){return this.core.editor()[0]===document.activeElement}}},image:function(){return{is:function(){return!(!this.opts.imageUpload||!this.opts.imageUpload&&!this.opts.s3)},show:function(){this.modal.load("image",this.lang.get("image"),700),this.upload.init("#redactor-modal-image-droparea",this.opts.imageUpload,this.image.insert),this.modal.show()},insert:function(e,i,n){var s;if(void 0!==e.error)return this.modal.close(),this.events.dropImage=!1,void this.core.callback("imageUploadError",e,n);if(!1!==this.events.dropImage)return s=t(this.events.dropImage),this.core.callback("imageDelete",s[0].src,s),s.attr("src",e.url),this.events.dropImage=!1,void this.core.callback("imageUpload",s,e);this.placeholder.hide();var r=t("<"+this.opts.imageTag+">");(s=t("<img>")).attr("src",e.url);var o=void 0===e.id?"":e.id,a=void 0===e.s3?"image":"s3";s.attr("data-"+a,o),r.append(s);var l=this.utils.isTag(this.selection.current(),"pre");if(i){this.air.collapsed(),this.marker.remove();var c=this.insert.nodeToPoint(n,this.marker.get()),h=t(c).next();this.selection.restore(),this.buffer.set(),void 0!==h&&0!==h.length&&"IMG"===h[0].tagName?(this.core.callback("imageDelete",h[0].src,h),h.closest("figure, p",this.core.editor()[0]).replaceWith(r),this.caret.after(r)):(l?t(l).after(r):this.insert.node(r),this.caret.after(r))}else this.modal.close(),this.buffer.set(),this.air.collapsed(),l?t(l).after(r):this.insert.node(r),this.caret.after(r);this.events.dropImage=!1,this.storage.add({type:a,node:s[0],url:e.url,id:o});var u=s[0].nextSibling,d=r.next(),p=t(u).text().replace(/\u200B/g,""),f=d.text().replace(/\u200B/g,"");""===p&&t(u).remove(),1===d.length&&"FIGURE"===d[0].tagName&&""===f&&d.remove(),null!==i?this.core.callback("imageUpload",s,e):this.core.callback("imageInserted",s,e)},setEditable:function(e){if(e.on("dragstart",function(t){t.preventDefault()}),this.opts.imageResizable){var i=t.proxy(function(){this.observe.image=e,this.image.resizer=this.image.loadEditableControls(e),t(document).on("mousedown.redactor-image-resize-hide."+this.uuid,t.proxy(this.image.hideResize,this)),this.image.resizer&&this.image.resizer.on("mousedown.redactor touchstart.redactor",t.proxy(function(t){this.image.setResizable(t,e)},this))},this);e.off("mousedown.redactor").on("mousedown.redactor",t.proxy(this.image.hideResize,this)),e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",i)}else e.off("click.redactor touchstart.redactor").on("click.redactor touchstart.redactor",t.proxy(function(){setTimeout(t.proxy(function(){this.image.showEdit(e)},this),200)},this))},setResizable:function(t,e){t.preventDefault(),this.image.resizeHandle={x:t.pageX,y:t.pageY,el:e,ratio:e.width()/e.height(),h:e.height()},(t=t.originalEvent||t).targetTouches&&(this.image.resizeHandle.x=t.targetTouches[0].pageX,this.image.resizeHandle.y=t.targetTouches[0].pageY),this.image.startResize()},startResize:function(){t(document).on("mousemove.redactor-image-resize touchmove.redactor-image-resize",t.proxy(this.image.moveResize,this)),t(document).on("mouseup.redactor-image-resize touchend.redactor-image-resize",t.proxy(this.image.stopResize,this))},moveResize:function(t){t.preventDefault(),t=t.originalEvent||t;var e=this.image.resizeHandle.h;t.targetTouches?e+=t.targetTouches[0].pageY-this.image.resizeHandle.y:e+=t.pageY-this.image.resizeHandle.y;var i=Math.round(e*this.image.resizeHandle.ratio);e<50||i<100||(this.image.resizeHandle.el.attr({width:i,height:e}),this.image.resizeHandle.el.width(i),this.image.resizeHandle.el.height(e),this.code.sync())},stopResize:function(){this.handle=!1,t(document).off(".redactor-image-resize"),this.image.hideResize()},hideResize:function(e){if(!e||0===t(e.target).closest("#redactor-image-box",this.$editor[0]).length){e&&"IMG"==e.target.tagName&&t(e.target);var i=this.$editor.find("#redactor-image-box");0!==i.length&&(t("#redactor-image-editter").remove(),t("#redactor-image-resizer").remove(),i.find("img").css({marginTop:i[0].style.marginTop,marginBottom:i[0].style.marginBottom,marginLeft:i[0].style.marginLeft,marginRight:i[0].style.marginRight}),i.css("margin",""),i.find("img").css("opacity",""),i.replaceWith(function(){return t(this).contents()}),t(document).off("mousedown.redactor-image-resize-hide."+this.uuid),void 0!==this.image.resizeHandle&&this.image.resizeHandle.el.attr("rel",this.image.resizeHandle.el.attr("style")))}},loadResizableControls:function(e,i){if(this.opts.imageResizable&&!this.detect.isMobile()){var n=t('<span id="redactor-image-resizer" data-redactor="verified"></span>');return this.detect.isDesktop()||n.css({width:"15px",height:"15px"}),n.attr("contenteditable",!1),i.append(n),i.append(e),n}return i.append(e),!1},loadEditableControls:function(e){if(0===t("#redactor-image-box").length){var i=t('<span id="redactor-image-box" data-redactor="verified">');if(i.css("float",e.css("float")).attr("contenteditable",!1),"auto"!=e[0].style.margin?(i.css({marginTop:e[0].style.marginTop,marginBottom:e[0].style.marginBottom,marginLeft:e[0].style.marginLeft,marginRight:e[0].style.marginRight}),e.css("margin","")):i.css({display:"block",margin:"auto"}),e.css("opacity",".5").after(i),this.opts.imageEditable){this.image.editter=t('<span id="redactor-image-editter" data-redactor="verified">'+this.lang.get("edit")+"</span>"),this.image.editter.attr("contenteditable",!1),this.image.editter.on("click",t.proxy(function(){this.image.showEdit(e)},this)),i.append(this.image.editter);var n=this.image.editter.innerWidth();this.image.editter.css("margin-left","-"+n/2+"px")}return this.image.loadResizableControls(e,i)}},showEdit:function(e){if(!this.events.imageEditing){this.observe.image=e;var i=e.closest("a",this.$editor[0]),n=e.closest("figure",this.$editor[0]),s=0!==n.length?n:e;if(this.modal.load("image-edit",this.lang.get("edit"),705),this.image.buttonDelete=this.modal.getDeleteButton().text(this.lang.get("delete")),this.image.buttonSave=this.modal.getActionButton().text(this.lang.get("save")),this.image.buttonDelete.on("click",t.proxy(this.image.remove,this)),this.image.buttonSave.on("click",t.proxy(this.image.update,this)),!1===this.opts.imageCaption)t("#redactor-image-caption").val("").hide().prev().hide();else{var r=e.closest(this.opts.imageTag,this.$editor[0]).find("figcaption");0!==r&&t("#redactor-image-caption").val(r.text()).show()}if(this.opts.imagePosition){var o=(0!==n.length?"center"===s.css("text-align"):"block"==s.css("display")&&"none"==s.css("float"))?"center":s.css("float");t("#redactor-image-align").val(o)}else t(".redactor-image-position-option").hide();t("#redactor-image-preview").html(t('<img src="'+e.attr("src")+'" style="max-width: 100%;">')),t("#redactor-image-title").val(e.attr("alt")),0!==i.length&&(t("#redactor-image-link").val(i.attr("href")),"_blank"===i.attr("target")&&t("#redactor-image-link-blank").prop("checked",!0)),t(".redactor-link-tooltip").remove(),this.modal.show(),this.detect.isDesktop()&&t("#redactor-image-title").focus()}},update:function(){var e=this.observe.image,i=e.closest("a",this.core.editor()[0]),n=t("#redactor-image-title").val().replace(/(<([^>]+)>)/gi,"");e.attr("alt",n).attr("title",n),this.image.setFloating(e);var s=t.trim(t("#redactor-image-link").val()).replace(/(<([^>]+)>)/gi,"");if(""!==s){var r="((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}",o=new RegExp("^(http|ftp|https)://"+r,"i"),a=new RegExp("^"+r,"i");-1===s.search(o)&&0===s.search(a)&&this.opts.linkProtocol&&(s=this.opts.linkProtocol+"://"+s);var l=!!t("#redactor-image-link-blank").prop("checked");if(0===i.length){var c=t('<a href="'+s+'" id="redactor-img-tmp">'+this.utils.getOuterHtml(e)+"</a>");l&&c.attr("target","_blank"),e=e.replaceWith(c),(i=this.core.editor().find("#redactor-img-tmp")).removeAttr("id")}else i.attr("href",s),l?i.attr("target","_blank"):i.removeAttr("target")}else 0!==i.length&&i.replaceWith(this.utils.getOuterHtml(e));this.image.addCaption(e,i),this.modal.close(),this.buffer.set()},setFloating:function(e){var i=e.closest("figure",this.$editor[0]),n=0!==i.length?i:e,s="",r="",o="",a="";switch(t("#redactor-image-align").val()){case"left":s="left",o="0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin+" 0";break;case"right":s="right",o="0 0 "+this.opts.imageFloatMargin+" "+this.opts.imageFloatMargin;break;case"center":0!==i.length?a="center":(r="block",o="auto")}n.css({"float":s,display:r,margin:o,"text-align":a}),n.attr("rel",e.attr("style"))},addCaption:function(e,i){var n=t("#redactor-image-caption").val(),s=0!==i.length?i:e,r=s.next();0!==r.length&&"FIGCAPTION"===r[0].tagName||(r=!1),""!==n?!1===r?(r=t("<figcaption />").text(n),s.after(r)):r.text(n):!1!==r&&r.remove()},remove:function(e,i){i=void 0===i?t(this.observe.image):i,"boolean"!=typeof e&&this.buffer.set(),this.events.stopDetectChanges();var n=i.closest("a",this.core.editor()[0]),s=i.closest(this.opts.imageTag,this.core.editor()[0]);if(i.parent(),!1===this.core.callback("imageDelete",e,i[0]))return e&&e.preventDefault(),!1;0!==t("#redactor-image-box").length&&t("#redactor-image-box").parent();var r,o;0!==s.length?(o=s.prev(),r=s.next(),s.remove()):0!==n.length?(n.parent(),n.remove()):i.remove(),t("#redactor-image-box").remove(),!1!==e&&(r&&0!==r.length?this.caret.start(r):o&&0!==o.length&&this.caret.end(o)),"boolean"!=typeof e&&this.modal.close(),this.utils.restoreScroll(),this.observe.image=!1,this.events.startDetectChanges(),this.placeholder.enable(),this.code.sync()}}},indent:function(){return{increase:function(){if(this.list.get()){var e=t(this.selection.current()).closest("li"),i=e.closest("ul, ol",this.core.editor()[0]),n=e.closest("li").prev();if(0!==n.length&&"LI"===n[0].tagName)if(this.buffer.set(),this.utils.isCollapsed()){var s=i[0].tagName,r=t("<"+s+" />");this.selection.save();var o=n.find("ol").first();1===o.length?o.append(e):(s=i[0].tagName,(r=t("<"+s+" />")).append(e),n.append(r)),this.selection.restore()}else document.execCommand("indent"),this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},decrease:function(){if(this.list.get()){t(this.selection.current()).closest("li").closest("ul, ol",this.core.editor()[0]),this.buffer.set(),document.execCommand("outdent");var e=t(this.selection.current()).closest("li",this.core.editor()[0]);if(this.utils.isCollapsed()&&this.indent.repositionItem(e),0===e.length){document.execCommand("formatblock",!1,"p");var i=(e=t(this.selection.current())).next();0!==i.length&&"BR"===i[0].tagName&&i.remove()}this.selection.save(),this.indent.removeEmpty(),this.indent.normalize(),this.selection.restore()}},repositionItem:function(t){var e=t.next();0===e.length||"UL"===e[0].tagName&&"OL"===e[0].tagName||t.append(e);var i=t.prev();0!==i.length&&"LI"!==i[0].tagName&&(this.selection.save(),t.parents("li",this.core.editor()[0]).after(t),this.selection.restore())},normalize:function(){this.core.editor().find("li").each(t.proxy(function(e,i){var n=t(i);n.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var s=n.parent();if(0===s.length||"LI"!==s[0].tagName){var r=n.next();0===r.length||"UL"!==r[0].tagName&&"OL"!==r[0].tagName||n.append(r)}else s.after(n)},this))},removeEmpty:function(){var e=this.core.editor().find("ul, ol"),i=this.core.editor().find("li");i.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),e.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this)),i.each(t.proxy(function(t,e){this.indent.removeItemEmpty(e)},this))},removeItemEmpty:function(e){var i=e.innerHTML.replace(/[\t\s\n]/g,"");""===(i=i.replace(/<span><\/span>/g,""))&&t(e).remove()}}},inline:function(){return{format:function(t,e,i,n){if(!this.utils.isCurrentOrParent(["PRE","CODE"])){var s=this.inline.getParams(e,i,n);t=this.inline.arrangeTag(t),this.placeholder.hide(),this.buffer.set(),this.utils.isCollapsed()?this.inline.formatCollapsed(t,s):this.inline.formatUncollapsed(t,s)}},formatCollapsed:function(e,i){var n,s=this.selection.inline();if(s){var r=s.tagName.toLowerCase();if(r===e)this.utils.isEmpty(s.innerHTML)?(this.caret.after(s),t(s).remove()):(o=this.inline.insertBreakpoint(s,r),this.caret.after(o));else if(0===t(s).closest(e).length)n=this.inline.insertInline(e),n=this.inline.setParams(n,i);else{var o=this.inline.insertBreakpoint(s,r);this.caret.after(o)}}else n=this.inline.insertInline(e),n=this.inline.setParams(n,i)},formatUncollapsed:function(e,i){this.selection.save();var n=this.inline.getClearedNodes();this.inline.setNodesStriked(n,e,i),this.selection.restore(),document.execCommand("strikethrough"),this.selection.saveInstant();var s=this;this.core.editor().find("strike").each(function(){var n=s.utils.replaceToTag(this,e);s.inline.setParams(n[0],i);var r=n.find(e),o=n.parent(),a=o.parent();if(0!==a.length&&a[0].tagName.toLowerCase()===e&&a.html()==o[0].outerHTML)return n.replaceWith(function(){return t(this).contents()}),void a.replaceWith(function(){return t(this).contents()});0!==r.length&&s.inline.cleanInsideOrParent(r,i),o.html()==n[0].outerHTML&&s.inline.cleanInsideOrParent(o,i),s.detect.isFirefox()&&s.core.editor().find(e+":empty").remove()}),this.selection.restoreInstant()},cleanInsideOrParent:function(t,e){if(e)for(var i in e.data)this.inline.removeSpecificAttr(t,i,e.data[i])},getClearedNodes:function(){for(var e=this.selection.nodes(),i=[],n=e.length,s=0,r=0;r<n;r++)if(t(e[r]).hasClass("redactor-selection-marker")){s=r+2;break}for(r=0;r<n;r++)r>=s&&!this.utils.isBlockTag(e[r].tagName)&&i.push(e[r]);return i},isConvertableAttr:function(e,i,n){var s=t(e).attr(i);if(s)if("style"===i){for(var r=(n=t.trim(n).replace(/;$/,"")).split(";"),o=0,a=0;a<r.length;a++){var l=r[a].split(":"),c=t.trim(l[0]),h=t.trim(l[1]);if(-1!==c.search(/color/)){var u=t(e).css(c);!u||u!==h&&this.utils.rgb2hex(u)!==h||o++}else t(e).css(c)===h&&o++}if(o===r.length)return 1}else if(s===n)return 1;return 0},isConvertable:function(t,e,i,n){if(e===i){if(!n)return!0;var s=0;for(var r in n.data)s+=this.inline.isConvertableAttr(t,r,n.data[r]);if(s===Object.keys(n.data).length)return!0}return!1},setNodesStriked:function(e,i,n){for(var s=0;s<e.length;s++){var r=e[s].tagName?e[s].tagName.toLowerCase():void 0,o=e[s].parentNode,a=o&&o.tagName?o.tagName.toLowerCase():void 0,l=this.inline.isConvertable(o,a,i,n);l&&t(o).replaceWith(function(){return t("<strike>").append(t(this).contents())}).attr("data-redactor-inline-converted"),(l=this.inline.isConvertable(e[s],r,i,n))&&t(e[s]).replaceWith(function(){return t("<strike>").append(t(this).contents())})}},insertBreakpoint:function(e,i){var n=document.createElement("span");n.id="redactor-inline-breakpoint",n=this.insert.node(n);var s=this.utils.isEndOfElement(e),r=this.utils.getOuterHtml(e),o=s?"":"<"+i+">";r=r.replace(/<span id="redactor-inline-breakpoint"><\/span>/i,"</"+i+">"+o);var a=t(r);return t(e).replaceWith(a),""!==o&&this.utils.cloneAttributes(e,a.last()),a.first()},insertInline:function(t){var e=document.createElement(t);return this.insert.node(e),this.caret.start(e),e},arrangeTag:function(t){var e=["b","bold","i","italic","underline","strikethrough","deleted","superscript","subscript"],i=["strong","strong","em","em","u","del","del","sup","sub"];t=t.toLowerCase();for(var n=0;n<e.length;n++)t===e[n]&&(t=i[n]);return t},getStyleParams:function(t){for(var e={},i=t.trim().replace(/;$/,"").split(";"),n=0;n<i.length;n++){var s=i[n].split(":");s&&(e[s[0].trim()]=s[1].trim())}return e},getParams:function(t,e,i){var n=!1,s="toggle";return"object"==typeof t?(n=t,s=void 0!==e?e:s):void 0!==t&&void 0!==e&&((n={})[t]=e,s=void 0!==i?i:s),!!n&&{func:s,data:n}},setParams:function(e,i){if(i)for(var n in i.data){var s=t(e);"style"===n?(e=this.inline[i.func+"Style"](i.data[n],e),s.attr("data-redactor-style-cache",s.attr("style"))):e="class"===n?this.inline[i.func+"Class"](i.data[n],e):"remove"===i.func?this.inline[i.func+"Attr"](n,e):this.inline[i.func+"Attr"](n,i.data[n],e),"style"===n&&"SPAN"===e.tagName&&s.attr("data-redactor-span",!0)}return e},eachInline:function(t,e){var i,n=void 0===t?this.selection.inlines():[t];if(n)for(var s=0;s<n.length;s++)i=e(n[s])[0];return i},replaceClass:function(e,i){return this.inline.eachInline(i,function(i){return t(i).removeAttr("class").addClass(e)})},toggleClass:function(e,i){return this.inline.eachInline(i,function(i){return t(i).toggleClass(e)})},addClass:function(e,i){return this.inline.eachInline(i,function(i){return t(i).addClass(e)})},removeClass:function(e,i){return this.inline.eachInline(i,function(i){return t(i).removeClass(e)})},removeAllClass:function(e){return this.inline.eachInline(e,function(e){return t(e).removeAttr("class")})},replaceAttr:function(e,i,n){return this.inline.eachInline(n,function(i){return t(i).removeAttr(e).attr(e.value)})},toggleAttr:function(e,i,n){return this.inline.eachInline(n,function(i){return t(i).attr(e)?t(i).removeAttr(e):t(i).attr(e.value)})},addAttr:function(e,i,n){return this.inline.eachInline(n,function(n){return t(n).attr(e,i)})},removeAttr:function(e,i){return this.inline.eachInline(i,function(i){var n=t(i);return n.removeAttr(e),"style"===e&&n.removeAttr("data-redactor-style-cache"),n})},removeAllAttr:function(e){return this.inline.eachInline(e,function(e){for(var i=t(e),n=e.attributes.length,s=0;s<n;s++)i.removeAttr(e.attributes[s].name);return i})},removeSpecificAttr:function(e,i,n){var s=t(e);if("style"===i){var r=n.split(":")[0].trim();s.css(r,""),this.utils.removeEmptyAttr(e,"style")&&s.removeAttr("data-redactor-style-cache")}else s.removeAttr(i)[0]},hasParentStyle:function(t){var e=t.parent();return 1===e.length&&e[0].tagName===t[0].tagName&&e.html()===t[0].outerHTML&&e},addParentStyle:function(e){var i=this.inline.hasParentStyle(e);if(i){var n=this.inline.getStyleParams(e.attr("style"));i.css(n),i.attr("data-redactor-style-cache",i.attr("style")),e.replaceWith(function(){return t(this).contents()})}else e.attr("data-redactor-style-cache",e.attr("style"));return e},replaceStyle:function(e,i){e=this.inline.getStyleParams(e);var n=this;return this.inline.eachInline(i,function(i){var s=t(i);s.removeAttr("style").css(e);var r=s.attr("style");return r&&s.attr("style",r.replace(/"/g,"'")),s=n.inline.addParentStyle(s)})},toggleStyle:function(e,i){e=this.inline.getStyleParams(e);var n=this;return this.inline.eachInline(i,function(i){var s=t(i);for(var r in e){var o=e[r],a=s.css(r);(a=n.utils.isRgb(a)?n.utils.rgb2hex(a):a.replace(/"/g,""))===(o=n.utils.isRgb(o)?n.utils.rgb2hex(o):o.replace(/"/g,""))?s.css(r,""):s.css(r,o)}var l=s.attr("style");return l&&s.attr("style",l.replace(/"/g,"'")),n.utils.removeEmptyAttr(i,"style")?s.removeAttr("data-redactor-style-cache"):s=n.inline.addParentStyle(s),s})},addStyle:function(e,i){e=this.inline.getStyleParams(e);var n=this;return this.inline.eachInline(i,function(i){var s=t(i);s.css(e);var r=s.attr("style");return r&&s.attr("style",r.replace(/"/g,"'")),s=n.inline.addParentStyle(s)})},removeStyle:function(e,i){e=this.inline.getStyleParams(e);var n=this;return this.inline.eachInline(i,function(i){var s=t(i);for(var r in e)s.css(r,"");return n.utils.removeEmptyAttr(i,"style")?s.removeAttr("data-redactor-style-cache"):s.attr("data-redactor-style-cache",s.attr("style")),s})},removeAllStyle:function(e){return this.inline.eachInline(e,function(e){return t(e).removeAttr("style").removeAttr("data-redactor-style-cache")})},removeStyleRule:function(e){var i=this.selection.parent(),n=this.selection.inlines();this.buffer.set(),i&&"SPAN"===i.tagName&&this.inline.removeStyleRuleAttr(t(i),e);for(var s=0;s<n.length;s++){var r=n[s],o=t(r);-1==t.inArray(r.tagName.toLowerCase(),this.opts.inlineTags)||o.hasClass("redactor-selection-marker")||this.inline.removeStyleRuleAttr(o,e)}},removeStyleRuleAttr:function(t,e){t.css(e,""),this.utils.removeEmptyAttr(t,"style")?t.removeAttr("data-redactor-style-cache"):t.attr("data-redactor-style-cache",t.attr("style"))},update:function(t,e,i,n){t=this.inline.arrangeTag(t);var s=this.inline.getParams(e,i,n),r=this.selection.inlines(),o=[];if(r)for(var a=0;a<r.length;a++){var l=r[a];"*"!==t&&l.tagName.toLowerCase()!==t||o.push(this.inline.setParams(l,s))}return o},removeFormat:function(){this.selection.save();for(var e=this.inline.getClearedNodes(),i=0;i<e.length;i++)1===e[i].nodeType&&t(e[i]).replaceWith(function(){return t(this).contents()});this.selection.restore()}}},insert:function(){return{set:function(t){this.placeholder.hide(),this.code.set(t),this.focus.end(),this.placeholder.enable()},html:function(e,i){this.placeholder.hide(),this.core.editor().focus();var n=this.selection.block(),s=this.selection.inline();void 0===i&&(i=this.clean.getCurrentType(e,!0),e=this.clean.onPaste(e,i,!0)),e=t.parseHTML(e);var r=t(e).last(),o=this.selection.get(),a=this.selection.range(o);if(a.deleteContents(),this.selection.update(o,a),i.lists){var l=t(e);if(0!==l.length&&("UL"===l[0].tagName||"OL"===l[0].tagName))return void this.insert.appendLists(n,l)}if(i.blocks&&n)if(this.utils.isSelectAll())this.core.editor().html(e),this.focus.end();else{var c=this.utils.breakBlockTag();!1===c?this.insert.placeHtml(e):(t(e).children().last().append(this.marker.get()),"start"===c.type?c.$block.before(e):c.$block.after(e),this.selection.restore(),this.core.editor().find("p").each(function(){""===t.trim(this.innerHTML)&&t(this).remove()}))}else{if(s){var h=t("<div/>").html(e);h.find(s.tagName.toLowerCase()).each(function(){t(this).contents().unwrap()}),e=h.html()}if(this.utils.isSelectAll()){var u=t(this.opts.emptyHtml);this.core.editor().html("").append(u),u.html(e),this.caret.end(u)}else this.insert.placeHtml(e)}this.utils.disableSelectAll(),i.pre&&this.clean.cleanPre(),this.caret.end(r),this.linkify.format()},text:function(e){e=e.toString(),e=t.trim(e);var i=document.createElement("div");if(i.innerHTML=e,void 0!==(e=i.textContent||i.innerText)){this.placeholder.hide(),this.core.editor().focus();var n=this.selection.blocks();if(e=e.replace(/\n/g," "),this.utils.isSelectAll()){var s=t(this.opts.emptyHtml);this.core.editor().html("").append(s),s.html(e),this.caret.end(s)}else{var r=this.selection.get(),o=document.createTextNode(e);if(r.getRangeAt&&r.rangeCount){var a=r.getRangeAt(0);a.deleteContents(),a.insertNode(o),a.setStartAfter(o),a.collapse(!0),this.selection.update(r,a)}n.length>1&&(t(o).wrap("<p>"),this.caret.after(o))}this.utils.disableSelectAll(),this.linkify.format(),this.clean.normalizeCurrentHeading()}},raw:function(t){this.placeholder.hide(),this.core.editor().focus();var e=this.selection.get(),i=this.selection.range(e);i.deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var s,r,o=document.createDocumentFragment();s=n.firstChild;)r=o.appendChild(s);i.insertNode(o),r&&((i=i.cloneRange()).setStartAfter(r),i.collapse(!0),e.removeAllRanges(),e.addRange(i))},node:function(e,i){this.placeholder.hide(),void 0!==this.start&&this.core.editor().focus(),e=e[0]||e;var n=this.selection.block(),s=this.utils.isBlockTag(e.tagName),r=!0;if(this.utils.isSelectAll())s?this.core.editor().html(e):this.core.editor().html(t("<p>").html(e)),this.code.sync();else if(s&&n){var o=this.utils.breakBlockTag();!1===o?this.insert.placeNode(e,i):("start"===o.type?o.$block.before(e):o.$block.after(e),
this.core.editor().find("p:empty").remove())}else r=this.insert.placeNode(e,i);return this.utils.disableSelectAll(),r&&this.caret.end(e),e},appendLists:function(e,i){var n,s=t(e),r=this.utils.isEmpty(e.innerHTML);if(r||this.utils.isEndOfElement(e))n=s,i.find("li").each(function(){n.after(this),n=t(this)}),r&&s.remove();else if(this.utils.isStartOfElement(e))i.find("li").each(function(){s.before(this),n=t(this)});else{var o=this.selection.extractEndOfNode(e);s.after(t("<li>").append(o)),s.append(i),n=i}this.marker.remove(),n&&this.caret.end(n),this.linkify.format()},placeHtml:function(e){var i=document.createElement("span");i.id="redactor-insert-marker",i=this.insert.node(i),t(i).before(e),this.selection.restore(),this.caret.after(i),t(i).remove()},placeNode:function(t,e){var i=this.selection.get(),n=this.selection.range(i);if(null==n)return!1;!1!==e&&n.deleteContents(),n.insertNode(t),n.collapse(!1),this.selection.update(i,n)},nodeToPoint:function(e,i){if(this.placeholder.hide(),i=i[0]||i,this.utils.isEmpty())return i=this.utils.isBlock(i)?i:t("<p />").append(i),this.core.editor().html(i),i;var n,s=e.clientX,r=e.clientY;if(document.caretPositionFromPoint){var o=document.caretPositionFromPoint(s,r);(n=document.getSelection().getRangeAt(0)).setStart(o.offsetNode,o.offset),n.collapse(!0),n.insertNode(i)}else if(document.caretRangeFromPoint)(n=document.caretRangeFromPoint(s,r)).insertNode(i);else if(void 0!==document.body.createTextRange){(n=document.body.createTextRange()).moveToPoint(s,r);var a=n.duplicate();a.moveToPoint(s,r),n.setEndPoint("EndToEnd",a),n.select()}return i},nodeToCaretPositionFromPoint:function(t,e){this.insert.nodeToPoint(t,e)},marker:function(){this.marker.insert()}}},keydown:function(){return{init:function(e){if(!this.rtePaste){var i=e.which,n=i>=37&&i<=40;if(this.keydown.ctrl=e.ctrlKey||e.metaKey,this.keydown.parent=this.selection.parent(),this.keydown.current=this.selection.current(),this.keydown.block=this.selection.block(),this.keydown.pre=this.utils.isTag(this.keydown.current,"pre"),this.keydown.blockquote=this.utils.isTag(this.keydown.current,"blockquote"),this.keydown.figcaption=this.utils.isTag(this.keydown.current,"figcaption"),this.keydown.figure=this.utils.isTag(this.keydown.current,"figure"),!1===this.core.callback("keydown",e))return e.preventDefault(),!1;if(this.shortcuts.init(e,i),this.keydown.checkEvents(n,i),this.keydown.setupBuffer(e,i),this.utils.isSelectAll()&&(i===this.keyCode.ENTER||i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE))return e.preventDefault(),this.code.set(this.opts.emptyHtml),void this.events.changeHandler();if(this.keydown.addArrowsEvent(n),this.keydown.setupSelectAll(e,i),this.opts.enterKey||i!==this.keyCode.ENTER){if(this.opts.enterKey&&i===this.keyCode.DOWN&&this.keydown.onArrowDown(),this.opts.enterKey&&i===this.keyCode.UP&&this.keydown.onArrowUp(),("textarea"===this.opts.type||"div"===this.opts.type)&&this.keydown.current&&3===this.keydown.current.nodeType&&t(this.keydown.parent).hasClass("redactor-in")&&this.keydown.wrapToParagraph(),!this.keyup.lastShiftKey&&i===this.keyCode.SPACE&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftSpace();if(i===this.keyCode.ENTER&&(e.ctrlKey||e.shiftKey))return e.preventDefault(),this.keydown.onShiftEnter(e);if(i===this.keyCode.ENTER&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey)return this.keydown.onEnter(e);if(i===this.keyCode.TAB||e.metaKey&&221===i||e.metaKey&&219===i)return this.keydown.onTab(e,i);if(this.detect.isFirefox()&&i===this.keyCode.BACKSPACE&&this.keydown.block&&"P"===this.keydown.block.tagName&&this.utils.isStartOfElement(this.keydown.block)&&0!==(s=t(this.keydown.block).prev()).length)return e.preventDefault(),s.append(this.marker.get()),s.append(t(this.keydown.block).html()),t(this.keydown.block).remove(),void this.selection.restore();if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){if(this.observe.image&&void 0!==this.observe.image&&0!==t("#redactor-image-box").length){e.preventDefault();var s=this.observe.image.closest("figure, p").prev();return this.image.remove(!1),this.observe.image=!1,void(s&&0!==s.length?this.caret.end(s):this.core.editor().focus())}this.keydown.onBackspaceAndDeleteBefore()}if(i===this.keyCode.DELETE){var r=t(this.keydown.block).next();if(this.utils.isEndOfElement(this.keydown.block)&&0!==r.length&&"FIGURE"===r[0].tagName)return r.remove(),!1;if(this.keydown.block&&"LI"===this.keydown.block.tagName&&this.keydown.block){var o=t(this.keydown.block).parents("ul, ol").last(),a=o.next();if(this.utils.isRedactorParent(o)&&this.utils.isEndOfElement(o)&&0!==a.length&&("UL"===a[0].tagName||"OL"===a[0].tagName))return e.preventDefault(),o.append(a.contents()),a.remove(),!1}if(this.utils.isEndOfElement(this.keydown.block)&&0!==r.length&&"PRE"===r[0].tagName)return t(this.keydown.block).append(r.text()),r.remove(),!1}if(i===this.keyCode.DELETE&&0!==t("#redactor-image-box").length&&this.image.remove(),i===this.keyCode.BACKSPACE){if(this.detect.isFirefox()&&this.line.removeOnBackspace(e),this.list.combineAfterAndBefore(this.keydown.block))return void e.preventDefault();var l=this.selection.block();if(l&&"LI"===l.tagName&&this.utils.isCollapsed()&&this.utils.isStartOfElement())return this.indent.decrease(),void e.preventDefault();this.keydown.removeInvisibleSpace(),this.keydown.removeEmptyListInTable(e)}i!==this.keyCode.BACKSPACE&&i!==this.keyCode.DELETE||this.keydown.onBackspaceAndDeleteAfter(e)}else{e.preventDefault();var c=this.selection.get(),h=this.selection.range(c);h.collapsed||h.deleteContents()}}},onShiftSpace:function(){return this.buffer.set(),this.insert.raw("&nbsp;"),!1},onShiftEnter:function(t){return this.buffer.set(),this.keydown.pre?this.keydown.insertNewLine(t):this.insert.raw("<br>")},onBackspaceAndDeleteBefore:function(){this.utils.saveScroll()},onBackspaceAndDeleteAfter:function(e){setTimeout(t.proxy(function(){this.code.syncFire=!1,this.keydown.removeEmptyLists();var t="";0!==this.opts.keepStyleAttr.length&&(t=","+this.opts.keepStyleAttr.join(",")),this.core.editor().find("*[style]").not("img, figure, iframe, #redactor-image-box, #redactor-image-editter, [data-redactor-style-cache], [data-redactor-span]"+t).removeAttr("style"),this.keydown.formatEmpty(e),this.code.syncFire=!0},this),1)},onEnter:function(e){if(!1===this.core.callback("enter",e))return e.preventDefault(),!1;if(this.keydown.blockquote&&!0===this.keydown.exitFromBlockquote(e))return!1;if(this.keydown.pre)return this.keydown.insertNewLine(e);if(this.keydown.blockquote||this.keydown.figcaption)return this.keydown.insertBreakLine(e);if(this.keydown.figure)setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("FIGURE")},this),1);else if(this.keydown.block){if(setTimeout(t.proxy(function(){this.keydown.replaceToParagraph("DIV")},this),1),"LI"===this.keydown.block.tagName){var i=this.selection.current(),n=t(i).closest("li",this.$editor[0]),s=n.parents("ul,ol",this.$editor[0]).last();if(0!==n.length&&this.utils.isEmpty(n.html())&&0===s.next().length&&this.utils.isEmpty(s.find("li").last().html())){s.find("li").last().remove();var r=t(this.opts.emptyHtml);return s.after(r),this.caret.start(r),!1}}}else if(!this.keydown.block)return this.keydown.insertParagraph(e);this.detect.isFirefox()&&this.utils.isInline(this.keydown.parent)?this.keydown.insertBreakLine(e):setTimeout(t.proxy(function(){var e=this.selection.inline();if(e&&this.utils.isEmpty(e.innerHTML)){var i=this.selection.block();t(e).remove();var n=document.createRange();n.setStart(i,0);var s=document.createTextNode("\u200b");n.insertNode(s),n.setStartAfter(s),n.collapse(!0);var r=window.getSelection();r.removeAllRanges(),r.addRange(n)}},this),1)},checkEvents:function(t,e){t||"click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()||(this.core.addEvent(!1),this.keydown.checkKeyEvents(e)&&this.buffer.set())},checkKeyEvents:function(e){var i=this.keyCode,n=[i.BACKSPACE,i.DELETE,i.ENTER,i.ESC,i.TAB,i.CTRL,i.META,i.ALT,i.SHIFT];return-1===t.inArray(e,n)},addArrowsEvent:function(t){t&&("click"!==this.core.getEvent()&&"arrow"!==this.core.getEvent()?this.core.addEvent("arrow"):this.core.addEvent(!1))},setupBuffer:function(t,e){return this.keydown.ctrl&&90===e&&!t.shiftKey&&!t.altKey&&this.sBuffer.length?(t.preventDefault(),void this.buffer.undo()):this.keydown.ctrl&&90===e&&t.shiftKey&&!t.altKey&&0!==this.sRebuffer.length?(t.preventDefault(),void this.buffer.redo()):void(this.keydown.ctrl||e!==this.keyCode.SPACE&&e!==this.keyCode.BACKSPACE&&e!==this.keyCode.DELETE&&(e!==this.keyCode.ENTER||t.ctrlKey||t.shiftKey)||this.buffer.set())},exitFromBlockquote:function(e){if(this.utils.isEndOfElement(this.keydown.blockquote)&&-1!==this.clean.removeSpacesHard(t(this.keydown.blockquote).html()).search(/(<br\s?\/?>){1}$/i)){e.preventDefault(),t(this.keydown.blockquote).children().last().filter("br").remove(),t(this.keydown.blockquote).children().last().filter("span").remove();var i=t(this.opts.emptyHtml);return t(this.keydown.blockquote).after(i),this.caret.start(i),!0}},onArrowDown:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertAfterLastElement(t[e]),!1},onArrowUp:function(){for(var t=[this.keydown.blockquote,this.keydown.pre,this.keydown.figcaption],e=0;e<t.length;e++)if(t[e])return this.keydown.insertBeforeFirstElement(t[e]),!1},insertAfterLastElement:function(e){if(this.utils.isEndOfElement(e)){var i=this.core.editor().contents().last();if(0===("FIGCAPTION"===e.tagName?t(this.keydown.block).parent().next():t(this.keydown.block).next()).length)if(0!==i.length||i[0]===e){var n=t(this.opts.emptyHtml);"FIGCAPTION"===e.tagName?t(e).parent().after(n):t(e).after(n),this.caret.start(n)}else this.caret.start(i)}},insertBeforeFirstElement:function(e){if(this.utils.isStartOfElement()&&!(this.core.editor().contents().length>1&&this.core.editor().contents().first()[0]!==e)){var i=t(this.opts.emptyHtml);t(e).before(i),this.caret.start(i)}},onTab:function(t,e){if(!this.opts.tabKey)return!0;var i=this.keydown.block&&"LI"===this.keydown.block.tagName;if(this.utils.isEmpty(this.code.get())||!i&&!this.keydown.pre&&!1===this.opts.tabAsSpaces)return!0;t.preventDefault(),this.buffer.set();var n,s=i&&this.utils.isStartOfElement(this.keydown.block);return this.keydown.pre&&!t.shiftKey?(n=this.opts.preSpaces?document.createTextNode(Array(this.opts.preSpaces+1).join("\xa0")):document.createTextNode("\t"),this.insert.node(n)):!1===this.opts.tabAsSpaces||s?t.metaKey&&219===e?this.indent.decrease():t.metaKey&&221===e?this.indent.increase():t.shiftKey?this.indent.decrease():this.indent.increase():(n=document.createTextNode(Array(this.opts.tabAsSpaces+1).join("\xa0")),this.insert.node(n)),!1},setupSelectAll:function(t,e){this.keydown.ctrl&&65===e?this.utils.enableSelectAll():e===this.keyCode.LEFT_WIN||this.keydown.ctrl||this.utils.disableSelectAll()},insertNewLine:function(t){t.preventDefault();var e=document.createTextNode("\n"),i=this.selection.get(),n=this.selection.range(i);return n.deleteContents(),n.insertNode(e),this.caret.after(e),!1},insertParagraph:function(t){t.preventDefault();var e=document.createElement("p");e.innerHTML="<br>";var i=this.selection.get(),n=this.selection.range(i);return n.deleteContents(),n.insertNode(e),this.caret.start(e),!1},insertBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t)},insertDblBreakLine:function(t){return this.keydown.insertBreakLineProcessing(t,!0)},insertBreakLineProcessing:function(t,e){t.stopPropagation();var i=document.createElement("br");if(this.insert.node(i),!0===e){var n=document.createElement("br");this.insert.node(n),this.caret.after(n)}else this.caret.after(i);return!1},wrapToParagraph:function(){var e=t(this.keydown.current),i=t("<p>").append(e.clone());e.replaceWith(i);var n=t(i).next();void 0!==n[0]&&"BR"===n[0].tagName&&n.remove(),this.caret.end(i)},replaceToParagraph:function(e){var i=this.selection.block(),n=t(i).prev(),s=i.innerHTML.replace(/<br\s?\/?>/gi,"");if(i.tagName===e&&this.utils.isEmpty(s)&&!t(i).hasClass("redactor-in"))return r=document.createElement("p"),t(i).replaceWith(r),this.keydown.setCaretToParagraph(r),!1;if("P"===i.tagName)return t(i).removeAttr("class").removeAttr("style"),this.detect.isIe()&&this.utils.isEmpty(s)&&this.utils.isInline(this.keydown.parent)&&t(i).on("input",t.proxy(function(){var e=this.selection.parent();if(this.utils.isInline(e)){var n=t(e).html();t(i).html(n),this.caret.end(i)}t(i).off("keyup")},this)),!1;if(n.hasClass(this.opts.videoContainerClass)){n.removeAttr("class");var r=document.createElement("p");return n.replaceWith(r),this.keydown.setCaretToParagraph(r),!1}},setCaretToParagraph:function(t){var e=document.createRange();e.setStart(t,0);var i=document.createTextNode("\u200b");e.insertNode(i),e.setStartAfter(i),e.collapse(!0);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)},removeInvisibleSpace:function(){var e=t(this.keydown.current);0===e.text().search(/^\u200B$/g)&&e.remove()},removeEmptyListInTable:function(e){var i=t(this.keydown.current),n=t(this.keydown.parent),s=i.closest("td",this.$editor[0]);if(0!==s.length&&i.closest("li",this.$editor[0])&&1===n.children("li").length){if(!this.utils.isEmpty(i.text()))return;e.preventDefault(),i.remove(),n.remove(),this.caret.start(s)}},removeEmptyLists:function(){var e=function(){""===t.trim(this.innerHTML).replace(/\/t\/n/g,"")&&t(this).remove()};this.core.editor().find("li").each(e),this.core.editor().find("ul, ol").each(e)},formatEmpty:function(e){var i=t.trim(this.core.editor().html());if(this.utils.isEmpty(i))return e.preventDefault(),"inline"===this.opts.type||"pre"===this.opts.type?(this.core.editor().html(this.marker.html()),this.selection.restore()):(this.core.editor().html(this.opts.emptyHtml),this.focus.start()),!1}}},keyup:function(){return{init:function(e){if(!this.rtePaste){var i=e.which;if(this.keyup.block=this.selection.block(),this.keyup.current=this.selection.current(),this.keyup.parent=this.selection.parent(),this.keyup.lastShiftKey=e.shiftKey,!1===this.core.callback("keyup",e))return e.preventDefault(),!1;if(i===this.keyCode.ENTER&&this.keyup.block&&"FIGURE"===this.keyup.block.tagName){var n=t(this.keyup.block).prev();if(0!==n.length&&"FIGURE"===n[0].tagName){var s=this.utils.replaceToTag(n,"p");return void this.caret.start(s)}}if(i===this.keyCode.BACKSPACE||i===this.keyCode.DELETE){if(this.utils.isSelectAll())return this.focus.start(),void this.toolbar.setUnfixed();if(this.keyup.block&&this.keydown.block&&"FIGURE"===this.keyup.block.tagName&&this.utils.isStartOfElement(this.keydown.block)){e.preventDefault(),this.selection.save(),t(this.keyup.block).find("figcaption").remove(),t(this.keyup.block).find("img").first().remove(),this.utils.replaceToTag(this.keyup.block,"p");var r=this.marker.find();return t("html, body").animate({scrollTop:r.position().top+20},500),void this.selection.restore()}if(this.keyup.block&&"P"===this.keyup.block.tagName){var o=t(this.keyup.block).find("img").length;""===t(this.keyup.block).text().replace(/\u200B/g,"")&&0!==o&&this.utils.replaceToTag(this.keyup.block,"figure")}this.keyup.block&&"FIGURE"===this.keyup.block.tagName&&0===t(this.keyup.block).find("img").length&&(this.selection.save(),this.utils.replaceToTag(this.keyup.block,"p"),this.selection.restore())}this.linkify.isKey(i)&&this.linkify.format()}}}},lang:function(){return{load:function(){this.opts.curLang=this.opts.langs[this.opts.lang]},get:function(t){return void 0!==this.opts.curLang[t]?this.opts.curLang[t]:""}}},line:function(){return{insert:function(){this.buffer.set(),this.insert.html(this.line.getLineHtml());var t=this.core.editor().find("#redactor-hr-tmp-id");return t.removeAttr("id"),this.core.callback("insertedLine",t),t},getLineHtml:function(){var t='<hr id="redactor-hr-tmp-id" />';return!this.detect.isFirefox()&&this.utils.isEmpty()&&(t+="<p>"+this.opts.emptyHtml+"</p>"),t},removeOnBackspace:function(e){if(this.utils.isCollapsed()){var i=t(this.selection.block());if(0!==i.length&&this.utils.isStartOfElement(i)){var n=i.prev();n&&0!==n.length&&"HR"===n[0].tagName&&(e.preventDefault(),n.remove())}}}}},link:function(){return{get:function(){return t(this.selection.inlines("a"))},is:function(){var e=this.selection.nodes(),i=t(this.selection.current()).closest("a",this.core.editor()[0]);return!(0===i.length||e.length>1)&&i},unlink:function(t){void 0!==t&&t.preventDefault&&t.preventDefault(),this.buffer.set();var e=this.selection.inlines("a");if(0!==e.length){var i=this.link.replaceLinksToText(e);this.observe.closeAllTooltip(),this.core.callback("deletedLink",i)}},insert:function(e,i){var n=this.link.is();if(!0!==i&&!1===(e=this.link.buildLinkFromObject(n,e)))return!1;if(this.buffer.set(),e=this.core.callback("beforeInsertingLink",e),!1===n){n=t("<a />"),n=this.link.update(n,e);var s=(n=t(this.insert.node(n))).parent();!1===this.utils.isRedactorParent(s)&&n.wrap("<p>"),s.hasClass("redactor-unlink")&&s.replaceWith(function(){return t(this).contents()}),this.caret.after(n),this.core.callback("insertedLink",n)}else n=this.link.update(n,e),this.caret.after(n);return n},update:function(t,e){return t.text(e.text),t.attr("href",e.url),this.link.target(t,e.target),t},target:function(t,e){return e?t.attr("target","_blank"):t.removeAttr("target")},show:function(e){void 0!==e&&e.preventDefault&&e.preventDefault(),this.observe.closeAllTooltip();var i=this.link.is();this.link.buildModal(i);var n=this.link.buildLinkFromElement(i);n.url=this.link.removeSelfHostFromUrl(n.url),this.opts.linkNewTab&&!i&&(n.target=!0),this.link.setModalValues(n),this.modal.show(),this.detect.isDesktop()&&t("#redactor-link-url").focus()},setModalValues:function(e){t("#redactor-link-blank").prop("checked",e.target),t("#redactor-link-url").val(e.url),t("#redactor-link-url-text").val(e.text)},buildModal:function(e){this.modal.load("link",this.lang.get(!1===e?"link-insert":"link-edit"),600),this.modal.getActionButton().text(this.lang.get(!1===e?"insert":"save")).on("click",t.proxy(this.link.callback,this))},callback:function(){var t=this.link.buildLinkFromModal();if(!1===t)return!1;this.modal.close(),this.link.insert(t,!0)},cleanUrl:function(e){return void 0===e?"":t.trim(e.replace(/[^\W\w\D\d+&\'@#/%?=~_|!:,.;\(\)]/gi,""))},cleanText:function(e){return void 0===e?"":t.trim(e.replace(/(<([^>]+)>)/gi,""))},getText:function(t){return""===t.text&&""!==t.url?this.link.truncateUrl(t.url.replace(/<|>/g,"")):t.text},isUrl:function(t){var e="((xn--)?[\\W\\w\\D\\d]+(-[\\W\\w\\D\\d]+)*\\.)+[\\W\\w]{2,}",i=new RegExp("^(http|ftp|https)://"+e,"i"),n=new RegExp("^"+e,"i"),s=new RegExp(".(html|php)$","i"),r=new RegExp("^/","i"),o=new RegExp("^tel:(.*?)","i");return-1===t.search(i)&&-1!==t.search(n)&&-1===t.search(s)&&"/"!==t.substring(0,1)&&(t="http://"+t),(-1!==t.search(i)||-1!==t.search(s)||-1!==t.search(r)||-1!==t.search(o))&&t},isMailto:function(t){return-1!==t.search("@")&&!1===/(http|ftp|https):\/\//i.test(t)},isEmpty:function(t){return""===t.url||""===t.text&&""===t.url},truncateUrl:function(t){return t.length>this.opts.linkSize?t.substring(0,this.opts.linkSize)+"...":t},parse:function(t){return this.link.isMailto(t.url)?t.url="mailto:"+t.url.replace("mailto:",""):0!==t.url.search("#")&&(t.url=this.link.isUrl(t.url)),!this.link.isEmpty(t)&&!1!==t.url&&t},buildLinkFromModal:function(){var e={};return e.url=this.link.cleanUrl(t("#redactor-link-url").val()),e.text=this.link.cleanText(t("#redactor-link-url-text").val()),e.text=this.link.getText(e),e.target=!!t("#redactor-link-blank").prop("checked"),this.link.parse(e)},buildLinkFromObject:function(t,e){return e.url=this.link.cleanUrl(e.url),e.text=void 0===e.text&&this.selection.is()?this.selection.text():this.link.cleanText(e.text),e.text=this.link.getText(e),e.target=!1===t?e.target:this.link.buildTarget(t),this.link.parse(e)},buildLinkFromElement:function(t){var e={url:"",text:this.selection.is()?this.selection.text():"",target:!1};return!1!==t&&(e.url=t.attr("href"),e.text=t.text(),e.target=this.link.buildTarget(t)),e},buildTarget:function(t){return void 0!==t.attr("target")&&"_blank"===t.attr("target")},removeSelfHostFromUrl:function(t){var e=self.location.href.replace("#","").replace(/\/$/i,"");return t.replace(/^\/\#/,"#").replace(e,"").replace("mailto:","")},replaceLinksToText:function(e){var i,n=t.each(e,function(e,n){var s=t(n),r=t('<span class="redactor-unlink" />').append(s.contents());return s.replaceWith(r),0===e&&(i=r),s});return 1===e.length&&this.selection.isCollapsed()&&this.caret.after(i),n}}},linkify:function(){return{isKey:function(t){return t===this.keyCode.ENTER||t===this.keyCode.SPACE},isLink:function(t){return t.nodeValue.match(this.opts.regexps.linkyoutube)||t.nodeValue.match(this.opts.regexps.linkvimeo)||t.nodeValue.match(this.opts.regexps.linkimage)||t.nodeValue.match(this.opts.regexps.url)},isFiltered:function(e,i){return 3===i.nodeType&&""!==t.trim(i.nodeValue)&&!t(i).parent().is("pre")&&this.linkify.isLink(i)},handler:function(e,i){var n=t(i),s=n.text(),r=s;r=r.match(this.opts.regexps.linkyoutube)||r.match(this.opts.regexps.linkvimeo)?this.linkify.convertVideoLinks(r):r.match(this.opts.regexps.linkimage)?this.linkify.convertImages(r):this.linkify.convertLinks(r),n.before(s.replace(s,r)).remove()},format:function(){if(this.opts.linkify&&!this.utils.isCurrentOrParent("pre")){this.core.editor().find(":not(iframe,img,a,pre,code,.redactor-unlink)").addBack().contents().filter(t.proxy(this.linkify.isFiltered,this)).each(t.proxy(this.linkify.handler,this));var e=this.core.editor().find(".redactor-linkify-object").each(t.proxy(function(e,i){var n=t(i);return n.removeClass("redactor-linkify-object"),""===n.attr("class")&&n.removeAttr("class"),"DIV"===i.tagName?this.linkify.breakBlockTag(n,"video"):"IMG"===i.tagName?this.linkify.breakBlockTag(n,"image"):"A"===i.tagName&&this.core.callback("insertedLink",n),n},this));setTimeout(t.proxy(function(){this.code.sync(),this.core.callback("linkify",e)},this),100)}},breakBlockTag:function(e,i){var n=this.utils.breakBlockTag();if(!1!==n){var s=e;"image"===i&&(s=t("<figure />").append(e)),"start"===n.type?n.$block.before(s):n.$block.after(s),"image"===i&&this.caret.after(s)}},convertVideoLinks:function(t){var e='<div class="'+this.opts.videoContainerClass+' redactor-linkify-object"><iframe class="redactor-linkify-object" width="500" height="281" src="',i='" frameborder="0" allowfullscreen></iframe></div>';return t.match(this.opts.regexps.linkyoutube)&&(t=t.replace(this.opts.regexps.linkyoutube,e+"//www.youtube.com/embed/$1"+i)),t.match(this.opts.regexps.linkvimeo)&&(t=t.replace(this.opts.regexps.linkvimeo,e+"//player.vimeo.com/video/$2"+i)),t},convertImages:function(t){var e=t.match(this.opts.regexps.linkimage);return e?t.replace(t,'<img src="'+e+'" class="redactor-linkify-object" />'):t},convertLinks:function(e){var i=e.match(this.opts.regexps.url);if(!i)return e;for(var n=(i=t.grep(i,function(e,n){return t.inArray(e,i)===n})).length,s=0;s<n;s++){var r=i[s],o=r,a=null!==r.match(/(https?|ftp):\/\//i)?"":"http://";o.length>this.opts.linkSize&&(o=o.substring(0,this.opts.linkSize)+"..."),-1===o.search("%")&&(o=decodeURIComponent(o));var l="\\b";-1!==t.inArray(r.slice(-1),["/","&","="])&&(l="");var c=new RegExp("("+r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+l+")","g"),h="";!1!==this.opts.pasteLinkTarget&&(h=' target="'+this.opts.pasteLinkTarget+'"'),e=e.replace(c,'<a href="'+a+t.trim(r)+'"'+h+' class="redactor-linkify-object">'+t.trim(o)+"</a>")}return e}}},list:function(){return{toggle:function(e){if(!this.utils.inBlocks(["table","td","th","tr"])){var i="orderedlist"===e||"ol"===e?"OL":"UL";e="OL"===i?"orderedlist":"unorderedlist";var n=t(this.selection.current()).parentsUntil(".redactor-in","ul, ol").first();if(this.placeholder.hide(),this.buffer.set(),0!==n.length&&n[0].tagName===i&&this.utils.isRedactorParent(n))return this.selection.save(),n.find("ul, ol").each(function(){var e=t(this).closest("li");t(this).find("li").each(function(){t(e).after(this)})}),n.find("ul, ol").remove(),n.find("li").each(function(){return t(this).replaceWith(function(){return t("<p />").append(t(this).contents())})}),n.replaceWith(function(){return t(this).contents()}),void this.selection.restore();this.selection.save(),0!==n.length&&n[0].tagName!==i?n.each(t.proxy(function(t,e){this.utils.replaceToTag(e,i)},this)):document.execCommand("insert"+e),this.selection.restore();var s=this.list.get();if(s){s.find("span").replaceWith(function(){return t(this).contents()}),s.find(this.opts.inlineTags.join(",")).each(function(){t(this).removeAttr("style")});var r=s.parent();this.utils.isRedactorParent(r)&&"LI"!==r[0].tagName&&this.utils.isBlock(r)&&(this.selection.save(),r.replaceWith(r.contents()),this.selection.restore())}else this.selection.block()||document.execCommand("formatblock",!1,"p")}},get:function(){var e=this.selection.current(),i=t(e).closest("ul, ol",this.core.editor()[0]);return 0!==i.length&&i},combineAfterAndBefore:function(e){var i=t(e).prev(),n=t(e).next(),s=e&&"P"===e.tagName&&("<br>"===e.innerHTML||""===e.innerHTML),r=1===i.closest("ol, ul",this.core.editor()[0]).length&&1===n.closest("ol, ul",this.core.editor()[0]).length;return!(!s||!r||(i.children("li").last().append(this.marker.get()),i.append(n.contents()),this.selection.restore(),0))}}},marker:function(){return{get:function(t){t=void 0===t?1:t;var e=document.createElement("span");return e.id="selection-marker-"+t,e.className="redactor-selection-marker",e.innerHTML=this.opts.invisibleSpace,e},html:function(t){return this.utils.getOuterHtml(this.marker.get(t))},find:function(t){return t=void 0===t?1:t,this.core.editor().find("span#selection-marker-"+t)},insert:function(){var t=this.selection.get(),e=this.selection.range(t);this.marker.insertNode(e,this.marker.get(1),!0),e&&!1===e.collapsed&&this.marker.insertNode(e,this.marker.get(2),!1)},remove:function(){this.core.editor().find(".redactor-selection-marker").each(this.marker.iterateRemove)},insertNode:function(e,i,n){var s=this.selection.parent();if(null!==e&&0!==t(s).closest(".redactor-in").length){e=e.cloneRange();try{e.collapse(n),e.insertNode(i)}catch(t){this.focus.start()}}},iterateRemove:function(e,i){var n=t(i),s=n.text().replace(/\u200B/g,"");n.parent()[0],""===s?n.remove():n.replaceWith(function(){return t(this).contents()})}}},modal:function(){return{callbacks:{},templates:function(){this.opts.modal={"image-edit":String()+'<div class="redactor-modal-tab redactor-group" data-title="General"><div id="redactor-image-preview" class="redactor-modal-tab-side"></div><div class="redactor-modal-tab-area"><section><label>'+this.lang.get("title")+'</label><input type="text" id="redactor-image-title" /></section><section><label>'+this.lang.get("caption")+'</label><input type="text" id="redactor-image-caption" aria-label="'+this.lang.get("caption")+'" /></section><section><label>'+this.lang.get("link")+'</label><input type="text" id="redactor-image-link" aria-label="'+this.lang.get("link")+'" /></section><section><label class="redactor-image-position-option">'+this.lang.get("image-position")+'</label><select class="redactor-image-position-option" id="redactor-image-align" aria-label="'+this.lang.get("image-position")+'"><option value="none">'+this.lang.get("none")+'</option><option value="left">'+this.lang.get("left")+'</option><option value="center">'+this.lang.get("center")+'</option><option value="right">'+this.lang.get("right")+'</option></select></section><section><label class="checkbox"><input type="checkbox" id="redactor-image-link-blank" aria-label="'+this.lang.get("link-in-new-tab")+'"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+'</button><button id="redactor-modal-button-delete" class="redactor-modal-button-offset">'+this.lang.get("delete")+"</button></section></div></div>",image:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><div id="redactor-modal-image-droparea"></div></section></div>',file:String()+'<div class="redactor-modal-tab" data-title="Upload"><section><label>'+this.lang.get("filename")+' <span class="desc">('+this.lang.get("optional")+')</span></label><input type="text" id="redactor-filename" aria-label="'+this.lang.get("filename")+'" /><br><br></section><section><div id="redactor-modal-file-upload"></div></section></div>',link:String()+'<div class="redactor-modal-tab" data-title="General"><section><label>URL</label><input type="url" id="redactor-link-url" aria-label="URL" /></section><section><label>'+this.lang.get("text")+'</label><input type="text" id="redactor-link-url-text" aria-label="'+this.lang.get("text")+'" /></section><section><label class="checkbox"><input type="checkbox" id="redactor-link-blank"> '+this.lang.get("link-in-new-tab")+'</label></section><section><button id="redactor-modal-button-action">'+this.lang.get("insert")+'</button><button id="redactor-modal-button-cancel">'+this.lang.get("cancel")+"</button></section></div>"},t.extend(this.opts,this.opts.modal)},addCallback:function(t,e){this.modal.callbacks[t]=e},addTemplate:function(t,e){this.opts.modal[t]=e},getTemplate:function(t){return this.opts.modal[t]},getModal:function(){return this.$modalBody},getActionButton:function(){return this.$modalBody.find("#redactor-modal-button-action")},getCancelButton:function(){return this.$modalBody.find("#redactor-modal-button-cancel")},getDeleteButton:function(){return this.$modalBody.find("#redactor-modal-button-delete")},load:function(t,e,i){void 0!==this.$modalBox&&this.$modalBox.hasClass("open")||(this.modal.templateName=t,this.modal.width=i,this.modal.build(),this.modal.enableEvents(),this.modal.setTitle(e),this.modal.setDraggable(),this.modal.setContent(),void 0!==this.modal.callbacks[t]&&this.modal.callbacks[t].call(this))},show:function(){this.detect.isDesktop()||document.activeElement.blur(),this.selection.save(),this.modal.buildTabber(),this.detect.isMobile()&&(this.modal.width="96%"),setTimeout(t.proxy(this.modal.buildWidth,this),0),t(window).on("resize.redactor-modal",t.proxy(this.modal.buildWidth,this)),this.$modalOverlay.redactorAnimation("fadeIn",{duration:.25}),this.$modalBox.addClass("open").show(),this.$modal.redactorAnimation("fadeIn",{timing:"cubic-bezier(0.175, 0.885, 0.320, 1.105)"},t.proxy(function(){this.utils.saveScroll(),this.utils.disableBodyScroll(),this.core.callback("modalOpened",this.modal.templateName,this.$modal),t(document).off("focusin.modal"),this.$modal.find("input[type=text],input[type=url],input[type=email]").on("keydown.redactor-modal",t.proxy(this.modal.setEnter,this))},this))},buildWidth:function(){var e=t(window).height(),i=t(window).width(),n="number"==typeof this.modal.width;!n&&this.modal.width.match(/%$/)?this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}):parseInt(this.modal.width)>i?this.$modal.css({width:"96%","margin-bottom":"2%"}):(n&&(this.modal.width+="px"),this.$modal.css({width:this.modal.width,"margin-bottom":"16px"}));var s=this.$modal.outerHeight(),r=e/2-s/2+"px";this.detect.isMobile()?r="2%":s>e&&(r="16px"),this.$modal.css("margin-top",r)},buildTabber:function(){this.modal.tabs=this.$modal.find(".redactor-modal-tab"),this.modal.tabs.length<2||(this.modal.$tabsBox=t('<div id="redactor-modal-tabber" />'),t.each(this.modal.tabs,t.proxy(function(e,i){var n=t('<a href="#" rel="'+e+'" />').text(t(i).attr("data-title"));n.on("click",t.proxy(this.modal.showTab,this)),0===e&&n.addClass("active"),this.modal.$tabsBox.append(n)},this)),this.$modalBody.prepend(this.modal.$tabsBox))},showTab:function(e){e.preventDefault();var i=t(e.target),n=i.attr("rel");return this.modal.tabs.hide(),this.modal.tabs.eq(n).show(),t("#redactor-modal-tabber").find("a").removeClass("active"),i.addClass("active"),!1},setTitle:function(t){this.$modalHeader.html(t)},setContent:function(){this.$modalBody.html(this.modal.getTemplate(this.modal.templateName)),this.modal.getCancelButton().on("mousedown",t.proxy(this.modal.close,this))},setDraggable:function(){void 0!==t.fn.draggable&&(this.$modal.draggable({handle:this.$modalHeader}),this.$modalHeader.css("cursor","move"))},setEnter:function(t){13===t.which&&(t.preventDefault(),this.modal.getActionButton().click())},build:function(){this.modal.buildOverlay(),this.$modalBox=t('<div id="redactor-modal-box"/>').hide(),this.$modal=t('<div id="redactor-modal" role="dialog" />'),this.$modalHeader=t('<div id="redactor-modal-header" />'),this.$modalClose=t('<button type="button" id="redactor-modal-close" aria-label="'+this.lang.get("close")+'" />').html("&times;"),this.$modalBody=t('<div id="redactor-modal-body" />'),
this.$modal.append(this.$modalHeader),this.$modal.append(this.$modalBody),this.$modal.append(this.$modalClose),this.$modalBox.append(this.$modal),this.$modalBox.appendTo(document.body)},buildOverlay:function(){this.$modalOverlay=t('<div id="redactor-modal-overlay">').hide(),t("body").prepend(this.$modalOverlay)},enableEvents:function(){this.$modalClose.on("mousedown.redactor-modal",t.proxy(this.modal.close,this)),t(document).on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.core.editor().on("keyup.redactor-modal",t.proxy(this.modal.closeHandler,this)),this.$modalBox.on("click.redactor-modal",t.proxy(this.modal.close,this))},disableEvents:function(){this.$modalClose.off("mousedown.redactor-modal"),t(document).off("keyup.redactor-modal"),this.core.editor().off("keyup.redactor-modal"),this.$modalBox.off("click\xa7.redactor-modal"),t(window).off("resize.redactor-modal")},closeHandler:function(t){t.which===this.keyCode.ESC&&this.modal.close(!1)},close:function(e){if(e){if("redactor-modal-button-cancel"!==t(e.target).attr("id")&&e.target!==this.$modalClose[0]&&e.target!==this.$modalBox[0])return;e.preventDefault()}this.$modalBox&&(this.selection.restore(),this.modal.disableEvents(),this.utils.enableBodyScroll(),this.utils.restoreScroll(),this.$modalOverlay.redactorAnimation("fadeOut",{duration:.4},t.proxy(function(){this.$modalOverlay.remove()},this)),this.$modal.redactorAnimation("fadeOut",{duration:.3,timing:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},t.proxy(function(){void 0!==this.$modalBox&&(this.$modalBox.remove(),this.$modalBox=void 0),this.core.callback("modalClosed",this.modal.templateName)},this)))}}},observe:function(){return{load:function(){void 0===this.opts.destroyed&&(this.observe.links(),this.observe.images())},isCurrent:function(e,i){return void 0===i&&(i=t(this.selection.current())),i.is(e)||i.parents(e).length>0},toolbar:function(){this.observe.buttons(),this.observe.dropdowns()},buttons:function(e,i){var n=this.selection.current(),s=this.selection.parent();!1!==e?this.button.setInactiveAll():this.button.setInactiveAll(i),!1!==e||"html"===i?this.utils.isRedactorParent(n)&&("none"!==this.core.editor().css("display")&&(this.utils.isCurrentOrParentHeader()||this.utils.isCurrentOrParent(["table","pre","blockquote","li"])?this.button.disable("horizontalrule"):this.button.enable("horizontalrule")),t.each(this.opts.activeButtonsStates,t.proxy(function(e,i){var r=t(s).closest(e,this.$editor[0]),o=t(n).closest(e,this.$editor[0]);(0===r.length||this.utils.isRedactorParent(r))&&this.utils.isRedactorParent(o)&&(0===r.length&&0===o.closest(e,this.$editor[0]).length||this.button.setActive(i))},this))):-1!==t.inArray(i,this.opts.activeButtons)&&this.button.toggleActive(i)},dropdowns:function(){var e=t("<div />").html(this.selection.html()).find("a").length,i=t(this.selection.current()),n=this.utils.isRedactorParent(i);t.each(this.opts.observe.dropdowns,t.proxy(function(t,s){var r=s.observe,o=r.element,a=s.item,l=void 0!==r["in"]&&r["in"],c=void 0!==r.out&&r.out;i.closest(o).length>0&&n||"a"===o&&0!==e?this.observe.setDropdownProperties(a,l,c):this.observe.setDropdownProperties(a,c,l)},this))},setDropdownProperties:function(t,e,i){i&&void 0!==i.attr&&this.observe.setDropdownAttr(t,i.attr,!0),void 0!==e.attr&&this.observe.setDropdownAttr(t,e.attr),void 0!==e.title&&t.find("span").text(e.title)},setDropdownAttr:function(e,i,n){t.each(i,function(t,i){"class"===t?n?e.removeClass(i):e.addClass(i):n?e.removeAttr(t):e.attr(t,i)})},addDropdown:function(t,e,i){void 0!==i.observe&&(i.item=t,this.opts.observe.dropdowns.push(i))},images:function(){this.opts.imageEditable&&(this.core.editor().addClass("redactor-layer-img-edit"),this.core.editor().find("img").each(t.proxy(function(e,i){var n=t(i);n.closest("a",this.$editor[0]).on("click",function(t){t.preventDefault()}),this.image.setEditable(n)},this)))},links:function(){this.opts.linkTooltip&&this.core.editor().find("a").each(t.proxy(function(e,i){var n=t(i);!0!==n.data("cached")&&(n.data("cached",!0),n.on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.showTooltip,this)))},this))},getTooltipPosition:function(t){return t.offset()},showTooltip:function(e){var i=t(e.target);if("IMG"!==i[0].tagName&&("A"!==i[0].tagName&&(i=i.closest("a",this.$editor[0])),"A"===i[0].tagName)){var n=i,s=this.observe.getTooltipPosition(n),r=t('<span class="redactor-link-tooltip"></span>'),o=n.attr("href");void 0===o&&(o=""),o.length>24&&(o=o.substring(0,24)+"...");var a=t('<a href="'+n.attr("href")+'" target="_blank" />').html(o).addClass("redactor-link-tooltip-action"),l=t('<a href="#" />').html(this.lang.get("edit")).on("click",t.proxy(this.link.show,this)).addClass("redactor-link-tooltip-action"),c=t('<a href="#" />').html(this.lang.get("unlink")).on("click",t.proxy(this.link.unlink,this)).addClass("redactor-link-tooltip-action");r.append(a).append(" | ").append(l).append(" | ").append(c);var h=parseInt(n.css("line-height"),10),u=Math.ceil((e.pageY-s.top)/h),d=s.top+u*h;r.css({top:d+"px",left:s.left+"px"}),t(".redactor-link-tooltip").remove(),t("body").append(r),this.core.editor().on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).on("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this))}},closeAllTooltip:function(){t(".redactor-link-tooltip").remove()},closeTooltip:function(e){var i=(e=e.originalEvent||e).target,n=t(i).closest("a",this.$editor[0]);0!==n.length&&"A"===n[0].tagName&&"A"!==i.tagName||"A"===i.tagName&&this.utils.isRedactorParent(i)||t(i).hasClass("redactor-link-tooltip-action")||(this.observe.closeAllTooltip(),this.core.editor().off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)),t(document).off("touchstart.redactor."+this.uuid+" click.redactor."+this.uuid,t.proxy(this.observe.closeTooltip,this)))}}},offset:function(){return{get:function(e){var i=this.offset.clone(e);if(!1===i)return 0;var n=document.createElement("div");return n.appendChild(i.cloneContents()),n.innerHTML=n.innerHTML.replace(/<img(.*?[^>])>$/gi,"i"),t.trim(t(n).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"").length},clone:function(t){var e=this.selection.get(),i=this.selection.range(e);if(null===i&&void 0===t)return!1;if(!1===(t=void 0===t?this.$editor:t))return!1;t=t[0]||t;var n=i.cloneRange();return n.selectNodeContents(t),n.setEnd(i.endContainer,i.endOffset),n},set:function(t,e){e=void 0===e?t:e,this.focus.is()||this.focus.start();for(var i,n=this.selection.get(),s=this.selection.range(n),r=0,o=document.createTreeWalker(this.$editor[0],NodeFilter.SHOW_TEXT,null,null);null!==(i=o.nextNode());)if((r+=i.nodeValue.length)>t&&(s.setStart(i,i.nodeValue.length+t-r),t=1/0),r>=e){s.setEnd(i,i.nodeValue.length+e-r);break}s.collapse(!1),this.selection.update(n,s)}}},paragraphize:function(){return{load:function(e){return!1===this.opts.paragraphize||"inline"===this.opts.type||"pre"===this.opts.type?e:""===e||"<p></p>"===e?this.opts.emptyHtml:(e+="\n",this.paragraphize.safes=[],this.paragraphize.z=0,e=e.replace(/(<br\s?\/?>){1,}\n?<\/blockquote>/gi,"</blockquote>"),e=e.replace(/<\/pre>/gi,"</pre>\n\n"),e=e.replace(/<p>\s<br><\/p>/gi,"<p></p>"),e=this.paragraphize.getSafes(e),e=e.replace("<br>","\n"),e=this.paragraphize.convert(e),e=this.paragraphize.clear(e),e=this.paragraphize.restoreSafes(e),e=e.replace(new RegExp("<br\\s?/?>\n?<("+this.opts.paragraphizeBlocks.join("|")+")(.*?[^>])>","gi"),"<p><br /></p>\n<$1$2>"),t.trim(e))},getSafes:function(e){var i=t("<div />").append(e);return i.find("blockquote p").replaceWith(function(){return t(this).append("<br />").contents()}),i.find(this.opts.paragraphizeBlocks.join(", ")).each(t.proxy(function(e,i){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i.outerHTML,t(i).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),i.find("span.redactor-selection-marker").each(t.proxy(function(e,i){return this.paragraphize.z++,this.paragraphize.safes[this.paragraphize.z]=i.outerHTML,t(i).replaceWith("\n#####replace"+this.paragraphize.z+"#####\n\n")},this)),i.html()},restoreSafes:function(e){return t.each(this.paragraphize.safes,function(t,i){i=void 0!==i?i.replace(/\$/g,"&#36;"):i,e=e.replace("#####replace"+t+"#####",i)}),e},convert:function(e){var i=/\s+/g;e=(e=(e=(e=e.replace(/\r\n/g,"xparagraphmarkerz")).replace(/\n/g,"xparagraphmarkerz")).replace(/\r/g,"xparagraphmarkerz")).replace(i," ");var n=/xparagraphmarkerzxparagraphmarkerz/gi,s=/xparagraphmarkerz/gi;return e=(e=(e=t.trim(e)).replace(n,"</p><p>")).replace(s,"<br>"),e="<p>"+e+"</p>",e=e.replace("<p></p>",""),e=e.replace("\r\n\r\n",""),e=e.replace(/<\/p><p>/g,"</p>\r\n\r\n<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<p><br\\s?/?>","g"),"<p>"),e=e.replace(new RegExp("<br\\s?/?></p>","g"),"</p>"),e=e.replace(/<p>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>&nbsp;<\/p>/gi,""),e=e.replace(/<p>\s?<br>/gi,"<p>")},clear:function(t){return t=t.replace(/<p>(.*?)#####replace(.*?)#####\s?<\/p>/gi,"<p>$1</p>#####replace$2#####"),t=t.replace(/(<br\s?\/?>){2,}<\/p>/gi,"</p>"),t=t.replace(new RegExp("</blockquote></p>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p></blockquote>","gi"),"</blockquote>"),t=t.replace(new RegExp("<p><blockquote>","gi"),"<blockquote>"),t=t.replace(new RegExp("<blockquote></p>","gi"),"<blockquote>"),t=t.replace(new RegExp("<p><p ","gi"),"<p "),t=t.replace(new RegExp("<p><p>","gi"),"<p>"),t=t.replace(new RegExp("</p></p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\\s?</p>","gi"),""),t=t.replace(new RegExp("\n</p>","gi"),"</p>"),t=t.replace(new RegExp("<p>\t?\t?\n?<p>","gi"),"<p>"),t=t.replace(new RegExp("<p>\t*</p>","gi"),"")}}},paste:function(){return{init:function(e){this.rtePaste=!0;var i=!("pre"!==this.opts.type&&!this.utils.isCurrentOrParent("pre"));this.detect.isDesktop()&&!this.paste.pre&&this.opts.clipboardImageUpload&&this.opts.imageUpload&&this.paste.detectClipboardUpload(e)?this.detect.isIe()&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100):(this.utils.saveScroll(),this.selection.save(),this.paste.createPasteBox(i),t(window).on("scroll.redactor-freeze",t.proxy(function(){t(window).scrollTop(this.saveBodyScroll)},this)),setTimeout(t.proxy(function(){var e=this.paste.getPasteBoxCode(i);this.buffer.set(),this.selection.restore(),this.utils.restoreScroll();var n=this.clean.getCurrentType(e);e=this.clean.onPaste(e,n);var s=this.core.callback("paste",e);e=void 0===s?e:s,this.paste.insert(e,n),this.rtePaste=!1,i&&this.clean.cleanPre(),t(window).off("scroll.redactor-freeze")},this),1))},getPasteBoxCode:function(t){var e=t?this.$pasteBox.val():this.$pasteBox.html();return this.$pasteBox.remove(),e},createPasteBox:function(e){var i={position:"fixed",width:"1px",top:0,left:"-9999px"};this.$pasteBox=e?t("<textarea>").css(i):t("<div>").attr("contenteditable","true").css(i),this.paste.appendPasteBox(),this.$pasteBox.focus()},appendPasteBox:function(){if(this.detect.isIe())this.core.box().append(this.$pasteBox);else{var e=t(".modal-body:visible");e.length>0?e.append(this.$pasteBox):t("body").prepend(this.$pasteBox)}},detectClipboardUpload:function(e){var i=(e=e.originalEvent||e).clipboardData;if(this.detect.isIe()||this.detect.isFirefox())return!1;if(-1!==i.types.indexOf("public.tiff"))return e.preventDefault(),!1;if(i.items&&i.items.length){var n=i.items[0].getAsFile();if(null===n)return!1;var s=new FileReader;return s.readAsDataURL(n),s.onload=t.proxy(this.paste.insertFromClipboard,this),!0}},clipboardUpload:function(){var e=this.$editor.find("img");t.each(e,t.proxy(function(e,i){if(-1!==i.src.search(/^data\:image/i)){var n=window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=t.proxy(function(e){if(this.detect.isIe())t(i).wrap(t("<figure />"));else{var n=t(i).parent();this.utils.replaceToTag(n,"figure")}i.src=e.url,this.core.callback("imageUpload",t(i),e)},this);var s=this.utils.dataURItoBlob(i.src);n.append("clipboard",1),n.append(this.opts.imageUploadParam,s),this.progress.show(),this.upload.send(n,!1),this.code.sync(),this.rtePaste=!1}}},this))},insertFromClipboard:function(t){var e=window.FormData?new FormData:null;if(window.FormData){this.upload.direct=!0,this.upload.type="image",this.upload.url=this.opts.imageUpload,this.upload.callback=this.image.insert;var i=this.utils.dataURItoBlob(t.target.result);e.append("clipboard",1),e.append(this.opts.imageUploadParam,i),this.progress.show(),this.upload.send(e,t),this.rtePaste=!1}},insert:function(e,i){i.pre?this.insert.raw(e):i.text?this.insert.text(e):this.insert.html(e,i),this.detect.isFirefox()&&this.opts.clipboardImageUpload&&setTimeout(t.proxy(this.paste.clipboardUpload,this),100)}}},placeholder:function(){return{enable:function(){setTimeout(t.proxy(function(){return this.placeholder.isEditorEmpty()?this.placeholder.show():this.placeholder.hide()},this),5)},show:function(){this.core.editor().addClass("redactor-placeholder")},update:function(t){this.opts.placeholder=t,this.core.editor().attr("placeholder",t)},hide:function(){this.core.editor().removeClass("redactor-placeholder")},is:function(){return this.core.editor().hasClass("redactor-placeholder")},init:function(){this.placeholder.enabled()&&(this.utils.isEditorRelative()||this.utils.setEditorRelative(),this.placeholder.build(),this.placeholder.buildPosition(),this.placeholder.enable(),this.placeholder.enableEvents())},enabled:function(){return this.opts.placeholder?this.core.element().attr("placeholder",this.opts.placeholder):this.placeholder.isAttr()},enableEvents:function(){this.core.editor().on("keydown.redactor-placeholder."+this.uuid,t.proxy(this.placeholder.enable,this))},disableEvents:function(){this.core.editor().off(".redactor-placeholder."+this.uuid)},build:function(){this.core.editor().attr("placeholder",this.core.element().attr("placeholder"))},buildPosition:function(){var e=t("<style />");e.addClass("redactor-placeholder-style-tag"),e.html("#"+this.core.id()+".redactor-placeholder::after "+this.placeholder.getPosition()),t("head").append(e)},getPosition:function(){return"{ top: "+this.core.editor().css("padding-top")+"; left: "+this.core.editor().css("padding-left")+"; }"},isEditorEmpty:function(){var e=t.trim(this.core.editor().html()).replace(/[\t\n]/g,""),i=["","<p>\u200b</p>","<p>\u200b<br></p>",this.opts.emptyHtmlRendered];return-1!==t.inArray(e,i)},isAttr:function(){return void 0!==this.core.element().attr("placeholder")&&""!==this.core.element().attr("placeholder")},destroy:function(){this.core.editor().removeAttr("placeholder"),this.placeholder.hide(),this.placeholder.disableEvents(),t(".redactor-placeholder-style-tag").remove()}}},progress:function(){return{$box:null,$bar:null,target:document.body,show:function(){this.progress.is()?this.progress.$box.show():(this.progress.build(),this.progress.$box.redactorAnimation("fadeIn"))},hide:function(){this.progress.is()&&this.progress.$box.redactorAnimation("fadeOut",{duration:.35},t.proxy(this.progress.destroy,this))},update:function(t){this.progress.show(),this.progress.$bar.css("width",t+"%")},is:function(){return null!==this.progress.$box},build:function(){this.progress.$bar=t("<span />"),this.progress.$box=t('<div id="redactor-progress" />'),this.progress.$box.append(this.progress.$bar),t(this.progress.target).append(this.progress.$box)},destroy:function(){this.progress.is()&&this.progress.$box.remove(),this.progress.$box=null,this.progress.$bar=null}}},selection:function(){return{get:function(){return window.getSelection?window.getSelection():document.selection&&"Control"!==document.selection.type?document.selection:null},range:function(t){return void 0===t&&(t=this.selection.get()),t.getRangeAt&&t.rangeCount?t.getRangeAt(0):null},is:function(){return!this.selection.isCollapsed()},isRedactor:function(){var e=this.selection.range();if(null!==e){var i=e.startContainer.parentNode;if(t(i).hasClass("redactor-in")||0!==t(i).parents(".redactor-in").length)return!0}return!1},isCollapsed:function(){var t=this.selection.get();return null!==t&&t.isCollapsed},update:function(t,e){null!==e&&(t.removeAllRanges(),t.addRange(e))},current:function(){var t=this.selection.get();return null!==t&&t.anchorNode},parent:function(){var t=this.selection.current();return null!==t&&t.parentNode},block:function(e){for(e=e||this.selection.current();e;){if(this.utils.isBlockTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},inline:function(e){for(e=e||this.selection.current();e;){if(this.utils.isInlineTag(e.tagName))return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},element:function(e){for(e||(e=this.selection.current());e;){if(1===e.nodeType)return!t(e).hasClass("redactor-in")&&e;e=e.parentNode}return!1},prev:function(){return null!==this.selection.current()&&this.selection.current().previousSibling},next:function(){return null!==this.selection.current()&&this.selection.current().nextSibling},blocks:function(e){var i=[],n=this.selection.nodes(e);t.each(n,t.proxy(function(t,e){this.utils.isBlock(e)&&i.push(e)},this));var s=this.selection.block();return 0===i.length&&!1===s?[]:0===i.length&&!1!==s?[s]:i},inlines:function(e){var i=[],n=this.selection.nodes(e);t.each(n,t.proxy(function(t,e){this.utils.isInline(e)&&i.push(e)},this));var s=this.selection.inline();return 0===i.length&&!1===s?[]:0===i.length&&!1!==s?[s]:i},nodes:function(e){var i=void 0===e?[]:t.isArray(e)?e:[e],n=this.selection.get(),s=this.selection.range(n),r=[],o=[];if(this.utils.isCollapsed())r=[this.selection.current()];else{var a=s.startContainer,l=s.endContainer;if(a===l)return[this.selection.parent()];for(;a&&a!==l;)r.push(a=this.selection.nextNode(a));for(a=s.startContainer;a&&a!==s.commonAncestorContainer;)r.unshift(a),a=a.parentNode}return t.each(r,function(e,n){if(n){var s=1===n.nodeType&&n.tagName.toLowerCase();if(t(n).hasClass("redactor-script-tag")||t(n).hasClass("redactor-selection-marker"))return;if(s&&0!==i.length&&-1===t.inArray(s,i))return;o.push(n)}}),0===o.length?[]:o},nextNode:function(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},save:function(){this.marker.insert(),this.savedSel=this.core.editor().html()},restore:function(t){var e=this.marker.find(1),i=this.marker.find(2);this.detect.isFirefox()&&this.core.editor().focus(),0!==e.length&&0!==i.length?this.caret.set(e,i):0!==e.length?this.caret.start(e):this.core.editor().focus(),!1!==t&&(this.marker.remove(),this.savedSel=!1)},saveInstant:function(){var t=this.core.editor()[0],e=t.ownerDocument.defaultView.getSelection();if(e.getRangeAt&&e.rangeCount){var i=e.getRangeAt(0),n=i.cloneRange();n.selectNodeContents(t),n.setEnd(i.startContainer,i.startOffset);var s=n.toString().length;return this.saved={start:s,end:s+i.toString().length,node:i.startContainer},this.saved}},restoreInstant:function(t){if(void 0!==t||this.saved){this.saved=void 0!==t?t:this.saved;var e=this.core.editor().find(this.saved.node);if(0===e.length||0!==e.text().trim().replace(/\u200B/g,"").length){var i=this.core.editor()[0],n=i.ownerDocument,s=n.defaultView,r=0,o=n.createRange();o.setStart(i,0),o.collapse(!0);for(var a,l=[i],c=!1,h=!1;!h&&(a=l.pop());)if(3==a.nodeType){var u=r+a.length;!c&&this.saved.start>=r&&this.saved.start<=u&&(o.setStart(a,this.saved.start-r),c=!0),c&&this.saved.end>=r&&this.saved.end<=u&&(o.setEnd(a,this.saved.end-r),h=!0),r=u}else for(var d=a.childNodes.length;d--;)l.push(a.childNodes[d]);var p=s.getSelection();p.removeAllRanges(),p.addRange(o)}else try{(o=document.createRange()).setStart(e[0],0),(p=window.getSelection()).removeAllRanges(),p.addRange(o)}catch(t){}}},node:function(e){t(e).prepend(this.marker.get(1)),t(e).append(this.marker.get(2)),this.selection.restore()},all:function(){this.core.editor().focus();var t=this.selection.get(),e=this.selection.range(t);e.selectNodeContents(this.core.editor()[0]),this.selection.update(t,e)},remove:function(){this.selection.get().removeAllRanges()},replace:function(t){this.insert.html(t)},text:function(){return this.selection.get().toString()},html:function(){var t="",e=this.selection.get();if(e.rangeCount){for(var i=document.createElement("div"),n=e.rangeCount,s=0;s<n;++s)i.appendChild(e.getRangeAt(s).cloneContents());t=this.clean.onGet(i.innerHTML)}return t},extractEndOfNode:function(t){var e=this.selection.get(),i=this.selection.range(e),n=i.cloneRange();return n.selectNodeContents(t),n.setStart(i.endContainer,i.endOffset),n.extractContents()},removeMarkers:function(){this.marker.remove()},marker:function(t){return this.marker.get(t)},markerHtml:function(t){return this.marker.html(t)}}},shortcuts:function(){return{hotkeysSpecialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hotkeysShiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},init:function(e,i){if(!1===this.opts.shortcuts)return!e.ctrlKey&&!e.metaKey||66!==i&&73!==i||e.preventDefault(),!1;t.each(this.opts.shortcuts,t.proxy(function(t,i){this.shortcuts.build(e,t,i)},this))},build:function(e,i,n){for(var s=t.proxy(function(){this.shortcuts.buildHandler(n)},this),r=i.split(","),o=r.length,a=0;a<o;a++)"string"==typeof r[a]&&this.shortcuts.handler(e,t.trim(r[a]),s)},buildHandler:function(t){var e;"-1"!==t.func.search(/\./)?void 0!==this[(e=t.func.split("."))[0]]&&this[e[0]][e[1]].apply(this,t.params):this[t.func].apply(this,t.params)},handler:function(e,i,n){i=i.toLowerCase().split(" ");var s=this.shortcuts.hotkeysSpecialKeys[e.keyCode],r=String.fromCharCode(e.which).toLowerCase(),o="",a={};t.each(["alt","ctrl","meta","shift"],function(t,i){e[i+"Key"]&&s!==i&&(o+=i+"+")}),s&&(a[o+s]=!0),r&&(a[o+r]=!0,a[o+this.shortcuts.hotkeysShiftNums[r]]=!0,"shift+"===o&&(a[this.shortcuts.hotkeysShiftNums[r]]=!0));for(var l=i.length,c=0;c<l;c++)if(a[i[c]])return e.preventDefault(),n.apply(this,arguments)}}},storage:function(){return{data:[],add:function(t){t.status=!0,t.url=decodeURI(t.url),this.storage.data[t.url]=t},status:function(t,e){this.storage.data[decodeURI(t)].status=e},observe:function(){var e=this;this.core.editor().find("[data-image]").each(function(i,n){e.storage.add({type:"image",node:n,url:n.src,id:t(n).attr("data-image")})}),this.core.editor().find("[data-file]").each(function(i,n){e.storage.add({type:"file",node:n,url:n.href,id:t(n).attr("data-file")})}),this.core.editor().find("[data-s3]").each(function(i,n){var s="IMG"===n.tagName?n.src:n.href;e.storage.add({type:"s3",node:n,url:s,id:t(n).attr("data-s3")})})},changes:function(){for(var t in this.storage.data){var e=this.storage.data[t],i="IMG"===e.node.tagName?"src":"href";0===this.core.editor().find("[data-"+e.type+"]["+i+'="'+e.url+'"]').length?this.storage.status(e.url,!1):this.storage.status(e.url,!0)}return this.storage.data}}},toolbar:function(){return{build:function(){this.button.hideButtons(),this.button.hideButtonsOnMobile(),this.$toolbar=this.toolbar.createContainer(),this.toolbar.append(),this.button.$toolbar=this.$toolbar,this.button.setFormatting(),this.button.load(this.$toolbar),this.toolbar.setOverflow(),this.toolbar.setFixed()},createContainer:function(){return t("<ul>").addClass("redactor-toolbar").attr({id:"redactor-toolbar-"+this.uuid,role:"toolbar"})},append:function(){this.opts.toolbarExternal?(this.$toolbar.addClass("redactor-toolbar-external"),t(this.opts.toolbarExternal).html(this.$toolbar)):"textarea"===this.opts.type?this.$box.prepend(this.$toolbar):this.$element.before(this.$toolbar)},setOverflow:function(){this.opts.toolbarOverflow&&this.$toolbar.addClass("redactor-toolbar-overflow")},setFixed:function(){if(this.opts.toolbarFixed&&!this.opts.toolbarExternal){if(this.opts.toolbarFixedTarget!==document){var e=t(this.opts.toolbarFixedTarget);this.toolbar.toolbarOffsetTop=0===e.length?0:this.core.box().offset().top-e.offset().top}var i=0!==this.core.box().closest(".modal-body").length?1e3:0;setTimeout(t.proxy(function(){var e=this;this.toolbar.observeScroll(!1),this.detect.isDesktop()?t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){e.core.editor().height()<100||e.placeholder.isEditorEmpty()||e.toolbar.observeScroll()}):t(this.opts.toolbarFixedTarget).on("scroll.redactor."+this.uuid,function(){e.core.editor().height()<100||e.placeholder.isEditorEmpty()||(e.core.toolbar().hide(),clearTimeout(t.data(this,"scrollCheck")),t.data(this,"scrollCheck",setTimeout(function(){e.core.toolbar().show(),e.toolbar.observeScroll()},250)))})},this),i)}},setUnfixed:function(){this.toolbar.observeScrollDisable()},getBoxTop:function(){return this.opts.toolbarFixedTarget===document?this.core.box().offset().top:this.toolbar.toolbarOffsetTop},observeScroll:function(e){var i=0;!1!==e&&(i=this.opts.toolbarFixedTarget===document?20:0);var n=t(this.opts.toolbarFixedTarget).scrollTop(),s=this.toolbar.getBoxTop();n!==s&&(n+this.opts.toolbarFixedTopOffset+i>s?this.toolbar.observeScrollEnable(n,s):this.toolbar.observeScrollDisable())},observeScrollResize:function(){this.$toolbar.css({width:this.core.box().innerWidth(),left:this.core.box().offset().left})},observeScrollEnable:function(e,i){if(void 0===this.fullscreen||!1!==this.fullscreen.isOpened){var n=i+this.core.box().outerHeight()-32,s=this.core.box().innerWidth(),r=this.detect.isDesktop()?"fixed":"absolute",o=this.detect.isDesktop()?this.opts.toolbarFixedTopOffset:t(this.opts.toolbarFixedTarget).scrollTop()-i+this.opts.toolbarFixedTopOffset,a=this.detect.isDesktop()?this.core.box().offset().left:0;this.opts.toolbarFixedTarget!==document&&(r="absolute",o=this.opts.toolbarFixedTopOffset+t(this.opts.toolbarFixedTarget).scrollTop()-i,a=0),this.$toolbar.addClass("toolbar-fixed-box"),this.$toolbar.css({position:r,width:s,top:o,left:a}),e>n&&t(".redactor-dropdown-"+this.uuid+":visible").hide(),this.toolbar.setDropdownsFixed(),this.$toolbar.css("visibility",e<n?"visible":"hidden"),t(window).on("resize.redactor-toolbar."+this.uuid,t.proxy(this.toolbar.observeScrollResize,this))}else this.toolbar.observeScrollDisable()},observeScrollDisable:function(){this.$toolbar.css({position:"relative",width:"auto",top:0,left:0,visibility:"visible"}),this.toolbar.unsetDropdownsFixed(),this.$toolbar.removeClass("toolbar-fixed-box"),t(window).off("resize.redactor-toolbar."+this.uuid)},setDropdownsFixed:function(){var t=this.opts.toolbarFixedTarget===document&&this.detect.isDesktop()?"fixed":"absolute";this.toolbar.setDropdownPosition(t)},unsetDropdownsFixed:function(){this.toolbar.setDropdownPosition("absolute")},setDropdownPosition:function(e){var i=this;t(".redactor-dropdown-"+this.uuid).each(function(){var n=t(this),s=i.button.get(n.attr("rel")),r="fixed"===e?i.opts.toolbarFixedTopOffset:s.offset().top;n.css({position:e,top:s.innerHeight()+r+"px"})})}}},upload:function(){return{init:function(e,i,n){this.upload.direct=!1,this.upload.callback=n,this.upload.url=i,this.upload.$el=t(e),this.upload.$droparea=t('<div id="redactor-droparea" />'),this.upload.$placeholdler=t('<div id="redactor-droparea-placeholder" />').text(this.lang.get("upload-label")),this.upload.$input=t('<input type="file" name="file" multiple />'),this.upload.$placeholdler.append(this.upload.$input),this.upload.$droparea.append(this.upload.$placeholdler),this.upload.$el.append(this.upload.$droparea),this.upload.$droparea.off("redactor.upload"),this.upload.$input.off("redactor.upload"),this.upload.$droparea.on("dragover.redactor.upload",t.proxy(this.upload.onDrag,this)),this.upload.$droparea.on("dragleave.redactor.upload",t.proxy(this.upload.onDragLeave,this)),this.upload.$input.on("change.redactor.upload",t.proxy(function(t){t=t.originalEvent||t;for(var e=this.upload.$input[0].files.length,i=0;i<e;i++){var n=e-1-i;this.upload.traverseFile(this.upload.$input[0].files[n],t)}},this)),this.upload.$droparea.on("drop.redactor.upload",t.proxy(function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover").addClass("drag-drop"),this.upload.onDrop(t)},this))},directUpload:function(t,e){this.upload.direct=!0,this.upload.traverseFile(t,e)},onDrop:function(t){var e=(t=t.originalEvent||t).dataTransfer.files;if(this.opts.multipleImageUpload)for(var i=e.length,n=0;n<i;n++)this.upload.traverseFile(e[n],t);else this.upload.traverseFile(e[0],t)},traverseFile:function(t,e){if(this.opts.s3)return this.upload.setConfig(t),void this.uploads3.send(t,e);var i=window.FormData?new FormData:null;if(window.FormData){this.upload.setConfig(t);var n="image"===this.upload.type?this.opts.imageUploadParam:this.opts.fileUploadParam;i.append(n,t)}this.progress.show(),!1!==this.core.callback("uploadStart",e,i)&&this.upload.send(i,e)},setConfig:function(t){this.upload.getType(t),this.upload.direct&&(this.upload.url="image"===this.upload.type?this.opts.imageUpload:this.opts.fileUpload,this.upload.callback="image"===this.upload.type?this.image.insert:this.file.insert)},getType:function(t){this.upload.type=-1===this.opts.imageTypes.indexOf(t.type)?"file":"image",null===this.opts.imageUpload&&null!==this.opts.fileUpload&&(this.upload.type="file")},getHiddenFields:function(e,i){return!1===e||"object"!=typeof e?i:(t.each(e,t.proxy(function(e,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),i.append(e,n)},this)),i)},send:function(e,i){"image"===this.upload.type?(e=this.utils.appendFields(this.opts.imageUploadFields,e),e=this.utils.appendForms(this.opts.imageUploadForms,e),e=this.upload.getHiddenFields(this.upload.imageFields,e)):(e=this.utils.appendFields(this.opts.fileUploadFields,e),e=this.utils.appendForms(this.opts.fileUploadForms,e),e=this.upload.getHiddenFields(this.upload.fileFields,e));var n=new XMLHttpRequest;n.open("POST",this.upload.url),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onreadystatechange=t.proxy(function(){if(4===n.readyState){var t=n.responseText;t=(t=t.replace(/^\[/,"")).replace(/\]$/,"");var e;try{e="string"==typeof t?JSON.parse(t):t}catch(t){e={error:!0}}this.progress.hide(),this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),this.upload.callback(e,this.upload.direct,i)}},this),!1!==this.core.callback("uploadBeforeSend",n)&&n.send(e)},onDrag:function(t){t.preventDefault(),this.upload.$droparea.addClass("drag-hover")},onDragLeave:function(t){t.preventDefault(),this.upload.$droparea.removeClass("drag-hover")},clearImageFields:function(){this.upload.imageFields={}},addImageFields:function(t,e){this.upload.imageFields[t]=e},removeImageFields:function(t){delete this.upload.imageFields[t]},clearFileFields:function(){this.upload.fileFields={}},addFileFields:function(t,e){this.upload.fileFields[t]=e},removeFileFields:function(t){delete this.upload.fileFields[t]}}},uploads3:function(){return{send:function(e,i){this.uploads3.executeOnSignedUrl(e,t.proxy(function(t){this.uploads3.sendToS3(e,t,i)},this))},executeOnSignedUrl:function(t,e){var i=new XMLHttpRequest,n=-1===this.opts.s3.search(/\?/)?"?":"&";i.open("GET",this.opts.s3+n+"name="+t.name+"&type="+t.type,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined");var s=this;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&(s.progress.show(),e(decodeURIComponent(this.responseText)))},i.send()},createCORSRequest:function(t,e){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,e,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest).open(t,e):i=null,i},sendToS3:function(e,i,n){var s=this.uploads3.createCORSRequest("PUT",i);s&&(s.onload=t.proxy(function(){var t;if(this.progress.hide(),200!==s.status)return t={error:!0},void this.upload.callback(t,this.upload.direct,s);var e=i.split("?");if(!e[0])return!1;if(this.upload.direct||this.upload.$droparea.removeClass("drag-drop"),t={url:e[0],id:e[0],s3:!0},"file"===this.upload.type){var r=e[0].split("/");t.name=r[r.length-1]}this.upload.callback(t,this.upload.direct,n)},this),s.onerror=function(){},s.upload.onprogress=function(){},s.setRequestHeader("Content-Type",e.type),s.setRequestHeader("x-amz-acl","public-read"),
s.send(e))}}},utils:function(){return{isEmpty:function(e){return e=void 0===e?this.core.editor().html():e,e=e.replace(/[\u200B-\u200D\uFEFF]/g,""),e=e.replace(/&nbsp;/gi,""),e=e.replace(/<\/?br\s?\/?>/g,""),e=e.replace(/\s/g,""),e=e.replace(/^<p>[^\W\w\D\d]*?<\/p>$/i,""),e=e.replace(/<iframe(.*?[^>])>$/i,"iframe"),e=e.replace(/<source(.*?[^>])>$/i,"source"),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,""),""===(e=t.trim(e))},isElement:function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},strpos:function(t,e,i){var n=t.indexOf(e,i);return n>=0&&n},dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return new Blob([n],{type:i})},getOuterHtml:function(e){return t("<div>").append(t(e).eq(0).clone()).html()},cloneAttributes:function(e,i){e=e[0]||e,i=t(i);for(var n=e.attributes,s=n.length;s--;){var r=n[s];i.attr(r.name,r.value)}return i},breakBlockTag:function(){var e=this.selection.block();if(!e)return!1;var i=this.utils.isEmpty(e.innerHTML),n=e.tagName.toLowerCase();if("pre"===n||"li"===n||"td"===n||"th"===n)return!1;if(!i&&this.utils.isStartOfElement(e))return{$block:t(e),$next:t(e).next(),type:"start"};if(!i&&this.utils.isEndOfElement(e))return{$block:t(e),$next:t(e).next(),type:"end"};var s=this.selection.extractEndOfNode(e),r=t("<"+n+" />").append(s);return r=this.utils.cloneAttributes(e,r),t(e).after(r),{$block:t(e),$next:r,type:"break"}},inBlocks:function(e){e=t.isArray(e)?e:[e];for(var i=this.selection.blocks(),n=i.length,s=!1,r=0;r<n;r++)if(!1!==i[r]){var o=i[r].tagName.toLowerCase();-1!==t.inArray(o,e)&&(s=!0)}return s},inInlines:function(e){e=t.isArray(e)?e:[e];for(var i=this.selection.inlines(),n=i.length,s=!1,r=0;r<n;r++){var o=i[r].tagName.toLowerCase();-1!==t.inArray(o,e)&&(s=!0)}return s},isTag:function(e,i){var n=t(e).closest(i,this.core.editor()[0]);return 1===n.length&&n[0]},isBlock:function(t){return null!==t&&(t=t[0]||t)&&this.utils.isBlockTag(t.tagName)},isBlockTag:function(t){return void 0!==t&&this.reIsBlock.test(t)},isInline:function(t){return(t=t[0]||t)&&this.utils.isInlineTag(t.tagName)},isInlineTag:function(t){return void 0!==t&&this.reIsInline.test(t)},isRedactorParent:function(e){return!!e&&0!==t(e).parents(".redactor-in").length&&!t(e).hasClass("redactor-in")&&e},isCurrentOrParentHeader:function(){return this.utils.isCurrentOrParent(["H1","H2","H3","H4","H5","H6"])},isCurrentOrParent:function(e){var i=this.selection.parent(),n=this.selection.current();if(t.isArray(e)){var s=0;return t.each(e,t.proxy(function(t,e){this.utils.isCurrentOrParentOne(n,i,e)&&s++},this)),0!==s}return this.utils.isCurrentOrParentOne(n,i,e)},isCurrentOrParentOne:function(t,e,i){return i=i.toUpperCase(),e&&e.tagName===i?e:!(!t||t.tagName!==i)&&t},isEditorRelative:function(){var e=this.core.editor().css("position"),i=["absolute","fixed","relative"];return-1!==t.inArray(i,e)},setEditorRelative:function(){this.core.editor().addClass("redactor-relative")},getScrollTarget:function(){var e=t(this.opts.scrollTarget);return 0!==e.length?e:t(document)},freezeScroll:function(){this.freezeScrollTop=this.utils.getScrollTarget().scrollTop(),this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},unfreezeScroll:function(){void 0!==this.freezeScrollTop&&this.utils.getScrollTarget().scrollTop(this.freezeScrollTop)},saveScroll:function(){this.tmpScrollTop=this.utils.getScrollTarget().scrollTop()},restoreScroll:function(){void 0!==this.tmpScrollTop&&this.utils.getScrollTarget().scrollTop(this.tmpScrollTop)},isStartOfElement:function(t){return!(void 0===t&&!(t=this.selection.block()))&&0===this.offset.get(t)},isEndOfElement:function(e){if(void 0===e&&!(e=this.selection.block()))return!1;var i=t.trim(t(e).text()).replace(/[\t\n\r\n]/g,"").replace(/\u200B/g,"");return this.offset.get(e)===i.length},removeEmptyAttr:function(e,i){var n=t(e);return void 0===n.attr(i)||""===n.attr(i)&&(n.removeAttr(i),!0)},replaceToTag:function(e,i){var n;return t(e).replaceWith(function(){n=t("<"+i+" />").append(t(this).contents());for(var e=0;e<this.attributes.length;e++)n.attr(this.attributes[e].name,this.attributes[e].value);return n}),n},isSelectAll:function(){return this.selectAll},enableSelectAll:function(){this.selectAll=!0},disableSelectAll:function(){this.selectAll=!1},disableBodyScroll:function(){var e=t("html"),i=window.innerWidth;if(!i){var n=document.documentElement.getBoundingClientRect();i=n.right-Math.abs(n.left)}var s=document.body.clientWidth<i,r=this.utils.measureScrollbar();e.css("overflow","hidden"),s&&e.css("padding-right",r)},measureScrollbar:function(){var e=t("body"),i=document.createElement("div");i.className="redactor-scrollbar-measure",e.append(i);var n=i.offsetWidth-i.clientWidth;return e[0].removeChild(i),n},enableBodyScroll:function(){t("html").css({overflow:"","padding-right":""}),t("body").remove("redactor-scrollbar-measure")},appendFields:function(e,i){if(!e)return i;if("object"==typeof e)return t.each(e,function(e,n){null!==n&&0===n.toString().indexOf("#")&&(n=t(n).val()),i.append(e,n)}),i;var n=t(e);return 0===n.length?i:(n.each(function(){i.append(t(this).attr("name"),t(this).val())}),i)},appendForms:function(e,i){if(!e)return i;var n=t(e);if(0===n.length)return i;var s=n.serializeArray();return t.each(s,function(t,e){i.append(e.name,e.value)}),i},isRgb:function(t){return 0===t.search(/^rgb/i)},rgb2hex:function(t){return t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},isCollapsed:function(){return this.selection.isCollapsed()},isMobile:function(){return this.detect.isMobile()},isDesktop:function(){return this.detect.isDesktop()},isPad:function(){return this.detect.isIpad()}}},browser:function(){return{webkit:function(){return this.detect.isWebkit()},ff:function(){return this.detect.isFirefox()},ie:function(){return this.detect.isIe()}}}},t(window).on("load.tools.redactor",function(){t('[data-tools="redactor"]').redactor()}),e.prototype.init.prototype=e.prototype}(jQuery),function(t){function e(e,i,n,s){var r={duration:.5,iterate:1,delay:0,prefix:"redactor-",timing:"linear"};this.animation=i,this.slide="slideDown"===this.animation||"slideUp"===this.animation,this.$element=t(e),this.prefixes=["","-moz-","-o-animation-","-webkit-"],this.queue=[],"function"==typeof n?(s=n,this.opts=r):this.opts=t.extend(r,n),this.slide&&this.$element.height(this.$element.height()),this.init(s)}t.fn.redactorAnimation=function(t,i,n){return this.each(function(){new e(this,t,i,n)})},e.prototype={init:function(t){this.queue.push(this.animation),this.clean(),"show"===this.animation?(this.opts.timing="linear",this.$element.removeClass("hide").show(),"function"==typeof t&&t(this)):"hide"===this.animation?(this.opts.timing="linear",this.$element.hide(),"function"==typeof t&&t(this)):this.animate(t)},animate:function(e){this.$element.addClass("redactor-animated").css("display","").removeClass("hide"),this.$element.addClass(this.opts.prefix+this.queue[0]),this.set(this.opts.duration+"s",this.opts.delay+"s",this.opts.iterate,this.opts.timing);var i=this.queue.length>1?null:e;this.complete("AnimationEnd",t.proxy(function(){this.$element.hasClass(this.opts.prefix+this.queue[0])&&(this.clean(),this.queue.shift(),this.queue.length&&this.animate(e))},this),i)},set:function(t,e,i,n){for(var s=this.prefixes.length;s--;)this.$element.css(this.prefixes[s]+"animation-duration",t),this.$element.css(this.prefixes[s]+"animation-delay",e),this.$element.css(this.prefixes[s]+"animation-iteration-count",i),this.$element.css(this.prefixes[s]+"animation-timing-function",n)},clean:function(){this.$element.removeClass("redactor-animated"),this.$element.removeClass(this.opts.prefix+this.queue[0]),this.set("","","","")},complete:function(e,i,n){this.$element.one(e.toLowerCase()+" webkit"+e+" o"+e+" MS"+e,t.proxy(function(){"function"==typeof i&&i(),"function"==typeof n&&n(this);var e=["fadeOut","slideUp","zoomOut","slideOutUp","slideOutRight","slideOutLeft"];-1!==t.inArray(this.animation,e)&&this.$element.css("display","none"),this.slide&&this.$element.css("height","")},this))}}}(jQuery),window.init_redactor=function(){var t=$("meta[name=csrf-token]").attr("content"),e=$("meta[name=csrf-param]").attr("content"),i={};e!==undefined&&t!==undefined&&(i[e]=t),$(".redactor").not(".redactored").each(function(){var t=parseInt($(this).css("min-height")),e=parseInt($(this).css("max-height")),n=parseInt($(this).data("maxlength"));$(this).addClass("redactored"),$(this).redactor({toolbarFixed:!1,imageUpload:"/redactor_rails/pictures",imageUploadFields:i,imageResizable:!0,imagePosition:!0,imageGetJson:"/redactor_rails/pictures",fileUpload:"/redactor_rails/documents",fileUploadFields:i,fileGetJson:"/redactor_rails/documents",path:"/assets/redactor_rails",minHeight:t,maxHeight:e,formatting:["p","pre","h1","h2","h3","h4","h5"],buttons:["format","bold","underline","italic","lists","outdent","indent","table","link","video","image","file","alignleft","aligncenter","alignright","justify","horizontalrule"],convertVideoLinks:!0,convertImageLinks:!0,plugins:["fullscreen","video","counter","limiter"],limiter:n,callbacks:{init:function(){this.counter.count()},counter:function(){$(".redactor_too_short").hide(),this.core.box().nextAll(".redactor_unsaved_changes").show(),$(this.core.textarea().data("charcountid")).html(this.core.editor().text().length+" characters")},imageUploadError:function(t){loadAndShowFlashErrorMessage(t.message)},fileUploadError:function(t){loadAndShowFlashErrorMessage(t.message)},sync:function(){this.core.textarea().trigger("redactor.sync")}}})})},$(document).ready(window.init_redactor),$(document).on("turbolinks:before-cache",function(){$(".redactor.redactored").redactor("core.destroy"),$(".redactor").removeClass("redactored")}),function(t){t.Redactor.prototype.counter=function(){return{init:function(){"undefined"!=typeof this.opts.callbacks.counter&&this.core.editor().on("keyup.redactor-plugin-counter",t.proxy(this.counter.count,this))},count:function(){var e=0,i=0,n=0,s=this.code.get(),r=s.replace(/<\/(.*?)>/gi," ");if(r=r.replace(/<(.*?)>/gi,""),r=r.replace(/\t/gi,""),r=r.replace(/\n/gi," "),r=r.replace(/\r/gi," "),r=r.replace(/\u200B/g,""),""!==(r=t.trim(r))){var o=r.split(/\s+/),a=r.match(/\s/g);e=o?o.length:0,n=a?a.length:0,i=r.length}this.core.callback("counter",{words:e,characters:i,spaces:n})}}}}(jQuery),function(t){t.Redactor.prototype.fullscreen=function(){return{langs:{en:{fullscreen:"Fullscreen"}},init:function(){this.fullscreen.isOpen=!1;var t=this.button.add("fullscreen",this.lang.get("fullscreen"));this.button.setIcon(t,'<i class="re-icon-expand"></i>'),this.button.addCallback(t,this.fullscreen.toggle),this.opts.fullscreen&&this.fullscreen.toggle()},enable:function(){this.fullscreen.isOpened=!1,this.button.changeIcon("fullscreen","retract"),this.fullscreen.isOpen=!0,this.opts.fullscreen||this.selection.save(),this.opts.toolbarExternal&&(this.fullscreen.toolcss={},this.fullscreen.boxcss={},this.fullscreen.toolcss.width=this.$toolbar.css("width"),this.fullscreen.toolcss.top=this.$toolbar.css("top"),this.fullscreen.toolcss.position=this.$toolbar.css("position"),this.fullscreen.boxcss.top=this.$box.css("top")),this.fullscreen.height=this.core.editor().height(),this.opts.maxHeight&&this.core.editor().css("max-height",""),this.opts.minHeight&&this.core.editor().css("min-height",""),this.$fullscreenPlaceholder||(this.$fullscreenPlaceholder=t("<div/>")),this.opts.toolbarExternal&&t(this.opts.toolbarExternal).css({position:"absolute",top:0,left:0,width:"100%"}),this.$fullscreenPlaceholder.insertAfter(this.$box),this.core.box().appendTo(document.body),this.core.box().addClass("redactor-box-fullscreen"),t("body").addClass("redactor-body-fullscreen"),t("body, html").css("overflow","hidden"),this.fullscreen.resize(),this.opts.fullscreen||this.selection.restore(),this.toolbar.observeScrollDisable(),t(window).on("resize.redactor-plugin-fullscreen",t.proxy(this.fullscreen.resize,this)),t(document).scrollTop(0,0);var e=this;setTimeout(function(){e.fullscreen.isOpened=!0},10)},disable:function(){this.button.changeIcon("fullscreen","expand"),this.fullscreen.isOpened=undefined,this.fullscreen.isOpen=!1,this.selection.save(),t(window).off("resize.redactor-plugin-fullscreen"),t("body, html").css("overflow",""),this.core.box().insertBefore(this.$fullscreenPlaceholder),this.$fullscreenPlaceholder.remove(),this.core.box().removeClass("redactor-box-fullscreen").css({width:"auto",height:"auto"}),this.core.box().removeClass("redactor-box-fullscreen"),this.opts.toolbarExternal&&(this.core.box().css("top",this.fullscreen.boxcss.top),t(this.opts.toolbarExternal).css({width:this.fullscreen.toolcss.width,top:this.fullscreen.toolcss.top,position:this.fullscreen.toolcss.position})),this.opts.minHeight&&this.core.editor().css("minHeight",this.opts.minHeight),this.opts.maxHeight&&this.core.editor().css("maxHeight",this.opts.maxHeight),this.core.editor().css("height","auto"),this.selection.restore()},toggle:function(){return this.fullscreen.isOpen?this.fullscreen.disable():this.fullscreen.enable()},resize:function(){if(this.fullscreen.isOpen){var e=this.button.toolbar().height(),i=parseInt(this.core.editor().css("padding-top"))+parseInt(this.core.editor().css("padding-bottom")),n=t(window).height()-e-i;this.core.box().width(t(window).width()).height(n),this.opts.toolbarExternal&&(this.core.toolbar().css({top:"0px",position:"absolute",width:"100%"}),this.core.box().css("top",e+"px")),this.core.editor().height(n)}}}}}(jQuery),function(t){t.Redactor.prototype.limiter=function(){return{init:function(){this.opts.limiter&&this.core.editor().on("keydown.redactor-plugin-limiter",t.proxy(function(t){var e=t.which,i=t.ctrlKey||t.metaKey;if(!(e===this.keyCode.BACKSPACE||e===this.keyCode.DELETE||e===this.keyCode.ESC||e===this.keyCode.SHIFT||i&&65===e||i&&82===e||i&&116===e)){var n=this.core.editor().text();n=n.replace(/\u200B/g,"");return!(n.length>=this.opts.limiter)&&void 0}},this))}}}}(jQuery),function(t){t.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,langs:{en:{video:"Video","video-html-code":"Video Embed Code or Youtube/Vimeo Link"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">Insert</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},init:function(){var t=this.button.addAfter("image","video",this.lang.get("video"));this.button.setIcon(t,'<i class="re-icon-video"></i>'),this.button.addCallback(t,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate()),this.modal.load("video",this.lang.get("video"),700),this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert),this.modal.show(),this.detect.isDesktop()&&setTimeout(function(){t("#redactor-insert-video-area").focus()},1)},insert:function(){var e=t("#redactor-insert-video-area").val(),i=e.match(/<iframe|<video/gi);if(i&&0!==i.length){var n=["iframe","video"],s=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;e=e.replace(s,function(t,e){return-1===n.indexOf(e.toLowerCase())?"":t}),this.opts.videoContainerClass="undefined"==typeof this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass;var r='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="',o='" frameborder="0" allowfullscreen></iframe></div>';e=e.match(this.video.reUrlYoutube)?e.replace(this.video.reUrlYoutube,r+"//www.youtube.com/embed/$1"+o):e.match(this.video.reUrlVimeo)?e.replace(this.video.reUrlVimeo,r+"//player.vimeo.com/video/$2"+o):'<div class="'+this.opts.videoContainerClass+'">'+e+"</div>"}this.modal.close(),this.placeholder.hide(),this.buffer.set(),this.air.collapsed(),this.insert.html(e)}}}}(jQuery),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();(e===undefined||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}),String.prototype.trunc||(String.prototype.trunc=function(t){return this.substr(0,t-1)+(this.length>t?"...":"")}),Array.prototype.getUnique||(Array.prototype.getUnique=function(){for(var t={},e=[],i=0,n=this.length;i<n;++i)t.hasOwnProperty(this[i])||(e.push(this[i]),t[this[i]]=1);return e}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),$(document).ready(function(){autoResizeTextArea(),initializeTableSorter(),enableImagePreviewInForm(),enableValidateRequiredFields()}),$(document).ajaxSuccess(function(){autoResizeTextArea(),initializeTableSorter(),enableImagePreviewInForm(),enableValidateRequiredFields()});var MINDSUMO_document={},MINDSUMO_ajaxLoader={load:function(t,e,i,n,s){var r={loadType:0,callbackFunc:function(){},dataType:"html",async:!0,ajaxStart:function(){},ajaxStop:function(){}},o=!1;$.extend(r,s);var a=r.loadType;$.ajax({url:t,type:i,async:r.async,beforeSend:function(t){r.ajaxStart.apply(),t.setRequestHeader("Accept","text/*"),t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},data:e,dataType:r.dataType,complete:function(){r.ajaxStop.apply()},success:function(t){t?(n&&-3==a?n.before(t):n&&-1==a?n.prepend(t):n&&0==a?n.html(t):n&&1==a?n.append(t):2==a?r.callbackFunc(t):n&&3==a&&n.after(t),o=!0):o=!1},error:function(){o=!1}}).responseText;return o}},MINDSUMO_autocomplete={load:function(t,e,i){$(document).on("focus",t,function(){$(this).autocomplete({minLength:0,source:function(t,i){i($.ui.autocomplete.filter(e,t.term.split(/,\s*/).pop()).splice(0,10))},focus:function(){return!1},select:function(t,e){if(1!=i.singleItem){var n=this.value.split(/,\s*/);n.pop(),n.push(e.item.value),n.push(""),this.value=n.join(", ")}else this.value=e.item.value;return!1}})})}},MINDSUMO_utils={limitChars:function(t,e,i){$(document).ready(function(){$(t).trigger("keyup")}),$(document).on("keyup change",t,function(){var t=e-this.value.replace(/{.*}/g,"").length;t<0?(this.value=this.value.substring(0,e),$(this).addClass("highlight_input_warn")):(i&&$(i).text(t),$(this).removeClass("highlight_input_warn"))})}};$(document).ready(function(){$.tablesorter.addParser({id:"childrenCount",is:function(){return!1},format:function(t,e,i){return i.children.length},type:"numeric"}),$.tablesorter.addParser({id:"readFromDataAttr",is:function(){return!1},format:function(t,e,i){return i.dataset.metavalue.toLowerCase()},type:"text"})}),$(document).ready(function(){enableNestedFormActions(),initializeCopyToClipboard()}),$(document).on("click",".ajax_pagination a",function(){return MINDSUMO_ajaxLoader.load(this.href,{},"GET",$($(this).closest(".ajax_pagination").data("target")),{}),!1}),$(document).on("click","a",function(){var t=$(this),e=escape(JSON.stringify([t[0].className,t[0].id]));Cookies.set("last_click_elem",e,{expires:1/480})}),$(document).ready(function(){enableDateTimePick()}),$(document).on("click",".inner_link",function(t){t.stopPropagation()}),$(document).on("change keyup",".mirrorable",function(){$("."+$(this).attr("id")+"_mirror").html($(this).val())}),$(document).on("click","input:checkbox",function(){var t=$(this)[0].className;""!=t&&$.each(t.split(/\s+/),function(t,e){updateCheckBoxCounter(e,!0)})}),$(document).on("click",".checkbox_select_all",function(t){t.stopPropagation();var e=$(this).data("classname");$("."+e+":visible").prop("checked",$(this).prop("checked")),updateCheckBoxCounter(e,!0)}),$(document).on("keypress",".text_limit_countee",function(){var t=$(this).data("maxlength");if(t!=undefined){var e=$(this).attr("id"),i=$(this).val().length;i>t&&$(this).val($(this).val().substring(0,t)),$("#"+e+"_counter").html(i+"/"+t+" characters")}}),MINDSUMO_document.hashScrolled=!1,$(document).ready(function(){setHashScrolled()}),$(document).ajaxStop(function(){setHashScrolled()}),$(document).mouseup(function(t){$(".dropdown_lists").is(t.target)||0!=$(".dropdown_lists").has(t.target).length||$(".dropdown_lists").hide()}),$(document).ready(function(){$(".dropdown_lists").hide()}),$(document).ready(function(){if($(".click_first_after_load").length>0){var t=$(".click_first_after_load"+gon.click_first_after_load_element);t.length<=0&&(t=$(".click_first_after_load").first()),t.length>0&&t.click()}$(".click_after_load").click()}),$(document).on("change",".div_sorter_selector",function(){var t=$(this).data("sortclass"),e=$(this).data("filterdataid");if(e!=undefined)var i=$("."+t+"[data-id='"+e+"']");else var i=$("."+t);var n=i.parent(),s=$(this).val();if(t!=undefined&&n!=undefined){var r=i.sort(function(t,e){return $(e).data("sorttype"+s)-$(t).data("sorttype"+s)});n.prepend(r)}}),$(document).on("change",".field_value_multiple",function(){var t=$(this).attr("id"),e=$("#"+t+"_multiply"),i=parseInt($(this).val())*parseInt(e.data("multiple"));$("#"+t+"_mirror").html($(this).val()),e.html(i)}),$(document).on("change",".repeat_field",function(){$(".repeat_field").filter("#"+$(this).attr("id")).val($(this).val())}),$(document).on("click","a[data-clickmirrorenable]",function(){$("#"+$(this).data("clickmirrorid")).click()}),"#_=_"==window.location.hash&&(window.location.hash=""),$(document).ready(function(){$(".fill_with_ajax").length>0&&$(".fill_with_ajax").each(function(){var t=$(this);url=t.data("url"),t.removeAttr("data-url"),t.removeData("data"),parameters=t.data(),delete parameters.url,MINDSUMO_ajaxLoader.load(url,parameters,"GET",$(this),{loadType:0,ajaxStop:function(){t.addClass("filled_with_ajax"),0==t.children().length&&t.data("unfilremove")!=undefined&&$(t.data("unfilremove")).remove()}})})}),window.mobileAndTabletcheck=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},$(document).ready(function(){var t=window.location.pathname;$(".header_indicatable").each(function(){$(this).data("indicatewhenurlstarts")!=undefined&&null!=$(this).data("indicatewhenurlstarts")?0==t.indexOf($(this).data("indicatewhenurlstarts"))&&$(this).addClass("header_selected_tab_style"):t==$(this).attr("href")&&$(this).addClass("header_selected_tab_style")})}),$(document).ready(function(){MINDSUMO_utils.limitChars(".string_input",255,".string_input_overlimit")}),$(document).ready(function(){$(".sortable").sortable({create:function(){$(this).prev(".sortable_input").val($(this).children().toArray().map(function(t){return t.innerText.replace(",","\\,")}).join(", "))},update:function(){$(this).prev(".sortable_input").val($(this).children().toArray().map(function(t){return t.innerText.replace(",","\\,")}).join(", "))}})}),$(document).ready(function(){var t=getJsonFromUrl().r_to;if(t!=undefined){var e=$("<input>").attr("type","hidden").attr("name","r_to").val(t);$("form").append($(e))}}),$(document).on("page:before-unload",function(){clearTimeout(MINDSUMO_document.solutionDraftTimeout),clearInterval(MINDSUMO_document.solutionDraftInterval),clearTimeout(MINDSUMO_document.flashSuccessClearTimeout),clearTimeout(MINDSUMO_document.flashErrorClearTimeout)}),$(document).on("turbolinks:before-cache",function(){$(".chosen-select").chosen("destroy")}),$(document).ready(function(){enableChosen()}),$(document).ajaxSuccess(enableChosen),function(){var t,e,i,n,s,r={}.hasOwnProperty,o=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,r,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),r=t.childNodes,o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(this.add_option(i,e,t.disabled));return o},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),n.select_to_array=function(t){var e,i,s,r,o;for(i=new n,o=t.childNodes,s=0,r=o.length;r>s;s++)e=o[s],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,n,s,r,o,a;for(e="",s=0,a=this.results_data,r=0,o=a.length;o>r&&(i=a[r],n="",n=i.group?this.result_add_group(i):this.result_add_option(i),""!==n&&(s++,e+=n),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(s>=this.max_shown_results));r++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,n,s;for(n=this.results_data,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.selected?s.push(t.selected=!1):s.push(void 0);return s},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,n,s,r,o,a,l,c,h,u;for(this.no_results_clear(),n=0,
r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),i=this.get_search_regex(t),u=this.results_data,c=0,h=u.length;h>c;c++)e=u[c],e.search_match=!1,s=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(s=this.results_data[e.group_array_index],0===s.active_options&&s.search_match&&(n+=1),s.active_options+=1),e.search_text=e.group?e.label:e.html,(!e.group||this.group_search)&&(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(n+=1),e.search_match?(r.length&&(o=e.search_text.search(l),a=e.search_text.substr(0,o+r.length)+"</em>"+e.search_text.substr(o+r.length),e.search_text=a.substr(0,o)+"<em>"+a.substr(o)),null!=s&&(s.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>n&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return e=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(e+t,i)},t.prototype.search_string_match=function(t,e){var i,n,s,r;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(n=t.replace(/\[|\]/g,"").split(" "),n.length))for(s=0,r=n.length;r>s;s++)if(i=n[s],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,i=n.length;i>e;e++)t=n[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(n){return e.browser_is_supported()?this.each(function(){var e,s;return e=t(this),s=e.data("chosen"),"destroy"===n?void(s instanceof i&&s.destroy()):void(s instanceof i||e.data("chosen",new i(this,n)))}):this}}),i=function(e){function i(){return s=i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,n,s,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),s=n+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),(e=i+this.result_highlight.outerHeight())>=s)return this.search_results.scrollTop(e-n>0?e-n:0);if(r>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,n,s=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(n=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),n.bind("click.chosen",function(t){return s.choice_destroy_link_click(t)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,n,s,r,o,a,l;if(this.is_multiple){for(0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=r.length;l>a;a++)n=r[a],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),o=e.width()+25,e.remove(),i=this.container.outerWidth(),o>i-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(e)}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return s(i||t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e){function i(t,e,i){for(i=i||document.documentElement;t&&t!==i;){if(n(t,e))return t;t=t.parentNode}return n(t,e)?t:null}try{var n=t("matches-selector")}catch(e){var n=t("component-matches-selector")}e.exports=i},{"component-matches-selector":2,"matches-selector":2}],2:[function(t,e){function i(t,e){if(!t||1!==t.nodeType)return!1;if(r)return r.call(t,e);for(var i=n.all(e,t.parentNode),s=0;s<i.length;++s)if(i[s]==t)return!0;return!1}try{var n=t("query")}catch(e){var n=t("component-query")}var s=Element.prototype,r=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector;e.exports=i},{"component-query":3,query:3}],3:[function(t,e,i){function n(t,e){return e.querySelector(t)}i=e.exports=function(t,e){return e=e||document,n(t,e)},i.all=function(t,e){return e=e||document,e.querySelectorAll(t)},i.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");return n=t.one,i.all=t.all,i}},{}],4:[function(t,e){function i(t,e,i,s,r){var o=n.apply(this,arguments);return t.addEventListener(i,o,r),{destroy:function(){t.removeEventListener(i,o,r)}}}function n(t,e,i,n){return function(i){i.delegateTarget=s(i.target,e,!0),i.delegateTarget&&n.call(t,i)}}var s=t("component-closest");e.exports=i},{"component-closest":1}],5:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e){function i(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(i))throw new TypeError("Third argument must be a Function");if(o.node(t))return n(t,e,i);if(o.nodeList(t))return s(t,e,i);if(o.string(t))return r(t,e,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function n(t,e,i){return t.addEventListener(e,i),{destroy:function(){t.removeEventListener(e,i)}}}function s(t,e,i){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,i)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,i)})}}}function r(t,e,i){return a(document.body,t,e,i)}var o=t("./is"),a=t("delegate");e.exports=i},{"./is":5,delegate:4}],7:[function(t,e){function i(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),e=i.toString()}return e}e.exports=i},{}],8:[function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){s.off(t,n),e.apply(i,arguments)}var s=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;for(n;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var r=0,o=n.length;r<o;r++)n[r].fn!==e&&n[r].fn._!==e&&s.push(n[r]);return s.length?i[t]=s:delete i[t],this}},e.exports=i},{}],9:[function(e,i,n){!function(s,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==n)r(i,e("select"));else{var o={exports:{}};r(o,s.select),s.clipboardAction=o.exports}}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,s["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,s["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},o(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:7}],10:[function(e,i,n){!function(s,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==n)r(i,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var o={exports:{}};r(o,s.clipboardAction,s.tinyEmitter,s.goodListener),s.clipboard=o.exports}}(this,function(t,e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var c=s(e),h=s(i),u=s(n),d=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this));return s.resolveOptions(n),s.listenClick(i),s}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,u["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(h["default"]);t.exports=d})},{"./clipboard-action":9,"good-listener":6,"tiny-emitter":8}]},{},[10])(10)}),$(document).on("click",".comments_body_link",function(){loadComments($(this).data("commentabletype"),$(this).data("commentableid"))}),$(document).on("click",".comment_reply_link",function(t){t.stopPropagation(),$("#comment_reply_form_"+$(this).data("commentid")).toggle()}),$(document).on("click",".comment_like_link",function(){var t=$(this).data("commentid"),e=$(this).data("likeaction");MINDSUMO_ajaxLoader.load("/comments/like_action.js",{comment_id:t,like_text:e},"GET",null,{dataType:"script"})}),MINDSUMO_utils.limitChars("#title_text_field",255,".title_text_field_left"),$(document).on("click",".contest_selector_option",function(){var t=$(this).data("category");if($(".contest_selector_option").removeClass("contest_selector_option_selected"),$(this).addClass("contest_selector_option_selected"),""!=t&&t!=undefined)var e="/challenges/"+t.toLowerCase();else var e="/challenges";history.replaceState(history.state,document.title,e+location.search),fetchChallenge(t,0,0,[]),"jobs"===t?$(".home_frame_heading").text("Take a look at current and past job opportunities"):$(".home_frame_heading").text("Take a look at current and past projects from our clients")}),$(document).on("click",".contests_load_more",function(){var t=$(this).data("nextpage"),e=$(this).data("category");$(this).children(".loading_refresh").addClass("fa-spin"),fetchChallenge(e,t,1,[$(this)]),$(".scroll_to_top_link").show(),MINDSUMO_document.autoLoadChallengeFeed=!0});var MINDSUMO_exitIntent={shown:!1,delay:1,showOnDelay:!1,cookieExp:30,cookieName:undefined,popupContentId:"",popupTriggerClass:"exit_event_link",
popupTriggerId:"exit_event_link",cookieManager:{create:function(t,e,i){return Cookies.set(t,e,{expires:i})},get:function(t){return Cookies.get(t)},erase:function(t){Cookies.remove(t,{})}},checkCookie:function(){return this.cookieName!=undefined&&(this.cookieExp<=0?(this.cookieManager.erase(this.cookieName),!1):"true"==this.cookieManager.get(this.cookieName)||(this.cookieManager.create(this.cookieName,"true",this.cookieExp),!1))},showPopup:function(){this.shown||this.popupContentId&&(ghostLink=document.createElement("a"),ghostLink.className=this.popupTriggerClass,ghostLink.id=this.popupTriggerId,ghostLink.dataset.fancybox="",ghostLink.dataset.src=this.popupContentId,ghostLink.style.display="none",document.body.appendChild(ghostLink),ghostLink.click(),this.shown=!0)},loadEvents:function(){document.addEventListener("mousemove",this.mouseMoveListener)},mouseMoveListener:function(t){var e=window.pageYOffset||document.documentElement.scrollTop;t.pageY-e<7&&MINDSUMO_exitIntent.showPopup()},setOptions:function(t){this.delay="undefined"==typeof t.delay?this.delay:t.delay,this.showOnDelay="undefined"==typeof t.showOnDelay?this.showOnDelay:t.showOnDelay,this.cookieExp="undefined"==typeof t.cookieExp?this.cookieExp:t.cookieExp,this.cookieName="undefined"==typeof t.cookieName?this.cookieName:t.cookieName,this.popupContentId="undefined"==typeof t.popupContentId?this.popupContentId:t.popupContentId,this.popupTriggerClass="undefined"==typeof t.popupTriggerClass?this.popupTriggerClass:t.popupTriggerClass,this.popupTriggerId="undefined"==typeof t.popupTriggerId?this.popupTriggerId:t.popupTriggerId},domReady:function(){"interactive"===document.readyState||"complete"===document.readyState?this.domReadyEvent():document.addEventListener("DOMContentLoaded",this.domReadyEvent)},domReadyEvent:function(){MINDSUMO_exitIntent.checkCookie()||setTimeout(function(){MINDSUMO_exitIntent.loadEvents(),MINDSUMO_exitIntent.domUnloadEvent(),MINDSUMO_exitIntent.showOnDelay&&MINDSUMO_exitIntent.showPopup()},1e3*MINDSUMO_exitIntent.delay)},domUnloadEvent:function(){document.addEventListener("page:before-unload",function(){document.removeEventListener("mousemove",MINDSUMO_exitIntent.mouseMoveListener),document.removeEventListener("DOMContentLoaded",MINDSUMO_exitIntent.domReadyEvent),MINDSUMO_exitIntent.shown=!1})},init:function(t){void 0!==t&&MINDSUMO_exitIntent.setOptions(t),this.domReady()}};$(document).ready(function(){$(document).on("click",".login_form_popup",function(){$("#login_form_box .login_form_container").show();var t=$(this).data("returntopath");null!=t&&t!=undefined?($("<input>").attr({type:"hidden","class":"returntopath",name:"r_to",value:t}).appendTo("#login_form_box form"),$("#login_form_box .form-social-connections a").each(function(){$(this).attr("href",$(this).attr("href").split("&redir")[0]+"&redir="+t)})):($("#login_form_box form .returntopath").remove(),$("#login_form_box .form-social-connections a").each(function(){$(this).attr("href",$(this).attr("href").split("&redir")[0])}));var e=$(this).data("actiontype");null!=e&&e!=undefined?$("<input>").attr({type:"hidden","class":"post_signup_action",name:"post_signup_action",value:e}).appendTo("#login_form_box form"):$("#login_form_box form .post_signup_action").remove()})}),$(document).ready(function(){updateStandingNumbers()}),$(document).on("submit","#home_suggest_actual_form",function(){$("#home_suggest_form_error_message").hide()}),function(t){function e(e){return t(e).filter(function(){return t(this).is(":appeared")})}function i(){r=!1;for(var t=0,i=s.length;t<i;t++){var n=e(s[t]);if(n.trigger("appear",[n]),l[t]){var o=l[t].not(n);o.trigger("disappear",[o])}l[t]=n}}function n(t){s.push(t),l.push()}var s=[],r=!1,o={interval:250,force_process:!1,scroll_selector:window},a=t(window),l=[];t.expr[":"].appeared=function(e){var i=t(e);if(!i.is(":visible"))return!1;var n=a.scrollLeft(),s=a.scrollTop(),r=i.offset(),o=r.left,l=r.top;return l+i.height()>=s&&l-(i.data("appear-top-offset")||0)<=s+a.height()&&o+i.width()>=n&&o-(i.data("appear-left-offset")||0)<=n+a.width()},t.fn.extend({appear:function(e){var s=t.extend({},o,e||{}),a=this.selector||this;if(void 0===t(s.scroll_selector).data("appear_binded")){var l=function(){r||(r=!0,setTimeout(i,s.interval))};t(s.scroll_selector).on("scroll",l),t(s.scroll_selector).data("appear_binded",!0)}return s.force_process&&setTimeout(i,s.interval),n(a),t(a)}}),t.extend({force_appear:function(e){var n=t.extend({},o,e||{});return void 0!==t(n.scroll_selector).data("appear_binded")&&(i(),!0)}})}(function(){return"undefined"!=typeof module?require("jquery"):jQuery}()),jQuery&&function(t){function e(e,s){var r=e?t(this):s,o=t(r.attr("data-jq-dropdown")),a=r.hasClass("jq-dropdown-open");if(e){if(t(e.target).hasClass("jq-dropdown-ignore"))return;e.preventDefault(),e.stopPropagation()}else if(r!==s.target&&t(s.target).hasClass("jq-dropdown-ignore"))return;i(),a||r.hasClass("jq-dropdown-disabled")||(r.addClass("jq-dropdown-open"),o.data("jq-dropdown-trigger",r).show(),n(),o.trigger("show",{jqDropdown:o,trigger:r}))}function i(e){var i=e?t(e.target).parents().addBack():null;if(i&&i.is(".jq-dropdown")){if(!i.is(".jq-dropdown-menu"))return;if(!i.is("A"))return}t(document).find(".jq-dropdown:visible").each(function(){var e=t(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),t(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open")}function n(){var e=t(".jq-dropdown:visible").eq(0),i=e.data("jq-dropdown-trigger"),n=i?parseInt(i.attr("data-horizontal-offset")||0,10):null,s=i?parseInt(i.attr("data-vertical-offset")||0,10):null;0!==e.length&&i&&e.css(e.hasClass("jq-dropdown-relative")?{left:e.hasClass("jq-dropdown-anchor-right")?i.position().left-(e.outerWidth(!0)-i.outerWidth(!0))-parseInt(i.css("margin-right"),10)+n:i.position().left+parseInt(i.css("margin-left"),10)+n,top:i.position().top+i.outerHeight(!0)-parseInt(i.css("margin-top"),10)+s}:{left:e.hasClass("jq-dropdown-anchor-right")?i.offset().left-(e.outerWidth()-i.outerWidth())+n:i.offset().left+n,top:i.offset().top+i.outerHeight()+s})}t.extend(t.fn,{jqDropdown:function(n,s){switch(n){case"show":return e(null,t(this)),t(this);case"hide":return i(),t(this);case"attach":return t(this).attr("data-jq-dropdown",s);case"detach":return i(),t(this).removeAttr("data-jq-dropdown");case"disable":return t(this).addClass("jq-dropdown-disabled");case"enable":return i(),t(this).removeClass("jq-dropdown-disabled")}}}),t(document).on("click.jq-dropdown","[data-jq-dropdown]",e),t(document).on("click.jq-dropdown",i),t(window).on("resize",n)}(jQuery),function(t,e,i,n){"use strict";function s(t){var e=t.currentTarget,n=t.data?t.data.options:{},s=t.data?t.data.items:[],r=i(e).attr("data-fancybox")||"",o=0;t.preventDefault(),t.stopPropagation(),r?(s=s.length?s.filter('[data-fancybox="'+r+'"]'):i('[data-fancybox="'+r+'"]'),(o=s.index(e))<0&&(o=0)):s=[e],i.fancybox.open(s,n,o)}if(i){if(i.fn.fancybox)return void i.error("fancyBox already initialized");var r={loop:!1,margin:[44,0],gutter:50,keyboard:!0,arrows:!0,infobar:!1,toolbar:!0,buttons:["slideShow","fullScreen","thumbs","close"],idleTime:4,smallBtn:"auto",protect:!1,modal:!1,image:{preload:"auto"},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}<p></div>',btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>'},parentEl:"body",autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0},onInit:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,onActivate:i.noop,onDeactivate:i.noop,clickContent:function(t){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{clickContent:function(t){return"image"===t.type&&"toggleControls"},clickSlide:function(t){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t){return"image"===t.type&&"zoom"},dblclickSlide:function(t){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder"}}},o=i(t),a=i(e),l=0,c=function(t){return t&&t.hasOwnProperty&&t instanceof i},h=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){var t,i=e.createElement("fakeelement"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in s)if(i.style[t]!==n)return s[t]}(),d=function(t){return t&&t.length&&t[0].offsetHeight},p=function(t,n,s){var o=this;o.opts=i.extend(!0,{index:s},r,n||{}),n&&i.isArray(n.buttons)&&(o.opts.buttons=n.buttons),o.id=o.opts.id||++l,o.group=[],o.currIndex=parseInt(o.opts.index,10)||0,o.prevIndex=null,o.prevPos=null,o.currPos=0,o.firstRun=null,o.createGroup(t),o.group.length&&(o.$lastFocus=i(e.activeElement).blur(),o.slides={},o.init(t))};i.extend(p.prototype,{init:function(){var t,e,n,s=this,r=s.group[s.currIndex].opts;s.scrollTop=a.scrollTop(),s.scrollLeft=a.scrollLeft(),i.fancybox.getInstance()||i.fancybox.isMobile||"hidden"===i("body").css("overflow")||(t=i("body").width(),i("html").addClass("fancybox-enabled"),(t=i("body").width()-t)>1&&i("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: '+t+"px; }</style>")),n="",i.each(r.buttons,function(t,e){n+=r.btnTpl[e]||""}),e=i(s.translate(s,r.baseTpl.replace("{{BUTTONS}}",n))).addClass("fancybox-is-hidden").attr("id","fancybox-container-"+s.id).addClass(r.baseClass).data("FancyBox",s).prependTo(r.parentEl),s.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption"].forEach(function(t){s.$refs[t]=e.find(".fancybox-"+t)}),(!r.arrows||s.group.length<2)&&e.find(".fancybox-navigation").remove(),r.infobar||s.$refs.infobar.remove(),r.toolbar||s.$refs.toolbar.remove(),s.trigger("onInit"),s.activate(),s.jumpTo(s.currIndex)},translate:function(t,e){var i=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var s=i[e];return s===n?t:s})},createGroup:function(t){var e=this,s=i.makeArray(t);i.each(s,function(t,s){var r,o,a,l,c={},h={},u=[];i.isPlainObject(s)?(c=s,h=s.opts||s):"object"===i.type(s)&&i(s).length?(r=i(s),u=r.data(),h="options"in u?u.options:{},h="object"===i.type(h)?h:{},c.src="src"in u?u.src:h.src||r.attr("href"),["width","height","thumb","type","filter"].forEach(function(t){t in u&&(h[t]=u[t])}),"srcset"in u&&(h.image={srcset:u.srcset}),h.$orig=r,c.type||c.src||(c.type="inline",c.src=s)):c={type:"html",src:s+""},c.opts=i.extend(!0,{},e.opts,h),i.fancybox.isMobile&&(c.opts=i.extend(!0,{},c.opts,c.opts.mobile)),o=c.type||c.opts.type,a=c.src||"",!o&&a&&(a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":a.match(/\.(pdf)((\?|#).*)?$/i)?o="pdf":"#"===a.charAt(0)&&(o="inline")),c.type=o,c.index=e.group.length,c.opts.$orig&&!c.opts.$orig.length&&delete c.opts.$orig,!c.opts.$thumb&&c.opts.$orig&&(c.opts.$thumb=c.opts.$orig.find("img:first")),c.opts.$thumb&&!c.opts.$thumb.length&&delete c.opts.$thumb,"function"===i.type(c.opts.caption)?c.opts.caption=c.opts.caption.apply(s,[e,c]):"caption"in u&&(c.opts.caption=u.caption),c.opts.caption=c.opts.caption===n?"":c.opts.caption+"","ajax"===o&&(l=a.split(/\s+/,2),l.length>1&&(c.src=l.shift(),c.opts.filter=l.shift())),"auto"==c.opts.smallBtn&&(i.inArray(o,["html","inline","ajax"])>-1?(c.opts.toolbar=!1,c.opts.smallBtn=!0):c.opts.smallBtn=!1),"pdf"===o&&(c.type="iframe",c.opts.iframe.preload=!1),c.opts.modal&&(c.opts=i.extend(!0,c.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),e.group.push(c)})},addEvents:function(){var n=this;n.removeEvents(),n.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),n.close(t)}).on("click.fb-prev touchend.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),n.previous()}).on("click.fb-next touchend.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),n.next()}),o.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?h(function(){n.update()}):(n.$refs.stage.hide(),setTimeout(function(){n.$refs.stage.show(),n.update()},500))}),a.on("focusin.fb",function(t){var s=i.fancybox?i.fancybox.getInstance():null;s.isClosing||!s.current||!s.current.opts.trapFocus||i(t.target).hasClass("fancybox-container")||i(t.target).is(e)||s&&"fixed"!==i(t.target).css("position")&&!s.$refs.container.has(t.target).length&&(t.stopPropagation(),s.focus(),o.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft))}),a.on("keydown.fb",function(t){var e=n.current,s=t.keyCode||t.which;if(e&&e.opts.keyboard&&!i(t.target).is("input")&&!i(t.target).is("textarea"))return 8===s||27===s?(t.preventDefault(),void n.close(t)):37===s||38===s?(t.preventDefault(),void n.previous()):39===s||40===s?(t.preventDefault(),void n.next()):void n.trigger("afterKeydown",t,s)}),n.group[n.currIndex].opts.idleTime&&(n.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(){n.idleSecondsCounter=0,n.isIdle&&n.showControls(),n.isIdle=!1}),n.idleInterval=t.setInterval(function(){++n.idleSecondsCounter>=n.group[n.currIndex].opts.idleTime&&(n.isIdle=!0,n.idleSecondsCounter=0,n.hideControls())},1e3))},removeEvents:function(){var e=this;o.off("orientationchange.fb resize.fb"),a.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var s,r,o,a,l,c,h,u=this,p=u.group.length;if(!(u.isSliding||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),!(r=u.current?u.current.opts.loop:u.opts.loop)&&(t<0||t>=p))return!1;if(s=u.firstRun=null===u.firstRun,!(p<2&&!s&&u.isSliding)){if(a=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,o=u.createSlide(t),p>1&&((r||o.index>0)&&u.createSlide(t-1),(r||o.index<p-1)&&u.createSlide(t+1)),u.current=o,u.currIndex=o.index,u.currPos=o.pos,u.trigger("beforeShow",s),u.updateControls(),c=i.fancybox.getTranslate(o.$slide),o.isMoved=(0!==c.left||0!==c.top)&&!o.$slide.hasClass("fancybox-animated"),o.forcedDuration=n,i.isNumeric(e)?o.forcedDuration=e:e=o.opts[s?"animationDuration":"transitionDuration"],e=parseInt(e,10),s)return o.opts.animationEffect&&e&&u.$refs.container.css("transition-duration",e+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),d(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),o.$slide.addClass("fancybox-slide--current"),u.loadSlide(o),void u.preload();i.each(u.slides,function(t,e){i.fancybox.stop(e.$slide)}),o.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),o.isMoved?(l=Math.round(o.$slide.width()),i.each(u.slides,function(t,n){var s=n.pos-o.pos;i.fancybox.animate(n.$slide,{top:0,left:s*l+s*n.opts.gutter},e,function(){n.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),n.pos===u.currPos&&(o.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style"),o.isLoaded?u.revealContent(o):u.loadSlide(o),u.preload(),a.pos!==o.pos&&(h="fancybox-slide--"+(a.pos>o.pos?"next":"previous"),a.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),a.isComplete=!1,e&&(o.isMoved||o.opts.transitionEffect)&&(o.isMoved?a.$slide.addClass(h):(h="fancybox-animated "+h+" fancybox-fx-"+o.opts.transitionEffect,i.fancybox.animate(a.$slide,h,e,function(){a.$slide.removeClass(h).removeAttr("style")}))))}}},createSlide:function(t){var e,n,s=this;return n=t%s.group.length,n=n<0?s.group.length+n:n,!s.slides[t]&&s.group[n]&&(e=i('<div class="fancybox-slide"></div>').appendTo(s.$refs.stage),s.slides[t]=i.extend(!0,{},s.group[n],{pos:t,$slide:e,isLoaded:!1}),s.updateSlide(s.slides[t])),s.slides[t]},scaleToActual:function(t,e,s){var r,o,a,l,c,h=this,u=h.current,d=u.$content,p=parseInt(u.$slide.width(),10),f=parseInt(u.$slide.height(),10),g=u.width,m=u.height;"image"!=u.type||u.hasError||!d||h.isAnimating||(i.fancybox.stop(d),h.isAnimating=!0,t=t===n?.5*p:t,e=e===n?.5*f:e,r=i.fancybox.getTranslate(d),l=g/r.width,c=m/r.height,o=.5*p-.5*g,a=.5*f-.5*m,g>p&&(o=r.left*l-(t*l-t),o>0&&(o=0),o<p-g&&(o=p-g)),m>f&&(a=r.top*c-(e*c-e),a>0&&(a=0),a<f-m&&(a=f-m)),h.updateCursor(g,m),i.fancybox.animate(d,{top:a,left:o,scaleX:l,scaleY:c},s||330,function(){h.isAnimating=!1}),h.SlideShow&&h.SlideShow.isActive&&h.SlideShow.stop())},scaleToFit:function(t){var e,n=this,s=n.current,r=s.$content;"image"!=s.type||s.hasError||!r||n.isAnimating||(i.fancybox.stop(r),n.isAnimating=!0,e=n.getFitPos(s),n.updateCursor(e.width,e.height),i.fancybox.animate(r,{top:e.top,left:e.left,scaleX:e.width/r.width(),scaleY:e.height/r.height()},t||330,function(){n.isAnimating=!1}))},getFitPos:function(t){var e,n,s,r,a,l=this,c=t.$content,h=t.width,u=t.height,d=t.opts.margin;return!(!c||!c.length||!h&&!u)&&("number"===i.type(d)&&(d=[d,d]),2==d.length&&(d=[d[0],d[1],d[0],d[1]]),o.width()<800&&(d=[0,0,0,0]),e=parseInt(l.$refs.stage.width(),10)-(d[1]+d[3]),n=parseInt(l.$refs.stage.height(),10)-(d[0]+d[2]),s=Math.min(1,e/h,n/u),r=Math.floor(s*h),a=Math.floor(s*u),{top:Math.floor(.5*(n-a))+d[0],left:Math.floor(.5*(e-r))+d[3],width:r,height:a})},update:function(){var t=this;i.each(t.slides,function(e,i){t.updateSlide(i)})},updateSlide:function(t){var e=this,n=t.$content;n&&(t.width||t.height)&&(i.fancybox.stop(n),i.fancybox.setTranslate(n,e.getFitPos(t)),t.pos===e.currPos&&e.updateCursor()),t.$slide.trigger("refresh"),e.trigger("onUpdate",t)},updateCursor:function(t,e){var i,s=this,r=s.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");s.current&&!s.isClosing&&(s.isZoomable()?(r.addClass("fancybox-is-zoomable"),i=t!==n&&e!==n?t<s.current.width&&e<s.current.height:s.isScaledDown(),i?r.addClass("fancybox-can-zoomIn"):s.current.opts.touch?r.addClass("fancybox-can-drag"):r.addClass("fancybox-can-zoomOut")):s.current.opts.touch&&r.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing)return!!("image"===n.type&&n.isLoaded&&!n.hasError&&("zoom"===n.opts.clickContent||i.isFunction(n.opts.clickContent)&&"zoom"===n.opts.clickContent(n))&&(t=e.getFitPos(n),n.width>t.width||n.height>t.height))},isScaledDown:function(){var t=this,e=t.current,n=e.$content,s=!1;return n&&(s=i.fancybox.getTranslate(n),s=s.width<e.width||s.height<e.height),s},canPan:function(){var t=this,e=t.current,i=e.$content,n=!1;return i&&(n=t.getFitPos(e),n=Math.abs(i.width()-n.width)>1||Math.abs(i.height()-n.height)>1),n},loadSlide:function(t){var e,n,s,r=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,r.trigger("beforeLoad",t),e=t.type,n=t.$slide,n.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),e){case"image":r.setImage(t);break;case"iframe":r.setIframe(t);break;case"html":r.setContent(t,t.src||t.content);break;case"inline":i(t.src).length?r.setContent(t,i(t.src)):r.setError(t);break;case"ajax":r.showLoading(t),s=i.ajax(i.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,i){"success"===i&&r.setContent(t,e)},error:function(e,i){e&&"abort"!==i&&r.setError(t)}})),n.one("onReset",function(){s.abort()});break;default:r.setError(t)}return!0}},setImage:function(e){var n,s,r,o,a=this,l=e.opts.image.srcset;if(l){r=t.devicePixelRatio||1,o=t.innerWidth*r,s=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,i){var n=parseInt(t.substring(0,t.length-1),10);return 0===i?e.url=t:void(n&&(e.value=n,e.postfix=t[t.length-1]))}),e}),s.sort(function(t,e){return t.value-e.value});for(var c=0;c<s.length;c++){var h=s[c];if("w"===h.postfix&&h.value>=o||"x"===h.postfix&&h.value>=r){n=h;break}}!n&&s.length&&(n=s[s.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value))}e.$content=i('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&(e.opts.thumb||e.opts.$thumb)?(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=i("<img />").one("error",function(){i(this).remove(),e.$ghost=null,a.setBigImage(e)}).one("load",function(){a.afterLoad(e),a.setBigImage(e)}).addClass("fancybox-image").appendTo(e.$content).attr("src",e.opts.thumb||e.opts.$thumb.attr("src"))):a.setBigImage(e)},setBigImage:function(t){var e=this,n=i("<img />");t.$image=n.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&n.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.hideLoading(t),t.$ghost?t.timouts=setTimeout(function(){t.timouts=null,t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))):e.afterLoad(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),n[0].complete?n.trigger("load"):n[0].error?n.trigger("error"):t.timouts=setTimeout(function(){n[0].complete||t.hasError||e.showLoading(t)},100)},setIframe:function(t){var e,s=this,r=t.opts.iframe,o=t.$slide;t.$content=i('<div class="fancybox-content'+(r.preload?" fancybox-is-hidden":"")+'"></div>').css(r.css).appendTo(o),e=i(r.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(r.attr).appendTo(t.$content),r.preload?(s.showLoading(t),e.on("load.fb error.fb",function(){this.isReady=1,t.$slide.trigger("refresh"),s.afterLoad(t)}),o.on("refresh.fb",function(){var i,s,o,a,l,c=t.$content;if(1===e[0].isReady){try{i=e.contents(),s=i.find("body")}catch(t){}s&&s.length&&(r.css.width===n||r.css.height===n)&&(o=e[0].contentWindow.document.documentElement.scrollWidth,a=Math.ceil(s.outerWidth(!0)+(c.width()-o)),l=Math.ceil(s.outerHeight(!0)),c.css({width:r.css.width===n?a+(c.outerWidth()-c.innerWidth()):r.css.width,height:r.css.height===n?l+(c.outerHeight()-c.innerHeight()):r.css.height})),c.removeClass("fancybox-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),!0===t.opts.smallBtn&&t.$content.prepend(s.translate(t,t.opts.btnTpl.smallBtn)),o.one("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank")}catch(t){}i(this).empty(),t.isLoaded=!1})},setContent:function(t,e){var n=this;n.isClosing||(n.hideLoading(t),t.$slide.empty(),c(e)&&e.parent().length?(e.parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=i("<div></div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===i.type(e)&&(e=i("<div>").append(i.trim(e)).contents(),3===e[0].nodeType&&(e=i("<div>").html(e))),t.opts.filter&&(e=i("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(i(this).empty(),t.isLoaded=!1)}),t.$content=i(e).appendTo(t.$slide),t.opts.smallBtn&&!t.$smallBtn&&(t.$smallBtn=i(n.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.removeClass("fancybox-slide--"+t.type),this.setContent(t,this.translate(t,t.opts.errorTpl))},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=i(e.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&i('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,s,r,o,a,l=this,c=t.$slide,h=!1;return e=t.opts[l.firstRun?"animationEffect":"transitionEffect"],r=t.opts[l.firstRun?"animationDuration":"transitionDuration"],r=parseInt(t.forcedDuration===n?r:t.forcedDuration,10),!t.isMoved&&t.pos===l.currPos&&r||(e=!1),"zoom"!==e||t.pos===l.currPos&&r&&"image"===t.type&&!t.hasError&&(h=l.getThumbPos(t))||(e="fade"),"zoom"===e?(a=l.getFitPos(t),a.scaleX=Math.round(a.width/h.width*100)/100,a.scaleY=Math.round(a.height/h.height*100)/100,delete a.width,delete a.height,o=t.opts.zoomOpacity,"auto"==o&&(o=Math.abs(t.width/t.height-h.width/h.height)>.1),o&&(h.opacity=.1,a.opacity=1),i.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),h),d(t.$content),void i.fancybox.animate(t.$content,a,r,function(){l.complete()})):(l.updateSlide(t),e?(i.fancybox.stop(c),s="fancybox-animated fancybox-slide--"+(t.pos>l.prevPos?"next":"previous")+" fancybox-fx-"+e,c.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(s),t.$content.removeClass("fancybox-is-hidden"),d(c),void i.fancybox.animate(c,"fancybox-slide--current",r,function(){c.removeClass(s).removeAttr("style"),t.pos===l.currPos&&l.complete()},!0)):(d(c),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===l.currPos&&l.complete())))},getThumbPos:function(n){var s,r=this,o=!1,a=function(e){for(var n=e[0],s=n.getBoundingClientRect(),r=[];null!==n.parentElement;)"hidden"!==i(n.parentElement).css("overflow")&&"auto"!==i(n.parentElement).css("overflow")||r.push(n.parentElement.getBoundingClientRect()),n=n.parentElement;return r.every(function(t){var e=Math.min(s.right,t.right)-Math.max(s.left,t.left),i=Math.min(s.bottom,t.bottom)-Math.max(s.top,t.top);return e>0&&i>0})&&s.bottom>0&&s.right>0&&s.left<i(t).width()&&s.top<i(t).height()},l=n.opts.$thumb,c=l?l.offset():0;return c&&l[0].ownerDocument===e&&a(l)&&(s=r.$refs.stage.offset(),o={top:c.top-s.top+parseFloat(l.css("border-top-width")||0),left:c.left-s.left+parseFloat(l.css("border-left-width")||0),width:l.width(),height:l.height(),scaleX:1,scaleY:1}),o},complete:function(){var t=this,n=t.current,s={};n.isMoved||!n.isLoaded||n.isComplete||(n.isComplete=!0,n.$slide.siblings().trigger("onReset"),d(n.$slide),n.$slide.addClass("fancybox-slide--complete"),i.each(t.slides,function(e,n){n.pos>=t.currPos-1&&n.pos<=t.currPos+1?s[n.pos]=n:n&&(i.fancybox.stop(n.$slide),n.$slide.unbind().remove())}),t.slides=s,t.updateCursor(),t.trigger("afterShow"),(i(e.activeElement).is("[disabled]")||n.opts.autoFocus&&"image"!=n.type&&"iframe"!==n.type)&&t.focus())},preload:function(){var t,e,i=this;i.group.length<2||(t=i.slides[i.currPos+1],e=i.slides[i.currPos-1],t&&"image"===t.type&&i.loadSlide(t),e&&"image"===e.type&&i.loadSlide(e))},focus:function(){var t,e=this.current;this.isClosing||(t=e&&e.isComplete?e.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first"):null,t=t&&t.length?t:this.$refs.container,t.focus())},activate:function(){var t=this;i(".fancybox-container").each(function(){var e=i(this).data("FancyBox");e&&e.uid!==t.uid&&!e.isClosing&&e.trigger("onDeactivate")}),t.current&&(t.$refs.container.index()>0&&t.$refs.container.prependTo(e.body),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var n,s,r,o,a,l,c=this,d=c.current,p=function(){c.cleanUp(t)};return!(c.isClosing||(c.isClosing=!0,!1===c.trigger("beforeClose",t)?(c.isClosing=!1,h(function(){c.update()}),1):(c.removeEvents(),d.timouts&&clearTimeout(d.timouts),r=d.$content,n=d.opts.animationEffect,s=i.isNumeric(e)?e:n?d.opts.animationDuration:0,d.$slide.off(u).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),d.$slide.siblings().trigger("onReset").remove(),s&&c.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),c.hideLoading(d),c.hideControls(),c.updateCursor(),"zoom"!==n||!0!==t&&r&&s&&"image"===d.type&&!d.hasError&&(l=c.getThumbPos(d))||(n="fade"),"zoom"===n?(i.fancybox.stop(r),a=i.fancybox.getTranslate(r),a.width=a.width*a.scaleX,a.height=a.height*a.scaleY,o=d.opts.zoomOpacity,"auto"==o&&(o=Math.abs(d.width/d.height-l.width/l.height)>.1),o&&(l.opacity=0),a.scaleX=a.width/l.width,a.scaleY=a.height/l.height,a.width=l.width,a.height=l.height,i.fancybox.setTranslate(d.$content,a),i.fancybox.animate(d.$content,l,s,p),0):(n&&s?!0===t?setTimeout(p,s):i.fancybox.animate(d.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+n,s,p):p(),0))))},cleanUp:function(t){var e,n=this;n.current.$slide.trigger("onReset"),n.$refs.container.empty().remove(),n.trigger("afterClose",t),n.$lastFocus&&!n.current.focusBack&&n.$lastFocus.focus(),n.current=null,e=i.fancybox.getInstance(),e?e.activate():(o.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft),i("html").removeClass("fancybox-enabled"),i("#fancybox-style-noscroll").remove())},trigger:function(t,e){var n,s=Array.prototype.slice.call(arguments,1),r=this,o=e&&e.opts?e:r.current;return o?s.unshift(o):o=r,s.unshift(r),i.isFunction(o.opts[t])&&(n=o.opts[t].apply(o,s)),!1===n?n:void("afterClose"===t?a.trigger(t+".fb",s):r.$refs.container.trigger(t+".fb",s))},updateControls:function(){var t=this,e=t.current,n=e.index,s=e.opts,r=s.caption,o=t.$refs.caption;e.$slide.trigger("refresh"),t.$caption=r&&r.length?o.html(r):null,t.isHiddenControls||t.showControls(),i("[data-fancybox-count]").html(t.group.length),i("[data-fancybox-index]").html(n+1),i("[data-fancybox-prev]").prop("disabled",!s.loop&&n<=0),i("[data-fancybox-next]").prop("disabled",!s.loop&&n>=t.group.length-1)},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,i=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,
i.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal),t.$caption?i.addClass("fancybox-show-caption "):i.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),i.fancybox={version:"3.1.20",defaults:r,getInstance:function(t){var e=i('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof p&&("string"===i.type(t)?e[t].apply(e,n):"function"===i.type(t)&&t.apply(e,n),e)},open:function(t,e,i){return new p(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),a.off("click.fb-start")},isMobile:e.createTouch!==n&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:function(){var i=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(i).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;if(!t||!t.length)return!1;if(e=t.eq(0).css("transform"),e&&-1!==e.indexOf("matrix")?(e=e.split("(")[1],e=e.split(")")[0],e=e.split(",")):e=[],e.length)e=e.length>10?[e[13],e[12],e[0],e[5]]:[e[5],e[4],e[0],e[3]],e=e.map(parseFloat);else{e=[0,0,1,1];var i=/\.*translate\((.*)px,(.*)px\)/i,n=i.exec(t.eq(0).attr("style"));n&&(e[0]=parseFloat(n[2]),e[1]=parseFloat(n[1]))}return{top:e[0],left:e[1],scaleX:e[2],scaleY:e[3],opacity:parseFloat(t.css("opacity")),width:t.width(),height:t.height()}},setTranslate:function(t,e){var i="",s={};if(t&&e)return e.left===n&&e.top===n||(i=(e.left===n?t.position().left:e.left)+"px, "+(e.top===n?t.position().top:e.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),e.scaleX!==n&&e.scaleY!==n&&(i=(i.length?i+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),i.length&&(s.transform=i),e.opacity!==n&&(s.opacity=e.opacity),e.width!==n&&(s.width=e.width),e.height!==n&&(s.height=e.height),t.css(s)},animate:function(t,e,s,r,o){var a=u||"transitionend";i.isFunction(s)&&(r=s,s=null),i.isPlainObject(e)||t.removeAttr("style"),t.on(a,function(s){(!s||!s.originalEvent||t.is(s.originalEvent.target)&&"z-index"!=s.originalEvent.propertyName)&&(t.off(a),i.isPlainObject(e)?e.scaleX!==n&&e.scaleY!==n&&(t.css("transition-duration","0ms"),e.width=t.width()*e.scaleX,e.height=t.height()*e.scaleY,e.scaleX=1,e.scaleY=1,i.fancybox.setTranslate(t,e)):!0!==o&&t.removeClass(e),i.isFunction(r)&&r(s))}),i.isNumeric(s)&&t.css("transition-duration",s+"ms"),i.isPlainObject(e)?i.fancybox.setTranslate(t,e):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},s+16))},stop:function(t){clearTimeout(t.data("timer")),t.off(u)}},i.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?i("body").off("click.fb-start",e).on("click.fb-start",e,{items:i(e),options:t},s):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},s),this},a.on("click.fb-start","[data-fancybox]",s)}}(window,document,window.jQuery),function(t){"use strict";var e=function(e,i,n){if(e)return n=n||"","object"===t.type(n)&&(n=t.param(n,!0)),t.each(i,function(t,i){e=e.replace("$"+t,i||"")}),n.length&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},i={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12])+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}}};t(document).on("onInit.fb",function(n,s){t.each(s.group,function(n,s){var r,o,a,l,c,h,u,d=s.src||"",p=!1;s.type||(r=t.extend(!0,{},i,s.opts.media),t.each(r,function(i,n){if(a=d.match(n.matcher),h={},u=i,a){if(p=n.type,n.paramPlace&&a[n.paramPlace]){c=a[n.paramPlace],"?"==c[0]&&(c=c.substring(1)),c=c.split("&");for(var r=0;r<c.length;++r){var f=c[r].split("=",2);2==f.length&&(h[f[0]]=decodeURIComponent(f[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},n.params,s.opts[i],h),d="function"===t.type(n.url)?n.url.call(this,a,l,s):e(n.url,a,l),o="function"===t.type(n.thumb)?n.thumb.call(this,a,l,s):e(n.thumb,a),"vimeo"===u&&(d=d.replace("&%23","#")),!1}}),p?(s.src=d,s.type=p,s.opts.thumb||s.opts.$thumb&&s.opts.$thumb.length||(s.opts.thumb=o),"iframe"===p&&(t.extend(!0,s.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}}),s.contentProvider=u,s.opts.slideClass+=" fancybox-slide--"+("google_maps"==u?"map":"video"))):s.type="image")})})}(window.jQuery),function(t,e,i){"use strict";var n=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),s=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),r=function(e){var i=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var n in e)e[n].pageX?i.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&i.push({x:e[n].clientX,y:e[n].clientY});return i},o=function(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},a=function(t){if(t.is("a,button,input,select,textarea")||i.isFunction(t.get(0).onclick))return!0;for(var e=0,n=t[0].attributes,s=n.length;e<s;e++)if("data-fancybox-"===n[e].nodeName.substr(0,14))return!0;return!1},l=function(e){var i=t.getComputedStyle(e)["overflow-y"],n=t.getComputedStyle(e)["overflow-x"],s=("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,r=("scroll"===n||"auto"===n)&&e.scrollWidth>e.clientWidth;return s||r},c=function(t){for(var e=!1;!(e=l(t.get(0)))&&(t=t.parent(),t.length&&!t.hasClass("fancybox-stage")&&!t.is("body")););return e},h=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",i.proxy(e,"ontouchstart"))};h.prototype.destroy=function(){this.$container.off(".fb.touch")},h.prototype.ontouchstart=function(n){var s=this,l=i(n.target),h=s.instance,u=h.current,d=u.$content,p="touchstart"==n.type;if(p&&s.$container.off("mousedown.fb.touch"),!u||s.instance.isAnimating||s.instance.isClosing)return n.stopPropagation(),void n.preventDefault();if((!n.originalEvent||2!=n.originalEvent.button)&&l.length&&!a(l)&&!a(l.parent())&&!(n.originalEvent.clientX>l[0].clientWidth+l.offset().left)&&(s.startPoints=r(n),s.startPoints&&!(s.startPoints.length>1&&h.isSliding))){if(s.$target=l,s.$content=d,s.canTap=!0,i(e).off(".fb.touch"),i(e).on(p?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",i.proxy(s,"ontouchend")),i(e).on(p?"touchmove.fb.touch":"mousemove.fb.touch",i.proxy(s,"ontouchmove")),n.stopPropagation(),!h.current.opts.touch&&!h.canPan()||!l.is(s.$stage)&&!s.$stage.find(l).length)return void(l.is("img")&&n.preventDefault());i.fancybox.isMobile&&(c(s.$target)||c(s.$target.parent()))||n.preventDefault(),s.canvasWidth=Math.round(u.$slide[0].clientWidth),s.canvasHeight=Math.round(u.$slide[0].clientHeight),s.startTime=(new Date).getTime(),s.distanceX=s.distanceY=s.distance=0,s.isPanning=!1,s.isSwiping=!1,s.isZooming=!1,s.sliderStartPos=s.sliderLastPos||{top:0,left:0},s.contentStartPos=i.fancybox.getTranslate(s.$content),s.contentLastPos=null,1!==s.startPoints.length||s.isZooming||(s.canTap=!h.isSliding,"image"===u.type&&(s.contentStartPos.width>s.canvasWidth+1||s.contentStartPos.height>s.canvasHeight+1)?(i.fancybox.stop(s.$content),s.$content.css("transition-duration","0ms"),s.isPanning=!0):s.isSwiping=!0,s.$container.addClass("fancybox-controls--isGrabbing")),2!==s.startPoints.length||h.isAnimating||u.hasError||"image"!==u.type||!u.isLoaded&&!u.$ghost||(s.isZooming=!0,s.isSwiping=!1,s.isPanning=!1,i.fancybox.stop(s.$content),s.$content.css("transition-duration","0ms"),s.centerPointStartX=.5*(s.startPoints[0].x+s.startPoints[1].x)-i(t).scrollLeft(),s.centerPointStartY=.5*(s.startPoints[0].y+s.startPoints[1].y)-i(t).scrollTop(),s.percentageOfImageAtPinchPointX=(s.centerPointStartX-s.contentStartPos.left)/s.contentStartPos.width,s.percentageOfImageAtPinchPointY=(s.centerPointStartY-s.contentStartPos.top)/s.contentStartPos.height,s.startDistanceBetweenFingers=o(s.startPoints[0],s.startPoints[1]))}},h.prototype.ontouchmove=function(t){var e=this;if(e.newPoints=r(t),i.fancybox.isMobile&&(c(e.$target)||c(e.$target.parent())))return t.stopPropagation(),void(e.canTap=!1);if((e.instance.current.opts.touch||e.instance.canPan())&&e.newPoints&&e.newPoints.length&&(e.distanceX=o(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=o(e.newPoints[0],e.startPoints[0],"y"),e.distance=o(e.newPoints[0],e.startPoints[0]),e.distance>0)){if(!e.$target.is(e.$stage)&&!e.$stage.find(e.$target).length)return;t.stopPropagation(),t.preventDefault(),e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()}},h.prototype.onSwipe=function(){var e,r=this,o=r.isSwiping,a=r.sliderStartPos.left||0;!0===o?Math.abs(r.distance)>10&&(r.canTap=!1,r.instance.group.length<2&&r.instance.opts.touch.vertical?r.isSwiping="y":r.instance.isSliding||!1===r.instance.opts.touch.vertical||"auto"===r.instance.opts.touch.vertical&&i(t).width()>800?r.isSwiping="x":(e=Math.abs(180*Math.atan2(r.distanceY,r.distanceX)/Math.PI),r.isSwiping=e>45&&e<135?"y":"x"),r.instance.isSliding=r.isSwiping,r.startPoints=r.newPoints,i.each(r.instance.slides,function(t,e){i.fancybox.stop(e.$slide),e.$slide.css("transition-duration","0ms"),e.inTransition=!1,e.pos===r.instance.current.pos&&(r.sliderStartPos.left=i.fancybox.getTranslate(e.$slide).left)}),r.instance.SlideShow&&r.instance.SlideShow.isActive&&r.instance.SlideShow.stop()):("x"==o&&(r.distanceX>0&&(r.instance.group.length<2||0===r.instance.current.index&&!r.instance.current.opts.loop)?a+=Math.pow(r.distanceX,.8):r.distanceX<0&&(r.instance.group.length<2||r.instance.current.index===r.instance.group.length-1&&!r.instance.current.opts.loop)?a-=Math.pow(-r.distanceX,.8):a+=r.distanceX),r.sliderLastPos={top:"x"==o?0:r.sliderStartPos.top+r.distanceY,left:a},r.requestId&&(s(r.requestId),r.requestId=null),r.requestId=n(function(){r.sliderLastPos&&(i.each(r.instance.slides,function(t,e){var n=e.pos-r.instance.currPos;i.fancybox.setTranslate(e.$slide,{top:r.sliderLastPos.top,left:r.sliderLastPos.left+n*r.canvasWidth+n*e.opts.gutter})}),r.$container.addClass("fancybox-is-sliding"))}))},h.prototype.onPan=function(){var t,e,r,o=this;o.canTap=!1,t=o.contentStartPos.width>o.canvasWidth?o.contentStartPos.left+o.distanceX:o.contentStartPos.left,e=o.contentStartPos.top+o.distanceY,r=o.limitMovement(t,e,o.contentStartPos.width,o.contentStartPos.height),r.scaleX=o.contentStartPos.scaleX,r.scaleY=o.contentStartPos.scaleY,o.contentLastPos=r,o.requestId&&(s(o.requestId),o.requestId=null),o.requestId=n(function(){i.fancybox.setTranslate(o.$content,o.contentLastPos)})},h.prototype.limitMovement=function(t,e,i,n){var s,r,o,a,l=this,c=l.canvasWidth,h=l.canvasHeight,u=l.contentStartPos.left,d=l.contentStartPos.top,p=l.distanceX,f=l.distanceY;return s=Math.max(0,.5*c-.5*i),r=Math.max(0,.5*h-.5*n),o=Math.min(c-i,.5*c-.5*i),a=Math.min(h-n,.5*h-.5*n),i>c&&(p>0&&t>s&&(t=s-1+Math.pow(-s+u+p,.8)||0),p<0&&t<o&&(t=o+1-Math.pow(o-u-p,.8)||0)),n>h&&(f>0&&e>r&&(e=r-1+Math.pow(-r+d+f,.8)||0),f<0&&e<a&&(e=a+1-Math.pow(a-d-f,.8)||0)),{top:e,left:t}},h.prototype.limitPosition=function(t,e,i,n){var s=this,r=s.canvasWidth,o=s.canvasHeight;return i>r?(t=t>0?0:t,t=t<r-i?r-i:t):t=Math.max(0,r/2-i/2),n>o?(e=e>0?0:e,e=e<o-n?o-n:e):e=Math.max(0,o/2-n/2),{top:e,left:t}},h.prototype.onZoom=function(){var e=this,r=e.contentStartPos.width,a=e.contentStartPos.height,l=e.contentStartPos.left,c=e.contentStartPos.top,h=o(e.newPoints[0],e.newPoints[1]),u=h/e.startDistanceBetweenFingers,d=Math.floor(r*u),p=Math.floor(a*u),f=(r-d)*e.percentageOfImageAtPinchPointX,g=(a-p)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-i(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-i(t).scrollTop(),b=m-e.centerPointStartX,y=v-e.centerPointStartY,x=l+(f+b),w=c+(g+y),_={top:w,left:x,scaleX:e.contentStartPos.scaleX*u,scaleY:e.contentStartPos.scaleY*u};e.canTap=!1,e.newWidth=d,e.newHeight=p,e.contentLastPos=_,e.requestId&&(s(e.requestId),e.requestId=null),e.requestId=n(function(){i.fancybox.setTranslate(e.$content,e.contentLastPos)})},h.prototype.ontouchend=function(t){var n=this,o=Math.max((new Date).getTime()-n.startTime,1),a=n.isSwiping,l=n.isPanning,c=n.isZooming;return n.endPoints=r(t),n.$container.removeClass("fancybox-controls--isGrabbing"),i(e).off(".fb.touch"),n.requestId&&(s(n.requestId),n.requestId=null),n.isSwiping=!1,n.isPanning=!1,n.isZooming=!1,n.canTap?n.onTap(t):(n.speed=366,n.velocityX=n.distanceX/o*.5,n.velocityY=n.distanceY/o*.5,n.speedX=Math.max(.5*n.speed,Math.min(1.5*n.speed,1/Math.abs(n.velocityX)*n.speed)),void(l?n.endPanning():c?n.endZooming():n.endSwiping(a)))},h.prototype.endSwiping=function(t){var e=this,n=!1;e.instance.isSliding=!1,e.sliderLastPos=null,"y"==t&&Math.abs(e.distanceY)>50?(i.fancybox.animate(e.instance.current.$slide,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,opacity:0},150),n=e.instance.close(!0,300)):"x"==t&&e.distanceX>50&&e.instance.group.length>1?n=e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50&&e.instance.group.length>1&&(n=e.instance.next(e.speedX)),!1!==n||"x"!=t&&"y"!=t||e.instance.jumpTo(e.instance.current.index,150),e.$container.removeClass("fancybox-is-sliding")},h.prototype.endPanning=function(){var t,e,n,s=this;s.contentLastPos&&(!1===s.instance.current.opts.touch.momentum?(t=s.contentLastPos.left,e=s.contentLastPos.top):(t=s.contentLastPos.left+s.velocityX*s.speed,e=s.contentLastPos.top+s.velocityY*s.speed),n=s.limitPosition(t,e,s.contentStartPos.width,s.contentStartPos.height),n.width=s.contentStartPos.width,n.height=s.contentStartPos.height,i.fancybox.animate(s.$content,n,330))},h.prototype.endZooming=function(){var t,e,n,s,r=this,o=r.instance.current,a=r.newWidth,l=r.newHeight;r.contentLastPos&&(t=r.contentLastPos.left,e=r.contentLastPos.top,s={top:e,left:t,width:a,height:l,scaleX:1,scaleY:1},i.fancybox.setTranslate(r.$content,s),a<r.canvasWidth&&l<r.canvasHeight?r.instance.scaleToFit(150):a>o.width||l>o.height?r.instance.scaleToActual(r.centerPointStartX,r.centerPointStartY,150):(n=r.limitPosition(t,e,a,l),i.fancybox.setTranslate(r.content,i.fancybox.getTranslate(r.$content)),i.fancybox.animate(r.$content,n,150)))},h.prototype.onTap=function(t){var e,n=this,s=i(t.target),o=n.instance,a=o.current,l=t&&r(t)||n.startPoints,c=l[0]?l[0].x-n.$stage.offset().left:0,h=l[0]?l[0].y-n.$stage.offset().top:0,u=function(e){var s=a.opts[e];if(i.isFunction(s)&&(s=s.apply(o,[a,t])),s)switch(s){case"close":o.close(n.startEvent);break;case"toggleControls":o.toggleControls(!0);break;case"next":o.next();break;case"nextOrClose":o.group.length>1?o.next():o.close(n.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(o.canPan()?o.scaleToFit():o.isScaledDown()?o.scaleToActual(c,h):o.group.length<2&&o.close(n.startEvent))}};if(!(t.originalEvent&&2==t.originalEvent.button||o.isSliding||c>s[0].clientWidth+s.offset().left)){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(s.is(".fancybox-slide"))e="Slide";else{if(!o.current.$content||!o.current.$content.has(t.target).length)return;e="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,Math.abs(c-n.tapX)>50||Math.abs(h-n.tapY)>50||o.isSliding)return this;u("dblclick"+e)}else n.tapX=c,n.tapY=h,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?n.tapped=setTimeout(function(){n.tapped=null,u("click"+e)},300):u("click"+e);return this}},i(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new h(e))}),i(e).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery),function(t,e){"use strict";var i=function(t){this.instance=t,this.init()};e.extend(i.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;t.instance&&e&&(e.opts.loop||e.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),e.isComplete&&t.set())},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,n){var s=e&&e.SlideShow;n?s&&i.opts.slideShow.autoStart&&s.start():s&&s.isActive&&s.clear()},"afterShow.fb":function(t,e){var i=e&&e.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(i,n,s,r,o){var a=n&&n.SlideShow;!a||!s.opts.slideShow||80!==o&&32!==o||e(t.activeElement).is("button,a,input")||(r.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var i=e&&e.SlideShow;i&&i.stop()}}),e(t).on("visibilitychange",function(){var i=e.fancybox.getInstance(),n=i&&i.SlideShow;n&&n.isActive&&(t.hidden?n.clear():n.set())})}(document,window.jQuery),function(t,e){"use strict";var i=function(){var e,i,n,s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r={};for(i=0;i<s.length;i++)if((e=s[i])&&e[1]in t){for(n=0;n<e.length;n++)r[s[0][n]]=e[n];return r}return!1}();if(!i)return void(e.fancybox.defaults.btnTpl.fullScreen=!1);var n={request:function(e){e=e||t.documentElement,e[i.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[i.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[i.fullscreenElement])},enabled:function(){return Boolean(t[i.fullscreenEnabled])}};e(t).on({"onInit.fb":function(t,e){var i,s=e.$refs.toolbar.find("[data-fancybox-fullscreen]");e&&!e.FullScreen&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle(i[0])}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(i[0]),e.FullScreen=n):s.hide()},"afterKeydown.fb":function(t,e,i,n,s){e&&e.FullScreen&&70===s&&(n.preventDefault(),e.FullScreen.toggle(e.$refs.container[0]))},"beforeClose.fb":function(t){t&&t.FullScreen&&n.exit()}}),e(t).on(i.fullscreenchange,function(){var t=e.fancybox.getInstance();t.current&&"image"===t.current.type&&t.isAnimating&&(t.current.$content.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0))})}(document,window.jQuery),function(t,e){"use strict";var i=function(t){this.instance=t,this.init()};e.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var t=this,e=t.instance.group[0],i=t.instance.group[1];t.$button=t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"),t.instance.group.length>1&&t.instance.group[t.instance.currIndex].opts.thumbs&&("image"==e.type||e.opts.thumb||e.opts.$thumb)&&("image"==i.type||i.opts.thumb||i.opts.$thumb)?(t.$button.on("click",function(){t.toggle()}),t.isActive=!0):(t.$button.hide(),t.isActive=!1)},create:function(){var t,i,n=this.instance;this.$grid=e('<div class="fancybox-thumbs"></div>').appendTo(n.$refs.container),t="<ul>",e.each(n.group,function(e,n){i=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null),i||"image"!==n.type||(i=n.src),i&&i.length&&(t+='<li data-index="'+e+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+i+'" /></li>')}),t+="</ul>",this.$list=e(t).appendTo(this.$grid).on("click","li",function(){n.jumpTo(e(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var t,i,n,s,r=e(this).parent().removeClass("fancybox-thumbs-loading"),o=r.outerWidth(),a=r.outerHeight();t=this.naturalWidth||this.width,i=this.naturalHeight||this.height,n=t/o,s=i/a,n>=1&&s>=1&&(n>s?(t/=s,i=a):(t=o,i/=n)),e(this).css({width:Math.floor(t),height:Math.floor(i),"margin-top":Math.min(0,Math.floor(.3*a-.3*i)),"margin-left":Math.min(0,Math.floor(.5*o-.5*t))}).show()}).each(function(){this.src=e(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus()):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.Thumbs&&(e.Thumbs=new i(e))},"beforeShow.fb":function(t,e,i,n){var s=e&&e.Thumbs;if(s&&s.isActive){if(i.modal)return s.$button.hide(),void s.hide();n&&!0===e.opts.thumbs.autoStart&&s.show(),s.isVisible&&s.focus()}},"afterKeydown.fb":function(t,e,i,n,s){var r=e&&e.Thumbs;r&&r.isActive&&71===s&&(n.preventDefault(),r.toggle())},"beforeClose.fb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==e.opts.thumbs.hideOnClose&&i.close()}})}(document,window.jQuery),function(t,e,i){"use strict";function n(){var t=e.location.hash.substr(1),i=t.split("-"),n=i.length>1&&/^\+?\d+$/.test(i[i.length-1])?parseInt(i.pop(-1),10)||1:1,s=i.join("-");return n<1&&(n=1),{hash:t,index:n,gallery:s}}function s(t){var e;""!==t.gallery&&(e=i("[data-fancybox='"+i.escapeSelector(t.gallery)+"']").eq(t.index-1),e.length?e.trigger("click"):i("#"+i.escapeSelector(t.gallery)).trigger("click"))}function r(t){var e;return!!t&&(e=t.current?t.current.opts:t.opts,e.$orig?e.$orig.data("fancybox"):e.hash||"")}i.escapeSelector||(i.escapeSelector=function(t){var e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,i=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t};return(t+"").replace(e,i)});var o=null,a=null;i(function(){setTimeout(function(){!1!==i.fancybox.defaults.hash&&(i(t).on({"onInit.fb":function(t,e){var i,s;!1!==e.group[e.currIndex].opts.hash&&(i=n(),(s=r(e))&&i.gallery&&s==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(i,n,s,l){var c;!1!==s.opts.hash&&(c=r(n))&&""!==c&&(e.location.hash.indexOf(c)<0&&(n.opts.origHash=e.location.hash),o=c+(n.group.length>1?"-"+(s.index+1):""),"replaceState"in e.history?(a&&clearTimeout(a),a=setTimeout(function(){e.history[l?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+o),a=null},300)):e.location.hash=o)},"beforeClose.fb":function(n,s,l){var c,h;a&&clearTimeout(a),!1!==l.opts.hash&&(c=r(s),h=s&&s.opts.origHash?s.opts.origHash:"",c&&""!==c&&("replaceState"in history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+h):(e.location.hash=h,i(e).scrollTop(s.scrollTop).scrollLeft(s.scrollLeft))),o=null)}}),i(e).on("hashchange.fb",function(){var t=n();i.fancybox.getInstance()?!o||o===t.gallery+"-"+t.index||1===t.index&&o==t.gallery||(o=null,i.fancybox.close()):""!==t.gallery&&s(t)}),i(e).one("unload.fb popstate.fb",function(){i.fancybox.getInstance("close",!0,0)}),s(n()))},50)})}(document,window,window.jQuery),function(){var t,e,i;t=this.jQuery||window.jQuery,i=t(window),e=t(document),t.fn.stick_in_parent=function(n){var s,r,o,a,l,c,h,u,d,p,f,g,m,v,b;for(null==n&&(n={}),v=n.sticky_class,c=n.inner_scrolling,g=n.recalc_every,f=n.parent,d=n.offset_top,u=n.spacer,o=n.bottoming,b=i.height(),s=e.height(),null==d&&(d=0),null==f&&(f=void 0),null==c&&(c=!0),null==v&&(v="is_stuck"),null==o&&(o=!0),p=function(t){var e,i;return window.getComputedStyle?(t[0],e=window.getComputedStyle(t[0]),i=parseFloat(e.getPropertyValue("width"))+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right")),"border-box"!==e.getPropertyValue("box-sizing")&&(i+=parseFloat(e.getPropertyValue("border-left-width"))+parseFloat(e.getPropertyValue("border-right-width"))+parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right"))),i):t.outerWidth(!0)},m=this,a=function(n,r,a,l,h,m,y,x){var w,_,k,C,T,S,E,O,P,M,D,A;if(!n.attr("data-sticky_kit")){if(n.attr("data-sticky_kit",!0),T=s,E=n.parent(),null!=f&&(E=E.closest(f)),!E.length)throw"failed to find stick parent";if(k=!1,w=!1,D=null!=u?u&&n.closest(u):t("<div />"),D&&(D.css("position",n.css("position")),null==u&&(D.attr("id",v+"_"+Date.now()+"_spacer"),n.attr("data-spacer_id",D.attr("id")))),O=function(){var t,o,c;if(!x)return b=i.height(),s=e.height(),T=s,t=parseInt(E.css("border-top-width"),10),o=parseInt(E.css("padding-top"),10),r=parseInt(E.css("padding-bottom"),10),a=E.offset().top+t+o,l=E.height(),k&&(k=!1,w=!1,null==u&&(n.insertAfter(D),D.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(v),c=!0),h=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-d,m=n.outerHeight(!0),y=n.css("float"),D&&D.css({width:p(n),height:m,display:n.css("display"),"vertical-align":n.css("vertical-align"),"float":y}),c?A():void 0},O(),m!==l)return C=void 0,S=d,M=g,A=function(){var t,e,p,f,_;if(!x)return p=!1,null!=M&&(M-=1)<=0&&(M=g,O(),p=!0),p||s===T||(O(),p=!0),f=i.scrollTop(),null!=C&&(e=f-C),C=f,k?(o&&(_=f+m+S>l+a,w&&!_&&(w=!1,n.css({position:"fixed",bottom:"",top:S}).trigger("sticky_kit:unbottom"))),f<=h&&(k=!1,S=d,null==u&&("left"!==y&&"right"!==y||n.insertAfter(D),D.detach()),t={position:"",width:"",top:""},n.css(t).removeClass(v).trigger("sticky_kit:unstick")),c&&m+d>b&&(w||(S-=e,S=Math.max(b-m,S),S=Math.min(d,S),k&&n.css({top:S+"px"})))):f>h&&(k=!0,t={position:"fixed",top:S},t.width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(t).addClass(v),null==u&&(n.after(D),"left"!==y&&"right"!==y||D.append(n)),n.trigger("sticky_kit:stick")),k&&o&&(null==_&&(_=f+m+S>l+a),!w&&_)?(w=!0,"static"===E.css("position")&&E.css({position:"relative"}),n.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},P=function(){return O(),A()},_=function(){if(x=!0,i.off("touchmove",A),i.off("scroll",A),i.off("resize",P),t(document.body).off("sticky_kit:recalc",P),n.off("sticky_kit:detach",_),n.removeAttr("data-sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),E.position("position",""),k)return null==u&&("left"!==y&&"right"!==y||n.insertAfter(D),D.remove()),n.removeClass(v)},i.on("touchmove",A),i.on("scroll",A),i.on("resize",P),t(document.body).on("sticky_kit:recalc",P),n.on("sticky_kit:detach",_),setTimeout(A,0)}},reset=function(e){e.removeClass(v),e.removeAttr("data-sticky_kit"),e.css({position:"",bottom:"",top:"",width:""}),e.attr("data-spacer_id")&&t(document.getElementById(e.attr("data-spacer_id"))).length>0&&(t(document.getElementById(e.attr("data-spacer_id"))).remove(),e.removeAttr("data-spacer_id"))},l=0,h=m.length;l<h;l++)r=m[l],reset(t(r)),a(t(r));return this}}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(e){"use strict";var i=e.tablesorter={version:"2.28.15",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(t,n){if(t&&t.tHead&&0!==t.tBodies.length&&!0!==t.hasInitialized){var s="",r=e(t),o=e.metadata;t.hasInitialized=!1,t.isProcessing=!0,t.config=n,e.data(t,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter v"+i.version),e.data(t,"startoveralltimer",new Date)),n.supportsDataObject=function(t){return t[0]=parseInt(t[0],10),t[0]>1||1===t[0]&&parseInt(t[1],10)>=4}(e.fn.jquery.split(".")),
n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(r.attr("class"))||(s=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(i.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=t,n.$table=r.addClass(i.css.table+" "+n.tableClass+s+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((s=n.$table.children("caption")[0]).id||(s.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",s.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",i.buildHeaders(n),i.fixColumnWidth(t),i.addWidgetFromClass(t),i.applyWidgetOptions(t),i.setupParsers(n),n.totalRows=0,i.validateOptions(n),n.delayInit||i.buildCache(n),i.bindEvents(t,n.$headers,!0),i.bindMethods(n),n.supportsDataObject&&void 0!==r.data().sortlist?n.sortList=r.data().sortlist:o&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),i.applyWidget(t,!0),n.sortList.length>0?i.sortOn(n,n.sortList,{},!n.initWidgets):(i.setHeadersCss(n),n.initWidgets&&i.applyWidget(t,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(e){clearTimeout(n.timerProcessing),i.isProcessing(t),"sortBegin"===e.type&&(n.timerProcessing=setTimeout(function(){i.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,n.debug&&(console.log("Overall initialization time:"+i.benchmark(e.data(t,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),r.triggerHandler("tablesorter-initialized",t),"function"==typeof n.initialized&&n.initialized(t)}else n.debug&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",t))},bindMethods:function(t){var n=t.$table,s=t.namespace,r="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(s+" ");n.unbind(r.replace(i.regex.spaces," ")).bind("sortReset"+s,function(t,e){t.stopPropagation(),i.sortReset(this.config,function(t){t.isApplyingWidgets?setTimeout(function(){i.applyWidget(t,"",e)},100):i.applyWidget(t,"",e)})}).bind("updateAll"+s,function(t,e,n){t.stopPropagation(),i.updateAll(this.config,e,n)}).bind("update"+s+" updateRows"+s,function(t,e,n){t.stopPropagation(),i.update(this.config,e,n)}).bind("updateHeaders"+s,function(t,e){t.stopPropagation(),i.updateHeaders(this.config,e)}).bind("updateCell"+s,function(t,e,n,s){t.stopPropagation(),i.updateCell(this.config,e,n,s)}).bind("addRows"+s,function(t,e,n,s){t.stopPropagation(),i.addRows(this.config,e,n,s)}).bind("updateComplete"+s,function(){this.isUpdating=!1}).bind("sorton"+s,function(t,e,n,s){t.stopPropagation(),i.sortOn(this.config,e,n,s)}).bind("appendCache"+s,function(t,n,s){t.stopPropagation(),i.appendCache(this.config,s),e.isFunction(n)&&n(this)}).bind("updateCache"+s,function(t,e,n){t.stopPropagation(),i.updateCache(this.config,e,n)}).bind("applyWidgetId"+s,function(t,e){t.stopPropagation(),i.applyWidgetId(this,e)}).bind("applyWidgets"+s,function(t,e){t.stopPropagation(),i.applyWidget(this,e)}).bind("refreshWidgets"+s,function(t,e,n){t.stopPropagation(),i.refreshWidgets(this,e,n)}).bind("removeWidget"+s,function(t,e,n){t.stopPropagation(),i.removeWidget(this,e,n)}).bind("destroy"+s,function(t,e,n){t.stopPropagation(),i.destroy(this,e,n)}).bind("resetToLoadState"+s,function(n){n.stopPropagation(),i.removeWidget(this,!0,!1);var s=e.extend(!0,{},t.originalSettings);(t=e.extend(!0,{},i.defaults,s)).originalSettings=s,this.hasInitialized=!1,i.setup(this,t)})},bindEvents:function(t,n,s){var r,o=(t=e(t)[0]).config,a=o.namespace,l=null;!0!==s&&(n.addClass(a.slice(1)+"_extra_headers"),(r=e.fn.closest?n.closest("table")[0]:n.parents("table")[0])&&"TABLE"===r.nodeName&&r!==t&&e(r).addClass(a.slice(1)+"_extra_table")),r=(o.pointerDown+" "+o.pointerUp+" "+o.pointerClick+" sort keyup ").replace(i.regex.spaces," ").split(" ").join(a+" "),n.find(o.selectorSort).add(n.filter(o.selectorSort)).unbind(r).bind(r,function(t,s){var r,a,c,h=e(t.target),u=" "+t.type+" ";if(!(1!==(t.which||t.button)&&!u.match(" "+o.pointerClick+" | sort | keyup ")||" keyup "===u&&t.which!==i.keyCodes.enter||u.match(" "+o.pointerClick+" ")&&void 0!==t.which||u.match(" "+o.pointerUp+" ")&&l!==t.target&&!0!==s)){if(u.match(" "+o.pointerDown+" "))return l=t.target,void("1"===(c=h.jquery.split("."))[0]&&c[1]<4&&t.preventDefault());if(l=null,i.regex.formElements.test(t.target.nodeName)||h.hasClass(o.cssNoSort)||h.parents("."+o.cssNoSort).length>0||h.parents("button").length>0)return!o.cancelSelection;o.delayInit&&i.isEmptyObject(o.cache)&&i.buildCache(o),r=e.fn.closest?e(this).closest("th, td"):/TH|TD/.test(this.nodeName)?e(this):e(this).parents("th, td"),c=n.index(r),o.last.clickedIndex=c<0?r.attr("data-column"):c,(a=o.$headers[o.last.clickedIndex])&&!a.sortDisabled&&i.initSort(o,a,t)}}),o.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(t){var n,s,r,o;for(t.headerList=[],t.headerContent=[],t.sortVars=[],t.debug&&(r=new Date),t.columns=i.computeColumnIndex(t.$table.children("thead, tfoot").children("tr")),s=t.cssIcon?'<i class="'+(t.cssIcon===i.css.icon?i.css.icon:t.cssIcon+" "+i.css.icon)+'"></i>':"",t.$headers=e(e.map(t.$table.find(t.selectorHeaders),function(n,r){var o,a,l,c,h,u=e(n);if(!u.parent().hasClass(t.cssIgnoreRow))return o=i.getColumnData(t.table,t.headers,r,!0),t.headerContent[r]=u.html(),""===t.headerTemplate||u.find("."+i.css.headerIn).length||(c=t.headerTemplate.replace(i.regex.templateContent,u.html()).replace(i.regex.templateIcon,u.find("."+i.css.icon).length?"":s),t.onRenderTemplate&&(a=t.onRenderTemplate.apply(u,[r,c]))&&"string"==typeof a&&(c=a),u.html('<div class="'+i.css.headerIn+'">'+c+"</div>")),t.onRenderHeader&&t.onRenderHeader.apply(u,[r,t,t.$table]),l=parseInt(u.attr("data-column"),10),n.column=l,h=i.getOrder(i.getData(u,o,"sortInitialOrder")||t.sortInitialOrder),t.sortVars[l]={count:-1,order:h?t.sortReset?[1,0,2]:[1,0]:t.sortReset?[0,1,2]:[0,1],lockedOrder:!1},void 0!==(h=i.getData(u,o,"lockedOrder")||!1)&&!1!==h&&(t.sortVars[l].lockedOrder=!0,t.sortVars[l].order=i.getOrder(h)?[1,1]:[0,0]),t.headerList[r]=n,u.addClass(i.css.header+" "+t.cssHeader).parent().addClass(i.css.headerRow+" "+t.cssHeaderRow).attr("role","row"),t.tabIndex&&u.attr("tabindex",0),n})),t.$headerIndexed=[],o=0;o<t.columns;o++)i.isEmptyObject(t.sortVars[o])&&(t.sortVars[o]={}),n=t.$headers.filter('[data-column="'+o+'"]'),t.$headerIndexed[o]=n.length?n.not(".sorter-false").length?n.not(".sorter-false").filter(":last"):n.filter(":last"):e();t.$table.find(t.selectorHeaders).attr({scope:"col",role:"columnheader"}),i.updateHeader(t),t.debug&&(console.log("Built headers:"+i.benchmark(r)),console.log(t.$headers))},addInstanceMethods:function(t){e.extend(i.instanceMethods,t)},setupParsers:function(t,e){var n,s,r,o,a,l,c,h,u,d,p,f,g,m,v=t.table,b=0,y={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),g=void 0===e?t.$tbodies:e,0===(m=g.length))return t.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(t.debug&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),s={extractors:[],parsers:[]};b<m;){if((n=g[b].rows).length)for(a=0,o=t.columns,l=0;l<o;l++){if((c=t.$headerIndexed[a])&&c.length&&(h=i.getColumnData(v,t.headers,a),p=i.getParserById(i.getData(c,h,"extractor")),d=i.getParserById(i.getData(c,h,"sorter")),u="false"===i.getData(c,h,"parser"),t.empties[a]=(i.getData(c,h,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[a]=(i.getData(c,h,"string")||t.stringTo||"max").toLowerCase(),u&&(d=i.getParserById("no-parser")),p||(p=!1),d||(d=i.detectParserForColumn(t,n,-1,a)),t.debug&&(y["("+a+") "+c.text()]={parser:d.id,extractor:p?p.id:"none",string:t.strings[a],empty:t.empties[a]}),s.parsers[a]=d,s.extractors[a]=p,(r=c[0].colSpan-1)>0))for(a+=r,o+=r;r+1>0;)s.parsers[a-r]=d,s.extractors[a-r]=p,r--;a++}b+=s.parsers.length?m:1}t.debug&&(i.isEmptyObject(y)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](y),console.log("Completed detecting parsers"+i.benchmark(f)),console.groupEnd&&console.groupEnd()),t.parsers=s.parsers,t.extractors=s.extractors},addParser:function(t){var e,n=i.parsers.length,s=!0;for(e=0;e<n;e++)i.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(s=!1);s&&(i.parsers[i.parsers.length]=t)},getParserById:function(t){if("false"==t)return!1;var e,n=i.parsers.length;for(e=0;e<n;e++)if(i.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return i.parsers[e];return!1},detectParserForColumn:function(t,n,s,r){for(var o,a,l,c=i.parsers.length,h=!1,u="",d=!0;""===u&&d;)(l=n[++s])&&s<50?l.className.indexOf(i.cssIgnoreRow)<0&&(h=n[s].cells[r],u=i.getElementText(t,h,r),a=e(h),t.debug&&console.log("Checking if value was empty on row "+s+", column: "+r+': "'+u+'"')):d=!1;for(;--c>=0;)if((o=i.parsers[c])&&"text"!==o.id&&o.is&&o.is(u,t.table,h,a))return o;return i.getParserById("text")},getElementText:function(t,n,s){if(!n)return"";var r,o=t.textExtraction||"",a=n.jquery?n:e(n);return"string"==typeof o?"basic"===o&&void 0!==(r=a.attr(t.textAttribute))?e.trim(r):e.trim(n.textContent||a.text()):"function"==typeof o?e.trim(o(a[0],t.table,s)):"function"==typeof(r=i.getColumnData(t.table,o,s))?e.trim(r(a[0],t.table,s)):e.trim(a[0].textContent||a.text())},getParsedText:function(t,e,n,s){void 0===s&&(s=i.getElementText(t,e,n));var r=""+s,o=t.parsers[n],a=t.extractors[n];return o&&(a&&"function"==typeof a.format&&(s=a.format(s,t.table,e,n)),r="no-parser"===o.id?"":o.format(""+s,t.table,e,n),t.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},buildCache:function(t,n,s){var r,o,a,l,c,h,u,d,p,f,g,m,v,b,y,x,w,_,k,C,T,S,E=t.table,O=t.parsers;if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),u=void 0===s?t.$tbodies:s,t.cache={},t.totalRows=0,!O)return t.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(t.debug&&(m=new Date),t.showProcessing&&i.isProcessing(E,!0),h=0;h<u.length;h++){for(x=[],r=t.cache[h]={normalized:[]},v=u[h]&&u[h].rows.length||0,l=0;l<v;++l)if(b={child:[],raw:[]},d=e(u[h].rows[l]),p=[],!d.hasClass(t.selectorRemove.slice(1)))if(d.hasClass(t.cssChildRow)&&0!==l)for(T=r.normalized.length-1,(y=r.normalized[T][t.columns]).$row=y.$row.add(d),d.prev().hasClass(t.cssChildRow)||d.prev().addClass(i.css.cssHasChild),f=d.children("th, td"),T=y.child.length,y.child[T]=[],_=0,C=t.columns,c=0;c<C;c++)(g=f[c])&&(y.child[T][c]=i.getParsedText(t,g,c),(w=f[c].colSpan-1)>0&&(_+=w,C+=w)),_++;else{for(b.$row=d,b.order=l,_=0,C=t.columns,c=0;c<C;++c){if((g=d[0].cells[c])&&_<t.columns&&(!(k=void 0!==O[_])&&t.debug&&console.warn("No parser found for row: "+l+", column: "+c+'; cell containing: "'+e(g).text()+'"; does it have a header?'),o=i.getElementText(t,g,_),b.raw[_]=o,a=i.getParsedText(t,g,_,o),p[_]=a,k&&"numeric"===(O[_].type||"").toLowerCase()&&(x[_]=Math.max(Math.abs(a)||0,x[_]||0)),(w=g.colSpan-1)>0)){for(S=0;S<=w;)a=t.duplicateSpan||0===S?o:"string"!=typeof t.textExtraction?i.getElementText(t,g,_+S)||"":"",b.raw[_+S]=a,p[_+S]=a,S++;_+=w,C+=w}_++}p[t.columns]=b,r.normalized[r.normalized.length]=p}r.colMax=x,t.totalRows+=r.normalized.length}if(t.showProcessing&&i.isProcessing(E),t.debug){for(T=Math.min(5,t.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+t.totalRows+" rows (showing "+T+" rows in log) and "+t.columns+" columns"+i.benchmark(m)),o={},c=0;c<t.columns;c++)for(_=0;_<T;_++)o["row: "+_]||(o["row: "+_]={}),o["row: "+_][t.$headerIndexed[c].text()]=t.cache[0].normalized[_][c];console[console.table?"table":"log"](o),console.groupEnd&&console.groupEnd()}e.isFunction(n)&&n(E)},getColumnText:function(t,n,s,r){var o,a,l,c,h,u,d,p,f,g,m="function"==typeof s,v="all"===n,b={raw:[],parsed:[],$cell:[]},y=(t=e(t)[0]).config;if(!i.isEmptyObject(y)){for(h=y.$tbodies.length,o=0;o<h;o++)for(u=(l=y.cache[o].normalized).length,a=0;a<u;a++)c=l[a],r&&!c[y.columns].$row.is(r)||(g=!0,p=v?c.slice(0,y.columns):c[n],c=c[y.columns],d=v?c.raw:c.raw[n],f=v?c.$row.children():c.$row.children().eq(n),m&&(g=s({tbodyIndex:o,rowIndex:a,parsed:p,raw:d,$row:c.$row,$cell:f})),!1!==g&&(b.parsed[b.parsed.length]=p,b.raw[b.raw.length]=d,b.$cell[b.$cell.length]=f));return b}y.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(t){var n,s,r=t.sortList,o=r.length,a=i.css.sortNone+" "+t.cssNone,l=[i.css.sortAsc+" "+t.cssAsc,i.css.sortDesc+" "+t.cssDesc],c=[t.cssIconAsc,t.cssIconDesc,t.cssIconNone],h=["ascending","descending"],u=t.$table.find("tfoot tr").children("td, th").add(e(t.namespace+"_extra_headers")).removeClass(l.join(" ")),d=t.$headers.add(e("thead "+t.namespace+"_extra_headers")).removeClass(l.join(" ")).addClass(a).attr("aria-sort","none").find("."+i.css.icon).removeClass(c.join(" ")).end();for(d.not(".sorter-false").find("."+i.css.icon).addClass(c[2]),t.cssIconDisabled&&d.filter(".sorter-false").find("."+i.css.icon).addClass(t.cssIconDisabled),n=0;n<o;n++)if(2!==r[n][1]&&(d=t.$headers.filter(function(e){for(var n=!0,s=t.$headers.eq(e),r=parseInt(s.attr("data-column"),10),o=r+t.$headers[e].colSpan;r<o;r++)n=!!n&&(n||i.isValueInArray(r,t.sortList)>-1);return n}),(d=d.not(".sorter-false").filter('[data-column="'+r[n][0]+'"]'+(1===o?":last":""))).length)){for(s=0;s<d.length;s++)d[s].sortDisabled||d.eq(s).removeClass(a).addClass(l[r[n][1]]).attr("aria-sort",h[r[n][1]]).find("."+i.css.icon).removeClass(c[2]).addClass(c[r[n][1]]);u.length&&u.filter('[data-column="'+r[n][0]+'"]').removeClass(a).addClass(l[r[n][1]])}for(o=t.$headers.length,n=0;n<o;n++)i.setColumnAriaLabel(t,t.$headers.eq(n))},setColumnAriaLabel:function(t,n,s){if(n.length){var r=parseInt(n.attr("data-column"),10),o=t.sortVars[r],a=n.hasClass(i.css.sortAsc)?"sortAsc":n.hasClass(i.css.sortDesc)?"sortDesc":"sortNone",l=e.trim(n.text())+": "+i.language[a];n.hasClass("sorter-false")||!1===s?l+=i.language.sortDisabled:(a=(o.count+1)%o.order.length,s=o.order[a],l+=i.language[0===s?"nextAsc":1===s?"nextDesc":"nextNone"]),n.attr("aria-label",l)}},updateHeader:function(t){var e,n,s,r,o=t.table,a=t.$headers.length;for(e=0;e<a;e++)s=t.$headers.eq(e),r=i.getColumnData(o,t.headers,e,!0),n="false"===i.getData(s,r,"sorter")||"false"===i.getData(s,r,"parser"),i.setColumnSort(t,s,n)},setColumnSort:function(t,e,i){var n=t.table.id;e[0].sortDisabled=i,e[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),t.tabIndex&&(i?e.removeAttr("tabindex"):e.attr("tabindex","0")),n&&(i?e.removeAttr("aria-controls"):e.attr("aria-controls",n))},updateHeaderSortCount:function(t,n){var s,r,o,a,l,c,h,u,d=n||t.sortList,p=d.length;for(t.sortList=[],a=0;a<p;a++)if(h=d[a],(s=parseInt(h[0],10))<t.columns){switch(t.sortVars[s].order||(u=i.getOrder(t.sortInitialOrder)?t.sortReset?[1,0,2]:[1,0]:t.sortReset?[0,1,2]:[0,1],t.sortVars[s].order=u,t.sortVars[s].count=0),u=t.sortVars[s].order,r=(""+h[1]).match(/^(1|d|s|o|n)/),r=r?r[0]:""){case"1":case"d":r=1;break;case"s":r=l||0;break;case"o":r=0===(c=u[(l||0)%u.length])?1:1===c?0:2;break;case"n":r=u[++t.sortVars[s].count%u.length];break;default:r=0}l=0===a?r:l,o=[s,parseInt(r,10)||0],t.sortList[t.sortList.length]=o,r=e.inArray(o[1],u),t.sortVars[s].count=r>=0?r:o[1]%u.length}},updateAll:function(t,e,n){var s=t.table;s.isUpdating=!0,i.refreshWidgets(s,!0,!0),i.buildHeaders(t),i.bindEvents(s,t.$headers,!0),i.bindMethods(t),i.commonUpdate(t,e,n)},update:function(t,e,n){t.table.isUpdating=!0,i.updateHeader(t),i.commonUpdate(t,e,n)},updateHeaders:function(t,e){t.table.isUpdating=!0,i.buildHeaders(t),i.bindEvents(t.table,t.$headers,!0),i.resortComplete(t,e)},updateCell:function(t,n,s,r){if(e(n).closest("tr").hasClass(t.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(i.isEmptyObject(t.cache))return i.updateHeader(t),void i.commonUpdate(t,s,r);t.table.isUpdating=!0,t.$table.find(t.selectorRemove).remove();var o,a,l,c,h,u,d=t.$tbodies,p=e(n),f=d.index(e.fn.closest?p.closest("tbody"):p.parents("tbody").filter(":first")),g=t.cache[f],m=e.fn.closest?p.closest("tr"):p.parents("tr").filter(":first");if(n=p[0],d.length&&f>=0){if(l=d.eq(f).find("tr").not("."+t.cssChildRow).index(m),h=g.normalized[l],(u=m[0].cells.length)!==t.columns)for(c=0,o=!1,a=0;a<u;a++)o||m[0].cells[a]===n?o=!0:c+=m[0].cells[a].colSpan;else c=p.index();o=i.getElementText(t,n,c),h[t.columns].raw[c]=o,o=i.getParsedText(t,n,c,o),h[c]=o,"numeric"===(t.parsers[c].type||"").toLowerCase()&&(g.colMax[c]=Math.max(Math.abs(o)||0,g.colMax[c]||0)),!1!==(o="undefined"!==s?s:t.resort)?i.checkResort(t,o,r):i.resortComplete(t,r)}else t.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),t.table.isUpdating=!1}},addRows:function(n,s,r,o){var a,l,c,h,u,d,p,f,g,m,v,b,y,x="string"==typeof s&&1===n.$tbodies.length&&/<tr/.test(s||""),w=n.table;if(x)s=e(s),n.$tbodies.append(s);else if(!(s&&s instanceof t&&(e.fn.closest?s.closest("table")[0]:s.parents("table")[0])===n.table))return n.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(w.isUpdating=!0,i.isEmptyObject(n.cache))i.updateHeader(n),i.commonUpdate(n,r,o);else{for(u=s.filter("tr").attr("role","row").length,c=n.$tbodies.index(s.parents("tbody").filter(":first")),n.parsers&&n.parsers.length||i.setupParsers(n),h=0;h<u;h++){for(g=0,p=s[h].cells.length,f=n.cache[c].normalized.length,v=[],m={child:[],raw:[],$row:s.eq(h),order:f},d=0;d<p;d++)b=s[h].cells[d],a=i.getElementText(n,b,g),m.raw[g]=a,l=i.getParsedText(n,b,g,a),v[g]=l,"numeric"===(n.parsers[g].type||"").toLowerCase()&&(n.cache[c].colMax[g]=Math.max(Math.abs(l)||0,n.cache[c].colMax[g]||0)),(y=b.colSpan-1)>0&&(g+=y),g++;v[n.columns]=m,n.cache[c].normalized[f]=v}i.checkResort(n,r,o)}},updateCache:function(t,e,n){t.parsers&&t.parsers.length||i.setupParsers(t,n),i.buildCache(t,e,n)},appendCache:function(t,e){var n,s,r,o,a,l,c,h=t.table,u=t.widgetOptions,d=t.$tbodies,p=[],f=t.cache;if(i.isEmptyObject(f))return t.appender?t.appender(h,p):h.isUpdating?t.$table.triggerHandler("updateComplete",h):"";for(t.debug&&(c=new Date),l=0;l<d.length;l++)if((r=d.eq(l)).length){for(o=i.processTbody(h,r,!0),s=(n=f[l].normalized).length,a=0;a<s;a++)p[p.length]=n[a][t.columns].$row,t.appender&&(!t.pager||t.pager.removeRows&&u.pager_removeRows||t.pager.ajax)||o.append(n[a][t.columns].$row);i.processTbody(h,o,!1)}t.appender&&t.appender(h,p),t.debug&&console.log("Rebuilt table"+i.benchmark(c)),e||t.appender||i.applyWidget(h),h.isUpdating&&t.$table.triggerHandler("updateComplete",h)},commonUpdate:function(t,e,n){t.$table.find(t.selectorRemove).remove(),i.setupParsers(t),i.buildCache(t),i.checkResort(t,e,n)},initSort:function(t,n,s){if(t.table.isUpdating)return setTimeout(function(){i.initSort(t,n,s)},50);var r,o,a,l,c,h,u,d=!s[t.sortMultiSortKey],p=t.table,f=t.$headers.length,g=parseInt(e(n).attr("data-column"),10),m=t.sortVars[g].order;if(t.$table.triggerHandler("sortStart",p),h=(t.sortVars[g].count+1)%m.length,t.sortVars[g].count=s[t.sortResetKey]?2:h,t.sortRestart)for(a=0;a<f;a++)u=t.$headers.eq(a),g!==(h=parseInt(u.attr("data-column"),10))&&(d||u.hasClass(i.css.sortNone))&&(t.sortVars[h].count=-1);if(d){if(t.sortList=[],t.last.sortList=[],null!==t.sortForce)for(r=t.sortForce,o=0;o<r.length;o++)r[o][0]!==g&&(t.sortList[t.sortList.length]=r[o]);if((l=m[t.sortVars[g].count])<2&&(t.sortList[t.sortList.length]=[g,l],n.colSpan>1))for(o=1;o<n.colSpan;o++)t.sortList[t.sortList.length]=[g+o,l],t.sortVars[g+o].count=e.inArray(l,m)}else if(t.sortList=e.extend([],t.last.sortList),i.isValueInArray(g,t.sortList)>=0)for(o=0;o<t.sortList.length;o++)(h=t.sortList[o])[0]===g&&(h[1]=m[t.sortVars[g].count],2===h[1]&&(t.sortList.splice(o,1),t.sortVars[g].count=-1));else if((l=m[t.sortVars[g].count])<2&&(t.sortList[t.sortList.length]=[g,l],n.colSpan>1))for(o=1;o<n.colSpan;o++)t.sortList[t.sortList.length]=[g+o,l],t.sortVars[g+o].count=e.inArray(l,m);if(t.last.sortList=e.extend([],t.sortList),t.sortList.length&&t.sortAppend&&(r=e.isArray(t.sortAppend)?t.sortAppend:t.sortAppend[t.sortList[0][0]],!i.isEmptyObject(r)))for(o=0;o<r.length;o++)if(r[o][0]!==g&&i.isValueInArray(r[o][0],t.sortList)<0){if(l=r[o][1],c=(""+l).match(/^(a|d|s|o|n)/))switch(h=t.sortList[0][1],c[0]){case"d":l=1;break;case"s":l=h;break;case"o":l=0===h?1:0;break;case"n":l=(h+1)%m.length;break;default:l=0}t.sortList[t.sortList.length]=[r[o][0],l]}t.$table.triggerHandler("sortBegin",p),setTimeout(function(){i.setHeadersCss(t),i.multisort(t),i.appendCache(t),t.$table.triggerHandler("sortBeforeEnd",p),t.$table.triggerHandler("sortEnd",p)},1)},multisort:function(t){var e,n,s,r,o=t.table,a=[],l=0,c=t.textSorter||"",h=t.sortList,u=h.length,d=t.$tbodies.length;if(!t.serverSideSorting&&!i.isEmptyObject(t.cache)){if(t.debug&&(n=new Date),"object"==typeof c)for(s=t.columns;s--;)"function"==typeof(r=i.getColumnData(o,c,s))&&(a[s]=r);for(e=0;e<d;e++)s=t.cache[e].colMax,t.cache[e].normalized.sort(function(e,n){var r,d,p,f,g,m,v;for(r=0;r<u;r++){if(p=h[r][0],f=h[r][1],l=0===f,t.sortStable&&e[p]===n[p]&&1===u)return e[t.columns].order-n[t.columns].order;if(d=/n/i.test(i.getSortType(t.parsers,p)),d&&t.strings[p]?(d="boolean"==typeof i.string[t.strings[p]]?(l?1:-1)*(i.string[t.strings[p]]?-1:1):t.strings[p]?i.string[t.strings[p]]||0:0,g=t.numberSorter?t.numberSorter(e[p],n[p],l,s[p],o):i["sortNumeric"+(l?"Asc":"Desc")](e[p],n[p],d,s[p],p,t)):(m=l?e:n,v=l?n:e,g="function"==typeof c?c(m[p],v[p],l,p,o):"function"==typeof a[p]?a[p](m[p],v[p],l,p,o):i["sortNatural"+(l?"Asc":"Desc")](e[p],n[p],p,t)),g)return g}return e[t.columns].order-n[t.columns].order});t.debug&&console.log("Applying sort "+h.toString()+i.benchmark(n))}},resortComplete:function(t,i){t.table.isUpdating&&t.$table.triggerHandler("updateComplete",t.table),e.isFunction(i)&&i(t.table)},checkResort:function(t,n,s){var r=e.isArray(n)?n:t.sortList;!1===(void 0===n?t.resort:n)||t.serverSideSorting||t.table.isProcessing?(i.resortComplete(t,s),i.applyWidget(t.table,!1)):r.length?i.sortOn(t,r,function(){i.resortComplete(t,s)},!0):i.sortReset(t,function(){i.resortComplete(t,s),i.applyWidget(t.table,!1)})},sortOn:function(t,n,s,r){var o=t.table;t.$table.triggerHandler("sortStart",o),i.updateHeaderSortCount(t,n),i.setHeadersCss(t),t.delayInit&&i.isEmptyObject(t.cache)&&i.buildCache(t),t.$table.triggerHandler("sortBegin",o),i.multisort(t),i.appendCache(t,r),t.$table.triggerHandler("sortBeforeEnd",o),t.$table.triggerHandler("sortEnd",o),i.applyWidget(o),e.isFunction(s)&&s(o)},sortReset:function(t,n){t.sortList=[],i.setHeadersCss(t),i.multisort(t),i.appendCache(t);var s;for(s=0;s<t.columns;s++)t.sortVars[s].count=-1;e.isFunction(n)&&n(t.table)},getSortType:function(t,e){return t&&t[e]?t[e].type||"":""},getOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,e){if(t===e)return 0;t=t.toString(),e=e.toString();var n,s,r,o,a,l,c=i.regex;if(c.hex.test(e)){if(n=parseInt((t||"").match(c.hex),16),s=parseInt((e||"").match(c.hex),16),n<s)return-1;if(n>s)return 1}for(n=(t||"").replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),s=(e||"").replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),l=Math.max(n.length,s.length),a=0;a<l;a++){if(r=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,o=isNaN(s[a])?s[a]||0:parseFloat(s[a])||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(r>o)return 1}return 0},sortNaturalAsc:function(t,e,n,s){if(t===e)return 0;var r=i.string[s.empties[n]||s.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:r||1:i.sortNatural(t,e)},sortNaturalDesc:function(t,e,n,s){if(t===e)return 0;var r=i.string[s.empties[n]||s.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:i.sortNatural(e,t)},sortText:function(t,e){return t>e?1:t<e?-1:0},getTextValue:function(t,e,i){if(i){var n,s=t?t.length:0,r=i+e;for(n=0;n<s;n++)r+=t.charCodeAt(n);return e*r}return 0},sortNumericAsc:function(t,e,n,s,r,o){if(t===e)return 0;var a=i.string[o.empties[r]||o.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(t)&&(t=i.getTextValue(t,n,s)),isNaN(e)&&(e=i.getTextValue(e,n,s)),t-e)},sortNumericDesc:function(t,e,n,s,r,o){if(t===e)return 0;var a=i.string[o.empties[r]||o.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(t)&&(t=i.getTextValue(t,n,s)),isNaN(e)&&(e=i.getTextValue(e,n,s)),e-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){t.id&&!i.isEmptyObject(i.getWidgetById(t.id))&&console.warn('"'+t.id+'" widget was loaded more than once!'),i.widgets[i.widgets.length]=t},hasWidget:function(t,i){return(t=e(t)).length&&t[0].config&&t[0].config.widgetInit[i]||!1},getWidgetById:function(t){var e,n,s=i.widgets.length;for(e=0;e<s;e++)if((n=i.widgets[e])&&n.id&&n.id.toLowerCase()===t.toLowerCase())return n},applyWidgetOptions:function(t){var n,s,r,o=t.config,a=o.widgets.length;if(a)for(n=0;n<a;n++)(s=i.getWidgetById(o.widgets[n]))&&s.options&&(r=e.extend(!0,{},s.options),o.widgetOptions=e.extend(!0,r,o.widgetOptions),e.extend(!0,i.defaults.widgetOptions,s.options))},addWidgetFromClass:function(t){var e,n,s=t.config,r="^"+s.widgetClass.replace(i.regex.templateName,"(\\S+)+")+"$",o=new RegExp(r,"g"),a=(t.className||"").split(i.regex.spaces);if(a.length)for(e=a.length,n=0;n<e;n++)a[n].match(o)&&(s.widgets[s.widgets.length]=a[n].replace(o,"$1"))},applyWidgetId:function(t,n,s){var r,o,a,l=(t=e(t)[0]).config,c=l.widgetOptions,h=i.getWidgetById(n);h&&(a=h.id,r=!1,e.inArray(a,l.widgets)<0&&(l.widgets[l.widgets.length]=a),l.debug&&(o=new Date),!s&&l.widgetInit[a]||(l.widgetInit[a]=!0,t.hasInitialized&&i.applyWidgetOptions(t),"function"==typeof h.init&&(r=!0,l.debug&&console[console.group?"group":"log"]("Initializing "+a+" widget"),h.init(t,h,l,c))),s||"function"!=typeof h.format||(r=!0,l.debug&&console[console.group?"group":"log"]("Updating "+a+" widget"),h.format(t,l,c,!1)),l.debug&&r&&(console.log("Completed "+(s?"initializing ":"applying ")+a+" widget"+i.benchmark(o)),console.groupEnd&&console.groupEnd()))},applyWidget:function(t,n,s){var r,o,a,l,c,h=(t=e(t)[0]).config,u=[];if(!1===n||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(h.debug&&(c=new Date),i.addWidgetFromClass(t),clearTimeout(h.timerReady),h.widgets.length){for(t.isApplyingWidgets=!0,h.widgets=e.grep(h.widgets,function(t,i){return e.inArray(t,h.widgets)===i}),o=(a=h.widgets||[]).length,r=0;r<o;r++)(l=i.getWidgetById(a[r]))&&l.id?(l.priority||(l.priority=10),u[r]=l):h.debug&&console.warn('"'+a[r]+'" widget code does not exist!');for(u.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),o=u.length,h.debug&&console[console.group?"group":"log"]("Start "+(n?"initializing":"applying")+" widgets"),r=0;r<o;r++)(l=u[r])&&l.id&&i.applyWidgetId(t,l.id,n);h.debug&&console.groupEnd&&console.groupEnd()}h.timerReady=setTimeout(function(){t.isApplyingWidgets=!1,e.data(t,"lastWidgetApplication",new Date),h.$table.triggerHandler("tablesorter-ready"),n||"function"!=typeof s||s(t),h.debug&&(l=h.widgets.length,console.log("Completed "+(!0===n?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+i.benchmark(c)))},10)}},removeWidget:function(t,n,s){var r,o,a,l,c=(t=e(t)[0]).config;if(!0===n)for(n=[],l=i.widgets.length,a=0;a<l;a++)(o=i.widgets[a])&&o.id&&(n[n.length]=o.id);else n=(e.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,r=0;r<l;r++)o=i.getWidgetById(n[r]),(a=e.inArray(n[r],c.widgets))>=0&&!0!==s&&c.widgets.splice(a,1),o&&o.remove&&(c.debug&&console.log((s?"Refreshing":"Removing")+' "'+n[r]+'" widget'),o.remove(t,c,c.widgetOptions,s),c.widgetInit[n[r]]=!1)},refreshWidgets:function(t,n,s){var r,o,a=(t=e(t)[0]).config.widgets,l=i.widgets,c=l.length,h=[],u=function(t){e(t).triggerHandler("refreshComplete")};for(r=0;r<c;r++)(o=l[r])&&o.id&&(n||e.inArray(o.id,a)<0)&&(h[h.length]=o.id);i.removeWidget(t,h.join(","),!0),!0!==s?(i.applyWidget(t,n||!1,u),n&&i.applyWidget(t,!1,u)):u(t)},benchmark:function(t){return" ("+((new Date).getTime()-t.getTime())+" ms)"},log:function(){console.log(arguments)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var i,n=e&&e.length||0;for(i=0;i<n;i++)if(e[i][0]===t)return i;return-1},formatFloat:function(t,n){if("string"!=typeof t||""===t)return t;var s;return t=(n&&n.config?!1!==n.config.usNumberFormat:void 0===n||n)?t.replace(i.regex.comma,""):t.replace(i.regex.digitNonUS,"").replace(i.regex.comma,"."),i.regex.digitNegativeTest.test(t)&&(t=t.replace(i.regex.digitNegativeReplace,"-$1")),s=parseFloat(t),isNaN(s)?e.trim(t):s},isDigit:function(t){return isNaN(t)?i.regex.digitTest.test(t.toString().replace(i.regex.digitReplace,"")):""!==t},computeColumnIndex:function(t,n){var s,r,o,a,l,c,h,u,d,p,f=n&&n.columns||0,g=[],m=new Array(f);for(s=0;s<t.length;s++)for(c=t[s].cells,r=0;r<c.length;r++){for(h=s,u=(l=c[r]).rowSpan||1,d=l.colSpan||1,void 0===g[h]&&(g[h]=[]),o=0;o<g[h].length+1;o++)if(void 0===g[h][o]){p=o;break}for(f&&l.cellIndex===p||(l.setAttribute?l.setAttribute("data-column",p):e(l).attr("data-column",p)),o=h;o<h+u;o++)for(void 0===g[o]&&(g[o]=[]),m=g[o],a=p;a<p+d;a++)m[a]="x"}return i.checkColumnCount(t,g,m.length),m.length},checkColumnCount:function(t,e,i){var n,s,r=!0,o=[];for(n=0;n<e.length;n++)if(e[n]&&(s=e[n].length,e[n].length!==i)){r=!1;break}r||(t.each(function(t,e){var i=e.parentElement.nodeName;o.indexOf(i)<0&&o.push(i)}),console.error("Invalid or incorrect number of columns in the "+o.join(" or ")+"; expected "+i+", but found "+s+" columns"))},fixColumnWidth:function(t){var n,s,r,o,a,l=(t=e(t)[0]).config,c=l.$table.children("colgroup");if(c.length&&c.hasClass(i.css.colgroup)&&c.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(c=e('<colgroup class="'+i.css.colgroup+'">'),n=l.$table.width(),o=(r=l.$tbodies.find("tr:first").children(":visible")).length,a=0;a<o;a++)s=parseInt(r.eq(a).width()/n*1e3,10)/10+"%",c.append(e("<col>").css("width",s));l.$table.prepend(c)}},getData:function(t,i,n){var s,r,o="",a=e(t);return a.length?(s=!!e.metadata&&a.metadata(),r=" "+(a.attr("class")||""),void 0!==a.data(n)||void 0!==a.data(n.toLowerCase())?o+=a.data(n)||a.data(n.toLowerCase()):s&&void 0!==s[n]?o+=s[n]:i&&void 0!==i[n]?o+=i[n]:" "!==r&&r.match(" "+n+"-")&&(o=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),e.trim(o)):""},getColumnData:function(t,i,n,s,r){if("object"!=typeof i||null===i)return i;var o,a=(t=e(t)[0]).config,l=r||a.$headers,c=a.$headerIndexed&&a.$headerIndexed[n]||l.filter('[data-column="'+n+'"]:last');if(void 0!==i[n])return s?i[n]:i[l.index(c)];for(o in i)if("string"==typeof o&&c.filter(o).add(c.find(o)).length)return i[o]},isProcessing:function(t,n,s){var r=(t=e(t))[0].config,o=s||t.find("."+i.css.header);n?(void 0!==s&&r.sortList.length>0&&(o=o.filter(function(){return!this.sortDisabled&&i.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)>=0})),t.add(o).addClass(i.css.processing+" "+r.cssProcessing)):t.add(o).removeClass(i.css.processing+" "+r.cssProcessing)},processTbody:function(t,i,n){if(t=e(t)[0],n)return t.isProcessing=!0,i.before('<colgroup class="tablesorter-savemyplace"/>'),e.fn.detach?i.detach():i.remove();var s=e(t).find("colgroup.tablesorter-savemyplace");i.insertAfter(s),s.remove(),t.isProcessing=!1},clearTableBody:function(t){e(t)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(t){var e,n="[",s=i.characterEquivalents;if(!i.characterRegex){i.characterRegexArray={}
;for(e in s)"string"==typeof e&&(n+=s[e],i.characterRegexArray[e]=new RegExp("["+s[e]+"]","g"));i.characterRegex=new RegExp(n+"]")}if(i.characterRegex.test(t))for(e in s)"string"==typeof e&&(t=t.replace(i.characterRegexArray[e],e));return t},validateOptions:function(t){var n,s,r,o,a="headers sortForce sortList sortAppend widgets".split(" "),l=t.originalSettings;if(l){t.debug&&(o=new Date);for(n in l)if("undefined"==(r=typeof i.defaults[n]))console.warn('Tablesorter Warning! "table.config.'+n+'" option not recognized');else if("object"===r)for(s in l[n])r=i.defaults[n]&&typeof i.defaults[n][s],e.inArray(n,a)<0&&"undefined"===r&&console.warn('Tablesorter Warning! "table.config.'+n+"."+s+'" option not recognized');t.debug&&console.log("validate options time:"+i.benchmark(o))}},restoreHeaders:function(t){var n,s,r=e(t)[0].config,o=r.$table.find(r.selectorHeaders),a=o.length;for(n=0;n<a;n++)(s=o.eq(n)).find("."+i.css.headerIn).length&&s.html(r.headerContent[n])},destroy:function(t,n,s){if((t=e(t)[0]).hasInitialized){i.removeWidget(t,!0,!1);var r,o=e(t),a=t.config,l=a.debug,c=o.find("thead:first"),h=c.find("tr."+i.css.headerRow).removeClass(i.css.headerRow+" "+a.cssHeaderRow),u=o.find("tfoot:first > tr").children("th, td");!1===n&&e.inArray("uitheme",a.widgets)>=0&&(o.triggerHandler("applyWidgetId",["uitheme"]),o.triggerHandler("applyWidgetId",["zebra"])),c.find("tr").not(h).remove(),r="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),o.removeData("tablesorter").unbind(r.replace(i.regex.spaces," ")),a.$headers.add(u).removeClass([i.css.header,a.cssHeader,a.cssAsc,a.cssDesc,i.css.sortAsc,i.css.sortDesc,i.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),h.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(i.regex.spaces," ")),i.restoreHeaders(t),o.toggleClass(i.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===n),o.removeClass(a.namespace.slice(1)),t.hasInitialized=!1,delete t.config.cache,"function"==typeof s&&s(t),l&&console.log("tablesorter has been removed")}}};e.fn.tablesorter=function(t){return this.each(function(){var n=this,s=e.extend(!0,{},i.defaults,t,i.instanceMethods);s.originalSettings=t,!n.hasInitialized&&i.buildTable&&"TABLE"!==this.nodeName?i.buildTable(n,s):i.setup(n,s)})},window.console&&window.console.log||(i.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var t=arguments.length>1?arguments:arguments[0];i.logs[i.logs.length]={date:Date.now(),log:t}}),i.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),i.addParser({id:"text",is:function(){return!0},format:function(t,n){var s=n.config;return t&&(t=e.trim(s.ignoreCase?t.toLocaleLowerCase():t),t=s.sortLocaleCompare?i.replaceAccents(t):t),t},type:"text"}),i.regex.nondigit=/[^\w,. \-()]/g,i.addParser({id:"digit",is:function(t){return i.isDigit(t)},format:function(t,n){var s=i.formatFloat((t||"").replace(i.regex.nondigit,""),n);return t&&"number"==typeof s?s:t?e.trim(t&&n.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),i.regex.currencyReplace=/[+\-,. ]/g,i.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,i.addParser({id:"currency",is:function(t){return t=(t||"").replace(i.regex.currencyReplace,""),i.regex.currencyTest.test(t)},format:function(t,n){var s=i.formatFloat((t||"").replace(i.regex.nondigit,""),n);return t&&"number"==typeof s?s:t?e.trim(t&&n.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),i.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,i.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,i.addParser({id:"url",is:function(t){return i.regex.urlProtocolTest.test(t)},format:function(t){return t?e.trim(t.replace(i.regex.urlProtocolReplace,"")):t},type:"text"}),i.regex.dash=/-/g,i.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,i.addParser({id:"isoDate",is:function(t){return i.regex.isoDate.test(t)},format:function(t){var e=t?new Date(t.replace(i.regex.dash,"/")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),i.regex.percent=/%/g,i.regex.percentTest=/(\d\s*?%|%\s*?\d)/,i.addParser({id:"percent",is:function(t){return i.regex.percentTest.test(t)&&t.length<15},format:function(t,e){return t?i.formatFloat(t.replace(i.regex.percent,""),e):t},type:"numeric"}),i.addParser({id:"image",is:function(t,e,i,n){return n.find("img").length>0},format:function(t,i,n){return e(n).find("img").attr(i.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),i.regex.dateReplace=/(\S)([AP]M)$/i,i.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,i.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,i.addParser({id:"usLongDate",is:function(t){return i.regex.usLongDateTest1.test(t)||i.regex.usLongDateTest2.test(t)},format:function(t){var e=t?new Date(t.replace(i.regex.dateReplace,"$1 $2")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),i.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,i.regex.shortDateReplace=/[\-.,]/g,i.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,i.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,i.convertFormat=function(t,e){t=(t||"").replace(i.regex.spaces," ").replace(i.regex.shortDateReplace,"/"),"mmddyyyy"===e?t=t.replace(i.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===e?t=t.replace(i.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===e&&(t=t.replace(i.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(t);return n instanceof Date&&isFinite(n)?n.getTime():""},i.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(i.regex.spaces," ").replace(i.regex.shortDateReplace,"/"),i.regex.shortDateTest.test(t)},format:function(t,e,n,s){if(t){var r=e.config,o=r.$headerIndexed[s],a=o.length&&o.data("dateFormat")||i.getData(o,i.getColumnData(e,r.headers,s),"dateFormat")||r.dateFormat;return o.length&&o.data("dateFormat",a),i.convertFormat(t,a)||t}return t},type:"numeric"}),i.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,i.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,i.addParser({id:"time",is:function(t){return i.regex.timeTest.test(t)},format:function(t){var e,n=(t||"").match(i.regex.timeMatch),s=new Date(t),r=t&&(null!==n?n[0]:"00:00 AM"),o=r?new Date("2000/01/01 "+r.replace(i.regex.dateReplace,"$1 $2")):r;return o instanceof Date&&isFinite(o)?(e=s instanceof Date&&isFinite(s)?s.getTime():0,e?parseFloat(o.getTime()+"."+s.getTime()):o.getTime()):t},type:"numeric"}),i.addParser({id:"metadata",is:function(){return!1},format:function(t,i,n){var s=i.config,r=s.parserMetadataName?s.parserMetadataName:"sortValue";return e(n).metadata()[r]},type:"numeric"}),i.addWidget({id:"zebra",priority:90,format:function(t,i,n){var s,r,o,a,l,c,h,u=new RegExp(i.cssChildRow,"i"),d=i.$tbodies.add(e(i.namespace+"_extra_table").children("tbody:not(."+i.cssInfoBlock+")"));for(l=0;l<d.length;l++)for(o=0,h=(s=d.eq(l).children("tr:visible").not(i.selectorRemove)).length,c=0;c<h;c++)r=s.eq(c),u.test(r[0].className)||o++,a=o%2==0,r.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(t,e,n,s){if(!s){var r,o,a=e.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(r=0;r<a.length;r++)(o=i.processTbody(t,a.eq(r),!0)).children().removeClass(l),i.processTbody(t,o,!1)}}})}(t),t.tablesorter}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(t,e,i){"use strict";var n=t.tablesorter||{};t.extend(!0,n.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),n.storage=function(n,s,r,o){var a,l,c,h=!1,u={},d=(n=t(n)[0]).config,p=d&&d.widgetOptions,f=(o&&o.storageType||p&&p.storage_storageType).toString().charAt(0).toLowerCase(),g=f?"":o&&o.useSessionStorage||p&&p.storage_useSessionStorage,m=t(n),v=o&&o.id||m.attr(o&&o.group||p&&p.storage_group||"data-table-group")||p&&p.storage_tableId||n.id||t(".tablesorter").index(m),b=o&&o.url||m.attr(o&&o.page||p&&p.storage_page||"data-table-page")||p&&p.storage_fixedUrl||d&&d.fixedUrl||e.location.pathname;if("c"!==f&&(f="s"===f||g?"sessionStorage":"localStorage")in e)try{e[f].setItem("_tmptest","temp"),h=!0,e[f].removeItem("_tmptest")}catch(t){d&&d.debug&&console.warn(f+" is not supported in this browser")}if(d.debug&&console.log("Storage widget using",h?f:"cookies"),t.parseJSON&&(h?u=t.parseJSON(e[f][s]||"null")||{}:(l=i.cookie.split(/[;\s|=]/),u=0!==(a=t.inArray(s,l)+1)?t.parseJSON(l[a]||"null")||{}:{})),void 0===r||!e.JSON||!JSON.hasOwnProperty("stringify"))return u&&u[b]?u[b][v]:"";u[b]||(u[b]={}),u[b][v]=r,h?e[f][s]=JSON.stringify(u):((c=new Date).setTime(c.getTime()+31536e6),i.cookie=s+"="+JSON.stringify(u).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/")}}(t,window,document),function(t){"use strict";var e=t.tablesorter||{};e.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},t.extend(e.css,{wrapper:"tablesorter-wrapper"}),e.addWidget({id:"uitheme",priority:10,format:function(i,n,s){var r,o,a,l,c,h,u,d,p,f,g,m,v,b=e.themes,y=n.$table.add(t(n.namespace+"_extra_table")),x=n.$headers.add(t(n.namespace+"_extra_headers")),w=n.theme||"jui",_=b[w]||{},k=t.trim([_.sortNone,_.sortDesc,_.sortAsc,_.active].join(" ")),C=t.trim([_.iconSortNone,_.iconSortDesc,_.iconSortAsc].join(" "));for(n.debug&&(c=new Date),y.hasClass("tablesorter-"+w)&&n.theme===n.appliedTheme&&s.uitheme_applied||(s.uitheme_applied=!0,f=b[n.appliedTheme]||{},g=(v=!t.isEmptyObject(f))?[f.sortNone,f.sortDesc,f.sortAsc,f.active].join(" "):"",m=v?[f.iconSortNone,f.iconSortDesc,f.iconSortAsc].join(" "):"",v&&(s.zebra[0]=t.trim(" "+s.zebra[0].replace(" "+f.even,"")),s.zebra[1]=t.trim(" "+s.zebra[1].replace(" "+f.odd,"")),n.$tbodies.children().removeClass([f.even,f.odd].join(" "))),_.even&&(s.zebra[0]+=" "+_.even),_.odd&&(s.zebra[1]+=" "+_.odd),y.children("caption").removeClass(f.caption||"").addClass(_.caption),d=y.removeClass((n.appliedTheme?"tablesorter-"+(n.appliedTheme||""):"")+" "+(f.table||"")).addClass("tablesorter-"+w+" "+(_.table||"")).children("tfoot"),n.appliedTheme=n.theme,d.length&&d.children("tr").removeClass(f.footerRow||"").addClass(_.footerRow).children("th, td").removeClass(f.footerCells||"").addClass(_.footerCells),x.removeClass((v?[f.header,f.hover,g].join(" "):"")||"").addClass(_.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(e){t(this)["mouseenter"===e.type?"addClass":"removeClass"](_.hover||"")}),x.each(function(){var i=t(this);i.find("."+e.css.wrapper).length||i.wrapInner('<div class="'+e.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),n.cssIcon&&x.find("."+e.css.icon).removeClass(v?[f.icons,m].join(" "):"").addClass(_.icons||""),e.hasWidget(n.table,"filter")&&(o=function(){y.children("thead").children("."+e.css.filterRow).removeClass(v?f.filterRow||"":"").addClass(_.filterRow||"")},s.filter_initialized?o():y.one("filterInit",function(){o()}))),r=0;r<n.columns;r++)h=n.$headers.add(t(n.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+r+'"]'),u=e.css.icon?h.find("."+e.css.icon):t(),(p=x.not(".sorter-false").filter('[data-column="'+r+'"]:last')).length&&(h.removeClass(k),u.removeClass(C),p[0].sortDisabled?u.removeClass(_.icons||""):(a=_.sortNone,l=_.iconSortNone,p.hasClass(e.css.sortAsc)?(a=[_.sortAsc,_.active].join(" "),l=_.iconSortAsc):p.hasClass(e.css.sortDesc)&&(a=[_.sortDesc,_.active].join(" "),l=_.iconSortDesc),h.addClass(a),u.addClass(l||"")));n.debug&&console.log("Applying "+w+" theme"+e.benchmark(c))},remove:function(t,i,n,s){if(n.uitheme_applied){var r=i.$table,o=i.appliedTheme||"jui",a=e.themes[o]||e.themes.jui,l=r.children("thead").children(),c=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,h=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;r.removeClass("tablesorter-"+o+" "+a.table),n.uitheme_applied=!1,s||(r.find(e.css.header).removeClass(a.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+c+" "+a.active).filter("."+e.css.filterRow).removeClass(a.filterRow),l.find("."+e.css.icon).removeClass(a.icons+" "+h))}}})}(t),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(i,n,s){var r,o,a,l,c,h,u,d,p=n.$table,f=n.$tbodies,g=n.sortList,m=g.length,v=s&&s.columns||["primary","secondary","tertiary"],b=v.length-1;for(u=v.join(" "),o=0;o<f.length;o++)(a=(r=e.processTbody(i,f.eq(o),!0)).children("tr")).each(function(){if(c=t(this),"none"!==this.style.display&&(h=c.children().removeClass(u),g&&g[0]&&(h.eq(g[0][0]).addClass(v[0]),m>1)))for(d=1;d<m;d++)h.eq(g[d][0]).addClass(v[d]||v[b])}),e.processTbody(i,r,!1);if(l=!1!==s.columns_thead?["thead tr"]:[],!1!==s.columns_tfoot&&l.push("tfoot tr"),l.length&&(a=p.find(l.join(",")).children().removeClass(u),m))for(d=0;d<m;d++)a.filter('[data-column="'+g[d][0]+'"]').addClass(v[d]||v[b])},remove:function(i,n,s){var r,o,a=n.$tbodies,l=(s.columns||["primary","secondary","tertiary"]).join(" ");for(n.$headers.removeClass(l),n.$table.children("tfoot").children("tr").children("th, td").removeClass(l),r=0;r<a.length;r++)(o=e.processTbody(i,a.eq(r),!0)).children("tr").each(function(){t(this).children().removeClass(l)}),e.processTbody(i,o,!1)}})}(t),function(t){"use strict";var e,i,n=t.tablesorter||{},s=n.css,r=n.keyCodes;t.extend(s,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),t.extend(r,{backSpace:8,escape:27,space:32,left:37,down:40}),n.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(t,i,n){i.$table.hasClass("hasFilters")||e.init(t,i,n)},remove:function(e,i,r,o){var a,l,c=i.$table,h=i.$tbodies,u="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(i.namespace+"filter ");if(c.removeClass("hasFilters").unbind(u.replace(n.regex.spaces," ")).find("."+s.filterRow).remove(),r.filter_initialized=!1,!o){for(a=0;a<h.length;a++)(l=n.processTbody(e,h.eq(a),!0)).children().removeClass(r.filter_filteredRow).show(),n.processTbody(e,l,!1);r.filter_reset&&t(document).undelegate(r.filter_reset,"click"+i.namespace+"filter")}}}),e=n.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(n,s,r){if((i.orTest.test(s.iFilter)||i.orSplit.test(s.filter))&&!i.regex.test(s.filter)){var o,a,l,c,h=t.extend({},s),u=s.filter.split(i.orSplit),d=s.iFilter.split(i.orSplit),p=u.length;for(o=0;o<p;o++){h.nestedFilters=!0,h.filter=""+(e.parseFilter(n,u[o],s)||""),h.iFilter=""+(e.parseFilter(n,d[o],s)||""),l="("+(e.parseFilter(n,h.filter,s)||"")+")";try{if(c=new RegExp(s.isMatch?l:"^"+l+"$",n.widgetOptions.filter_ignoreCase?"i":""),a=c.test(h.exact)||e.processTypes(n,h,r))return a}catch(t){return null}}return a||!1}return null},and:function(n,s,r){if(i.andTest.test(s.filter)){var o,a,l,c,h=t.extend({},s),u=s.filter.split(i.andSplit),d=s.iFilter.split(i.andSplit),p=u.length;for(o=0;o<p;o++){h.nestedFilters=!0,h.filter=""+(e.parseFilter(n,u[o],s)||""),h.iFilter=""+(e.parseFilter(n,d[o],s)||""),c=("("+(e.parseFilter(n,h.filter,s)||"")+")").replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*");try{l=new RegExp(s.isMatch?c:"^"+c+"$",n.widgetOptions.filter_ignoreCase?"i":"").test(h.exact)||e.processTypes(n,h,r),a=0===o?l:a&&l}catch(t){return null}}return a||!1}return null},regex:function(t,e){if(i.regex.test(e.filter)){var n,s=e.filter_regexCache[e.index]||i.regex.exec(e.filter),r=s instanceof RegExp;try{r||(e.filter_regexCache[e.index]=s=new RegExp(s[1],s[2])),n=s.test(e.exact)}catch(t){n=!1}return n}return null},operators:function(s,r){if(i.operTest.test(r.iFilter)&&""!==r.iExact){var o,a,l,c=s.table,h=r.parsed[r.index],u=n.formatFloat(r.iFilter.replace(i.operators,""),c),d=s.parsers[r.index]||{},p=u;return(h||"numeric"===d.type)&&(l=t.trim(""+r.iFilter.replace(i.operators,"")),u="number"!=typeof(a=e.parseFilter(s,l,r,!0))||""===a||isNaN(a)?u:a),!h&&"numeric"!==d.type||isNaN(u)||void 0===r.cache?(l=isNaN(r.iExact)?r.iExact.replace(n.regex.nondigit,""):r.iExact,o=n.formatFloat(l,c)):o=r.cache,i.gtTest.test(r.iFilter)?a=i.gteTest.test(r.iFilter)?o>=u:o>u:i.ltTest.test(r.iFilter)&&(a=i.lteTest.test(r.iFilter)?o<=u:o<u),a||""!==p||(a=!0),a}return null},notMatch:function(n,s){if(i.notTest.test(s.iFilter)){var r,o=s.iFilter.replace("!",""),a=e.parseFilter(n,o,s)||"";return i.exact.test(a)?""===(a=a.replace(i.exact,""))||t.trim(a)!==s.iExact:(r=s.iExact.search(t.trim(a)),""===a||(s.anyMatch?r<0:!(n.widgetOptions.filter_startsWith?0===r:r>=0)))}return null},exact:function(n,s){if(i.exact.test(s.iFilter)){var r=s.iFilter.replace(i.exact,""),o=e.parseFilter(n,r,s)||"";return s.anyMatch?t.inArray(o,s.rowArray)>=0:o==s.iExact}return null},range:function(t,s){if(i.toTest.test(s.iFilter)){var r,o,a,l,c=t.table,h=s.index,u=s.parsed[h],d=s.iFilter.split(i.toSplit);return o=d[0].replace(n.regex.nondigit,"")||"",a=n.formatFloat(e.parseFilter(t,o,s),c),o=d[1].replace(n.regex.nondigit,"")||"",l=n.formatFloat(e.parseFilter(t,o,s),c),(u||"numeric"===t.parsers[h].type)&&(a=""===(r=t.parsers[h].format(""+d[0],c,t.$headers.eq(h),h))||isNaN(r)?a:r,l=""===(r=t.parsers[h].format(""+d[1],c,t.$headers.eq(h),h))||isNaN(r)?l:r),!u&&"numeric"!==t.parsers[h].type||isNaN(a)||isNaN(l)?(o=isNaN(s.iExact)?s.iExact.replace(n.regex.nondigit,""):s.iExact,r=n.formatFloat(o,c)):r=s.cache,a>l&&(o=a,a=l,l=o),r>=a&&r<=l||""===a||""===l}return null},wild:function(t,n){if(i.wildOrTest.test(n.iFilter)){var s=""+(e.parseFilter(t,n.iFilter,n)||"");!i.wildTest.test(s)&&n.nestedFilters&&(s=n.isMatch?s:"^("+s+")$");try{return new RegExp(s.replace(i.wild01,"\\S{1}").replace(i.wild0More,"\\S*"),t.widgetOptions.filter_ignoreCase?"i":"").test(n.exact)}catch(t){return null}}return null},fuzzy:function(t,n){if(i.fuzzyTest.test(n.iFilter)){var s,r=0,o=n.iExact.length,a=n.iFilter.slice(1),l=e.parseFilter(t,a,n)||"";for(s=0;s<o;s++)n.iExact[s]===l[r]&&(r+=1);return r===l.length}return null}},init:function(r){n.language=t.extend(!0,{},{to:"to",or:"or",and:"and"},n.language);var o,a,l,c,h,u,d,p,f=r.config,g=f.widgetOptions;if(f.$table.addClass("hasFilters"),f.lastSearch=[],g.filter_searchTimer=null,g.filter_initTimer=null,g.filter_formatterCount=0,g.filter_formatterInit=[],g.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',g.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',u="\\{"+i.query+"\\}",t.extend(i,{child:new RegExp(f.cssChildRow),filtered:new RegExp(g.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+n.language.or+"|-|"+n.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+n.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+n.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+n.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+n.language.and+"|&&)\\s+)","gi"),orTest:new RegExp("(\\||\\s+"+n.language.or+"\\s+)","i"),orSplit:new RegExp("(?:\\s+(?:"+n.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(u,"i"),igQuery:new RegExp(u,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),u=f.$headers.filter(".filter-false, .parser-false").length,!1!==g.filter_columnFilters&&u!==f.$headers.length&&e.buildRow(r,f,g),l="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(f.namespace+"filter "),f.$table.bind(l,function(i,o){return u=g.filter_hideEmpty&&t.isEmptyObject(f.cache)&&!(f.delayInit&&"appendCache"===i.type),f.$table.find("."+s.filterRow).toggleClass(g.filter_filteredRow,u),/(search|filter)/.test(i.type)||(i.stopPropagation(),e.buildDefault(r,!0)),"filterReset"===i.type||"filterAndSortReset"===i.type?(f.$table.find("."+s.filter).add(g.filter_$externalFilters).val(""),"filterAndSortReset"===i.type?n.sortReset(this.config,function(){e.searching(r,[])}):e.searching(r,[])):"filterResetSaved"===i.type?n.storage(r,"tablesorter-filters",""):"filterEnd"===i.type?e.buildDefault(r,!0):(o="search"===i.type?o:"updateComplete"===i.type?f.$table.data("lastSearch"):"",/(update|add)/.test(i.type)&&"updateComplete"!==i.type&&(f.lastCombinedFilter=null,f.lastSearch=[],setTimeout(function(){f.$table.triggerHandler("filterFomatterUpdate")},100)),e.searching(r,o,!0)),!1}),g.filter_reset&&(g.filter_reset instanceof t?g.filter_reset.click(function(){f.$table.triggerHandler("filterReset")}):t(g.filter_reset).length&&t(document).undelegate(g.filter_reset,"click"+f.namespace+"filter").delegate(g.filter_reset,"click"+f.namespace+"filter",function(){f.$table.triggerHandler("filterReset")})),g.filter_functions)for(h=0;h<f.columns;h++)if(d=n.getColumnData(r,g.filter_functions,h))if(c=f.$headerIndexed[h].removeClass("filter-select"),p=!(c.hasClass("filter-false")||c.hasClass("parser-false")),o="",!0===d&&p)e.buildSelect(r,h);else if("object"==typeof d&&p){for(a in d)"string"==typeof a&&(o+=""===o?'<option value="">'+(c.data("placeholder")||c.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>":"",u=a,l=a,a.indexOf(g.filter_selectSourceSeparator)>=0&&(l=(u=a.split(g.filter_selectSourceSeparator))[1],u=u[0]),o+="<option "+(l===u?"":'data-function-name="'+a+'" ')+'value="'+u+'">'+l+"</option>");f.$table.find("thead").find("select."+s.filter+'[data-column="'+h+'"]').append(o),(d="function"==typeof(l=g.filter_selectSource)||n.getColumnData(r,l,h))&&e.buildSelect(f.table,h,"",!0,c.hasClass(g.filter_onlyAvail))}e.buildDefault(r,!0),e.bindSearch(r,f.$table.find("."+s.filter),!0),g.filter_external&&e.bindSearch(r,g.filter_external),g.filter_hideFilters&&e.hideFilters(f),f.showProcessing&&(l="filterStart filterEnd ".split(" ").join(f.namespace+"filter "),f.$table.unbind(l.replace(n.regex.spaces," ")).bind(l,function(e,i){c=i?f.$table.find("."+s.header).filter("[data-column]").filter(function(){return""!==i[t(this).data("column")]}):"",n.isProcessing(r,"filterStart"===e.type,i?c:"")})),f.filteredRows=f.totalRows,l="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(f.namespace+"filter "),f.$table.unbind(l.replace(n.regex.spaces," ")).bind(l,function(){e.completeInit(this)}),f.pager&&f.pager.initialized&&!g.filter_initialized?(f.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){e.filterInitComplete(f)},100)):g.filter_initialized||e.completeInit(r)},completeInit:function(t){var i=t.config,s=i.widgetOptions,r=e.setDefaults(t,i,s)||[];r.length&&(i.delayInit&&""===r.join("")||n.setFilters(t,r,!0)),i.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){s.filter_initialized||e.filterInitComplete(i)},100)},formatterUpdated:function(t,e){var i=t&&t.closest("table"),n=i.length&&i[0].config,s=n&&n.widgetOptions;s&&!s.filter_initialized&&(s.filter_formatterInit[e]=1)},filterInitComplete:function(i){var n,s,r=i.widgetOptions,o=0,a=function(){r.filter_initialized=!0,i.lastSearch=i.$table.data("lastSearch"),i.$table.triggerHandler("filterInit",i),e.findRows(i.table,i.lastSearch||[])};if(t.isEmptyObject(r.filter_formatter))a();else{for(s=r.filter_formatterInit.length,n=0;n<s;n++)1===r.filter_formatterInit[n]&&o++;clearTimeout(r.filter_initTimer),r.filter_initialized||o!==r.filter_formatterCount?r.filter_initialized||(r.filter_initTimer=setTimeout(function(){a()},500)):a()}},processFilters:function(t,e){var i,n=[],s=e?encodeURIComponent:decodeURIComponent,r=t.length;for(i=0;i<r;i++)t[i]&&(n[i]=s(t[i]));return n},setDefaults:function(i,s,r){var o,a,l,c,h,u=n.getFilters(i)||[];if(r.filter_saveFilters&&n.storage&&(a=n.storage(i,"tablesorter-filters")||[],(o=t.isArray(a))&&""===a.join("")||!o||(u=e.processFilters(a))),""===u.join(""))for(h=s.$headers.add(r.filter_$externalFilters).filter("["+r.filter_defaultAttrib+"]"),l=0;l<=s.columns;l++)c=l===s.columns?"all":l,u[l]=h.filter('[data-column="'+c+'"]').attr(r.filter_defaultAttrib)||u[l]||"";return s.$table.data("lastSearch",u),u},parseFilter:function(t,e,i,n){return n||i.parsed[i.index]?t.parsers[i.index].format(e,t.table,[],i.index):e},buildRow:function(i,r,o){var a,l,c,h,u,d,p,f,g,m=o.filter_cellFilter,v=r.columns,b=t.isArray(m),y='<tr role="row" class="'+s.filterRow+" "+r.cssIgnoreRow+'">';for(c=0;c<v;c++)r.$headerIndexed[c].length&&(y+=(g=r.$headerIndexed[c]&&r.$headerIndexed[c][0].colSpan||0)>1?'<td data-column="'+c+"-"+(c+g-1)+'" colspan="'+g+'"':'<td data-column="'+c+'"',y+=b?m[c]?' class="'+m[c]+'"':"":""!==m?' class="'+m+'"':"",y+="></td>");for(r.$filters=t(y+="</tr>").appendTo(r.$table.children("thead").eq(0)).children("td"),c=0;c<v;c++)d=!1,(h=r.$headerIndexed[c])&&h.length&&(a=e.getColumnElm(r,r.$filters,c),f=n.getColumnData(i,o.filter_functions,c),u=o.filter_functions&&f&&"function"!=typeof f||h.hasClass("filter-select"),l=n.getColumnData(i,r.headers,c),d="false"===n.getData(h[0],l,"filter")||"false"===n.getData(h[0],l,"parser"),u?y=t("<select>").appendTo(a):((f=n.getColumnData(i,o.filter_formatter,c))?(o.filter_formatterCount++,(y=f(a,c))&&0===y.length&&(y=a.children("input")),y&&(0===y.parent().length||y.parent().length&&y.parent()[0]!==a[0])&&a.append(y)):y=t('<input type="search">').appendTo(a),y&&(g=h.data("placeholder")||h.attr("data-placeholder")||o.filter_placeholder.search||"",y.attr("placeholder",g))),y&&(p=(t.isArray(o.filter_cssFilter)?void 0!==o.filter_cssFilter[c]?o.filter_cssFilter[c]||"":"":o.filter_cssFilter)||"",y.addClass(s.filter+" "+p).attr("data-column",a.attr("data-column")),d&&(y.attr("placeholder","").addClass(s.filterDisabled)[0].disabled=!0)))},bindSearch:function(i,s,o){if(i=t(i)[0],(s=t(s)).length){var a,l=i.config,c=l.widgetOptions,h=l.namespace+"filter",u=c.filter_$externalFilters;!0!==o&&(a=c.filter_anyColumnSelector+","+c.filter_multipleColumnSelector,c.filter_$anyMatch=s.filter(a),u&&u.length?c.filter_$externalFilters=c.filter_$externalFilters.add(s):c.filter_$externalFilters=s,n.setFilters(i,l.$table.data("lastSearch")||[],!1===o)),a="keypress keyup keydown search change input ".split(" ").join(h+" "),s.attr("data-lastSearchTime",(new Date).getTime()).unbind(a.replace(n.regex.spaces," ")).bind("keydown"+h,function(t){if(t.which===r.escape&&!i.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+h,function(s){c=i.config.widgetOptions;var o=parseInt(t(this).attr("data-column"),10),a="boolean"==typeof c.filter_liveSearch?c.filter_liveSearch:n.getColumnData(i,c.filter_liveSearch,o);if(void 0===a&&(a=c.filter_liveSearch.fallback||!1),t(this).attr("data-lastSearchTime",(new Date).getTime()),s.which===r.escape)this.value=c.filter_resetOnEsc?"":l.lastSearch[o];else{if(""!==this.value&&("number"==typeof a&&this.value.length<a||s.which!==r.enter&&s.which!==r.backSpace&&(s.which<r.space||s.which>=r.left&&s.which<=r.down)))return;if(!1===a&&""!==this.value&&s.which!==r.enter)return}e.searching(i,!0,!0,o)}).bind("search change keypress input blur ".split(" ").join(h+" "),function(s){var o=parseInt(t(this).attr("data-column"),10),a=s.type,h="boolean"==typeof c.filter_liveSearch?c.filter_liveSearch:n.getColumnData(i,c.filter_liveSearch,o);!i.config.widgetOptions.filter_initialized||s.which!==r.enter&&"search"!==a&&"blur"!==a&&("change"!==a&&"input"!==a||!0!==h&&(!0===h||"INPUT"===s.target.nodeName)||this.value===l.lastSearch[o])||(s.preventDefault(),t(this).attr("data-lastSearchTime",(new Date).getTime()),e.searching(i,"keypress"!==a,!0,o))})}},searching:function(t,i,s,r){var o,a=t.config.widgetOptions;void 0===r?o=!1:void 0===(o="boolean"==typeof a.filter_liveSearch?a.filter_liveSearch:n.getColumnData(t,a.filter_liveSearch,r))&&(o=a.filter_liveSearch.fallback||!1),clearTimeout(a.filter_searchTimer),void 0===i||!0===i?a.filter_searchTimer=setTimeout(function(){e.checkFilters(t,i,s)},o?a.filter_searchDelay:10):e.checkFilters(t,i,s)},equalFilters:function(e,i,n){var s,r=[],o=[],a=e.columns+1;for(i=t.isArray(i)?i:[],n=t.isArray(n)?n:[],s=0;s<a;s++)r[s]=i[s]||"",o[s]=n[s]||"";return r.join(",")===o.join(",")},checkFilters:function(i,r,o){var a=i.config,l=a.widgetOptions,c=t.isArray(r),h=c?r:n.getFilters(i,!0),u=h||[];if(t.isEmptyObject(a.cache))a.delayInit&&(!a.pager||a.pager&&a.pager.initialized)&&n.updateCache(a,function(){e.checkFilters(i,!1,o)});else if(c&&(n.setFilters(i,h,!1,!0!==o),l.filter_initialized||(a.lastSearch=[],a.lastCombinedFilter="")),l.filter_hideFilters&&a.$table.find("."+s.filterRow).triggerHandler(e.hideFiltersCheck(a)?"mouseleave":"mouseenter"),!e.equalFilters(a,a.lastSearch,u)||!1===r){if(!1===r&&(a.lastCombinedFilter="",a.lastSearch=[]),h=h||[],h=Array.prototype.map?h.map(String):h.join("\ufffd").split("\ufffd"),l.filter_initialized&&a.$table.triggerHandler("filterStart",[h]),!a.showProcessing)return e.findRows(i,h,u),!1;setTimeout(function(){return e.findRows(i,h,u),!1},30)}},hideFiltersCheck:function(t){if("function"==typeof t.widgetOptions.filter_hideFilters){var e=t.widgetOptions.filter_hideFilters(t);if("boolean"==typeof e)return e}return""===n.getFilters(t.$table).join("")},hideFilters:function(i,n){var r;(n||i.$table).find("."+s.filterRow).addClass(s.filterRowHide).bind("mouseenter mouseleave",function(n){var o=n,a=t(this);clearTimeout(r),r=setTimeout(function(){/enter|over/.test(o.type)?a.removeClass(s.filterRowHide):t(document.activeElement).closest("tr")[0]!==a[0]&&a.toggleClass(s.filterRowHide,e.hideFiltersCheck(i))},200)}).find("input, select").bind("focus blur",function(n){var o=n,a=t(this).closest("tr");clearTimeout(r),r=setTimeout(function(){clearTimeout(r),a.toggleClass(s.filterRowHide,e.hideFiltersCheck(i)&&"focus"!==o.type)},200)})},defaultFilter:function(e,n){if(""===e)return e;var s=i.iQuery,r=n.match(i.igQuery).length,o=r>1?t.trim(e).split(/\s/):[t.trim(e)],a=o.length-1,l=0,c=n;for(a<1&&r>1&&(o[1]=o[0]);s.test(c);)c=c.replace(s,o[l++]||""),s.test(c)&&l<a&&""!==(o[l]||"")&&(c=n.replace(s,c));return c},getLatestSearch:function(e){return e?e.sort(function(e,i){return t(i).attr("data-lastSearchTime")-t(e).attr("data-lastSearchTime")}):e||t()},findRange:function(t,e,i){var n,s,r,o,a,l,c,h,u,d=[];if(/^[0-9]+$/.test(e))return[parseInt(e,10)];if(!i&&/-/.test(e))for(u=(s=e.match(/(\d+)\s*-\s*(\d+)/g))?s.length:0,h=0;h<u;h++){for(r=s[h].split(/\s*-\s*/),(o=parseInt(r[0],10)||0)>(a=parseInt(r[1],10)||t.columns-1)&&(n=o,o=a,a=n),
a>=t.columns&&(a=t.columns-1);o<=a;o++)d[d.length]=o;e=e.replace(s[h],"")}if(!i&&/,/.test(e))for(u=(l=e.split(/\s*,\s*/)).length,c=0;c<u;c++)""!==l[c]&&(h=parseInt(l[c],10))<t.columns&&(d[d.length]=h);if(!d.length)for(h=0;h<t.columns;h++)d[d.length]=h;return d},getColumnElm:function(i,n,s){return n.filter(function(){var n=e.findRange(i,t(this).attr("data-column"));return t.inArray(s,n)>-1})},multipleColumns:function(i,n){var s=i.widgetOptions,r=s.filter_initialized||!n.filter(s.filter_anyColumnSelector).length,o=t.trim(e.getLatestSearch(n).attr("data-column")||"");return e.findRange(i,o,!r)},processTypes:function(i,n,s){var r,o=null,a=null;for(r in e.types)t.inArray(r,s.excludeMatch)<0&&null===a&&null!==(a=e.types[r](i,n,s))&&(o=a);return o},matchType:function(t,e){var i,n=t.widgetOptions,r=t.$headerIndexed[e];return r.hasClass("filter-exact")?i=!1:r.hasClass("filter-match")?i=!0:(n.filter_columnFilters?r=t.$filters.find("."+s.filter).add(n.filter_$externalFilters).filter('[data-column="'+e+'"]'):n.filter_$externalFilters&&(r=n.filter_$externalFilters.filter('[data-column="'+e+'"]')),i=!!r.length&&"match"===t.widgetOptions.filter_matchType[(r[0].nodeName||"").toLowerCase()]),i},processRow:function(s,r,o){var a,l,c,h,u,d=s.widgetOptions,p=!0,f=d.filter_$anyMatch&&d.filter_$anyMatch.length,g=d.filter_$anyMatch&&d.filter_$anyMatch.length?e.multipleColumns(s,d.filter_$anyMatch):[];if(r.$cells=r.$row.children(),r.anyMatchFlag&&g.length>1||r.anyMatchFilter&&!f){if(r.anyMatch=!0,r.isMatch=!0,r.rowArray=r.$cells.map(function(e){if(t.inArray(e,g)>-1||r.anyMatchFilter&&!f)return r.parsed[e]?u=r.cacheArray[e]:(u=r.rawArray[e],u=t.trim(d.filter_ignoreCase?u.toLowerCase():u),s.sortLocaleCompare&&(u=n.replaceAccents(u))),u}).get(),r.filter=r.anyMatchFilter,r.iFilter=r.iAnyMatchFilter,r.exact=r.rowArray.join(" "),r.iExact=d.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.cache=r.cacheArray.slice(0,-1).join(" "),o.excludeMatch=o.noAnyMatch,null!==(l=e.processTypes(s,r,o)))p=l;else if(d.filter_startsWith)for(p=!1,g=Math.min(s.columns,r.rowArray.length);!p&&g>0;)g--,p=p||0===r.rowArray[g].indexOf(r.iFilter);else p=(r.iExact+r.childRowText).indexOf(r.iFilter)>=0;if(r.anyMatch=!1,r.filters.join("")===r.filter)return p}for(g=0;g<s.columns;g++)r.filter=r.filters[g],r.index=g,o.excludeMatch=o.excludeFilter[g],r.filter&&(r.cache=r.cacheArray[g],a=r.parsed[g]?r.cache:r.rawArray[g]||"",r.exact=s.sortLocaleCompare?n.replaceAccents(a):a,r.iExact=!i.type.test(typeof r.exact)&&d.filter_ignoreCase?r.exact.toLowerCase():r.exact,r.isMatch=e.matchType(s,g),a=p,h=d.filter_columnFilters?s.$filters.add(d.filter_$externalFilters).filter('[data-column="'+g+'"]').find("select option:selected").attr("data-function-name")||"":"",s.sortLocaleCompare&&(r.filter=n.replaceAccents(r.filter)),d.filter_defaultFilter&&i.iQuery.test(o.defaultColFilter[g])&&(r.filter=e.defaultFilter(r.filter,o.defaultColFilter[g])),r.iFilter=d.filter_ignoreCase?(r.filter||"").toLowerCase():r.filter,l=null,(c=o.functions[g])&&("function"==typeof c?l=c(r.exact,r.cache,r.filter,g,r.$row,s,r):"function"==typeof c[h||r.filter]&&(l=c[u=h||r.filter](r.exact,r.cache,r.filter,g,r.$row,s,r))),null===l?null!==(l=e.processTypes(s,r,o))?a=l:!0===c?a=r.isMatch?(""+r.iExact).search(r.iFilter)>=0:r.filter===r.exact:(u=(r.iExact+r.childRowText).indexOf(e.parseFilter(s,r.iFilter,r)),a=!d.filter_startsWith&&u>=0||d.filter_startsWith&&0===u):a=l,p=!!a&&p);return p},findRows:function(s,r,o){if(!e.equalFilters(s.config,s.config.lastSearch,o)&&s.config.widgetOptions.filter_initialized){var a,l,c,h,u,d,p,f,g,m,v,b,y,x,w,_,k,C,T,S,E,O,P,M=t.extend([],r),D=s.config,A=D.widgetOptions,I={anyMatch:!1,filters:r,filter_regexCache:[]},N={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:n.getColumnData(s,A.filter_defaultFilter,D.columns,!0)||""};for(I.parsed=[],g=0;g<D.columns;g++)I.parsed[g]=A.filter_useParsedData||D.parsers&&D.parsers[g]&&D.parsers[g].parsed||n.getData&&"parsed"===n.getData(D.$headerIndexed[g],n.getColumnData(s,D.headers,g),"filter")||D.$headerIndexed[g].hasClass("filter-parsed"),N.functions[g]=n.getColumnData(s,A.filter_functions,g)||D.$headerIndexed[g].hasClass("filter-select"),N.defaultColFilter[g]=n.getColumnData(s,A.filter_defaultFilter,g)||"",N.excludeFilter[g]=(n.getColumnData(s,A.filter_excludeFilter,g,!0)||"").split(/\s+/);for(D.debug&&(console.log("Filter: Starting filter widget search",r),x=new Date),D.filteredRows=0,D.totalRows=0,o=M||[],p=0;p<D.$tbodies.length;p++){if(f=n.processTbody(s,D.$tbodies.eq(p),!0),g=D.columns,l=D.cache[p].normalized,h=t(t.map(l,function(t){return t[g].$row.get()})),""===o.join("")||A.filter_serversideFiltering)h.removeClass(A.filter_filteredRow).not("."+D.cssChildRow).css("display","");else{if(h=h.not("."+D.cssChildRow),a=h.length,(A.filter_$anyMatch&&A.filter_$anyMatch.length||void 0!==r[D.columns])&&(I.anyMatchFlag=!0,I.anyMatchFilter=""+(r[D.columns]||A.filter_$anyMatch&&e.getLatestSearch(A.filter_$anyMatch).val()||""),A.filter_columnAnyMatch)){for(T=I.anyMatchFilter.split(i.andSplit),S=!1,_=0;_<T.length;_++)(E=T[_].split(":")).length>1&&(isNaN(E[0])?t.each(D.headerContent,function(t,e){e.toLowerCase().indexOf(E[0])>-1&&(r[O=t]=E[1])}):O=parseInt(E[0],10)-1,O>=0&&O<D.columns&&(r[O]=E[1],T.splice(_,1),_--,S=!0));S&&(I.anyMatchFilter=T.join(" && "))}if(C=A.filter_searchFiltered,v=D.lastSearch||D.$table.data("lastSearch")||[],C)for(_=0;_<g+1;_++)w=r[_]||"",C||(_=g),C=C&&v.length&&0===w.indexOf(v[_]||"")&&!i.alreadyFiltered.test(w)&&!i.exactTest.test(w)&&!(i.isNeg1.test(w)||i.isNeg2.test(w))&&!(""!==w&&D.$filters&&D.$filters.filter('[data-column="'+_+'"]').find("select").length&&!e.matchType(D,_));for(k=h.not("."+A.filter_filteredRow).length,C&&0===k&&(C=!1),D.debug&&console.log("Filter: Searching through "+(C&&k<a?k:"all")+" rows"),I.anyMatchFlag&&(D.sortLocaleCompare&&(I.anyMatchFilter=n.replaceAccents(I.anyMatchFilter)),A.filter_defaultFilter&&i.iQuery.test(N.defaultAnyFilter)&&(I.anyMatchFilter=e.defaultFilter(I.anyMatchFilter,N.defaultAnyFilter),C=!1),I.iAnyMatchFilter=A.filter_ignoreCase&&D.ignoreCase?I.anyMatchFilter.toLowerCase():I.anyMatchFilter),d=0;d<a;d++)if(P=h[d].className,!(d&&i.child.test(P)||C&&i.filtered.test(P))){if(I.$row=h.eq(d),I.rowIndex=d,I.cacheArray=l[d],c=I.cacheArray[D.columns],I.rawArray=c.raw,I.childRowText="",!A.filter_childByColumn){for(P="",m=c.child,_=0;_<m.length;_++)P+=" "+m[_].join(" ")||"";I.childRowText=A.filter_childRows?A.filter_ignoreCase?P.toLowerCase():P:""}if(b=!1,y=e.processRow(D,I,N),u=c.$row,w=!!y,m=c.$row.filter(":gt(0)"),A.filter_childRows&&m.length){if(A.filter_childByColumn)for(A.filter_childWithSibs||(m.addClass(A.filter_filteredRow),u=u.eq(0)),_=0;_<m.length;_++)I.$row=m.eq(_),I.cacheArray=c.child[_],I.rawArray=I.cacheArray,w=e.processRow(D,I,N),b=b||w,!A.filter_childWithSibs&&w&&m.eq(_).removeClass(A.filter_filteredRow);b=b||y}else b=w;u.toggleClass(A.filter_filteredRow,!b)[0].display=b?"":"none"}}D.filteredRows+=h.not("."+A.filter_filteredRow).length,D.totalRows+=h.length,n.processTbody(s,f,!1)}D.lastCombinedFilter=M.join(""),D.lastSearch=M,D.$table.data("lastSearch",M),A.filter_saveFilters&&n.storage&&n.storage(s,"tablesorter-filters",e.processFilters(M,!0)),D.debug&&console.log("Completed filter widget search"+n.benchmark(x)),A.filter_initialized&&(D.$table.triggerHandler("filterBeforeEnd",D),D.$table.triggerHandler("filterEnd",D)),setTimeout(function(){n.applyWidget(D.table)},0)}},getOptionSource:function(i,s,r){var o=(i=t(i)[0]).config,a=!1,l=o.widgetOptions.filter_selectSource,c=o.$table.data("lastSearch")||[],h="function"==typeof l||n.getColumnData(i,l,s);if(r&&""!==c[s]&&(r=!1),!0===h)a=l(i,s,r);else{if(h instanceof t||"string"===t.type(h)&&h.indexOf("</option>")>=0)return h;if(t.isArray(h))a=h;else if("object"===t.type(l)&&h&&null===(a=h(i,s,r)))return null}return!1===a&&(a=e.getOptions(i,s,r)),e.processOptions(i,s,a)},processOptions:function(e,i,s){if(!t.isArray(s))return!1;var r,o,a,l,c,h,u=(e=t(e)[0]).config,d=void 0!==i&&null!==i&&i>=0&&i<u.columns,p=!!d&&u.$headerIndexed[i].hasClass("filter-select-sort-desc"),f=[];if(s=t.grep(s,function(e,i){return!!e.text||t.inArray(e,s)===i}),d&&u.$headerIndexed[i].hasClass("filter-select-nosort"))return s;for(l=s.length,a=0;a<l;a++)h=(o=s[a]).text?o.text:o,c=(d&&u.parsers&&u.parsers.length&&u.parsers[i].format(h,e,[],i)||h).toString(),c=u.widgetOptions.filter_ignoreCase?c.toLowerCase():c,o.text?(o.parsed=c,f[f.length]=o):f[f.length]={text:o,parsed:c};for(r=u.textSorter||"",f.sort(function(t,s){var o=p?s.parsed:t.parsed,a=p?t.parsed:s.parsed;return d&&"function"==typeof r?r(o,a,!0,i,e):d&&"object"==typeof r&&r.hasOwnProperty(i)?r[i](o,a,!0,i,e):!n.sortNatural||n.sortNatural(o,a)}),s=[],l=f.length,a=0;a<l;a++)s[s.length]=f[a];return s},getOptions:function(e,i,s){var r,o,a,l,c,h,u,d,p=(e=t(e)[0]).config,f=p.widgetOptions,g=[];for(o=0;o<p.$tbodies.length;o++)for(c=p.cache[o],a=p.cache[o].normalized.length,r=0;r<a;r++)if(l=c.row?c.row[r]:c.normalized[r][p.columns].$row[0],!s||!l.className.match(f.filter_filteredRow))if(f.filter_useParsedData||p.parsers[i].parsed||p.$headerIndexed[i].hasClass("filter-parsed")){if(g[g.length]=""+c.normalized[r][i],f.filter_childRows&&f.filter_childByColumn)for(d=c.normalized[r][p.columns].$row.length-1,h=0;h<d;h++)g[g.length]=""+c.normalized[r][p.columns].child[h][i]}else if(g[g.length]=c.normalized[r][p.columns].raw[i],f.filter_childRows&&f.filter_childByColumn)for(d=c.normalized[r][p.columns].$row.length,h=1;h<d;h++)u=c.normalized[r][p.columns].$row.eq(h).children().eq(i),g[g.length]=""+n.getElementText(p,u,i);return g},buildSelect:function(n,r,o,a,l){if(n=t(n)[0],r=parseInt(r,10),n.config.cache&&!t.isEmptyObject(n.config.cache)){var c,h,u,d,p,f,g,m=n.config,v=m.widgetOptions,b=m.$headerIndexed[r],y='<option value="">'+(b.data("placeholder")||b.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",x=m.$table.find("thead").find("select."+s.filter+'[data-column="'+r+'"]').val();if(void 0!==o&&""!==o||null!==(o=e.getOptionSource(n,r,l))){if(t.isArray(o)){for(c=0;c<o.length;c++)if((g=o[c]).text){g["data-function-name"]=void 0===g.value?g.text:g.value,y+="<option";for(h in g)g.hasOwnProperty(h)&&"text"!==h&&(y+=" "+h+'="'+g[h]+'"');g.value||(y+=' value="'+g.text+'"'),y+=">"+g.text+"</option>"}else""+g!="[object Object]"&&(h=u=g=(""+g).replace(i.quote,"&quot;"),u.indexOf(v.filter_selectSourceSeparator)>=0&&(h=(d=u.split(v.filter_selectSourceSeparator))[0],u=d[1]),y+=""!==g?"<option "+(h===u?"":'data-function-name="'+g+'" ')+'value="'+h+'">'+u+"</option>":"");o=[]}p=(m.$filters?m.$filters:m.$table.children("thead")).find("."+s.filter),v.filter_$externalFilters&&(p=p&&p.length?p.add(v.filter_$externalFilters):v.filter_$externalFilters),(f=p.filter('select[data-column="'+r+'"]')).length&&(f[a?"html":"append"](y),t.isArray(o)||f.append(o).val(x),f.val(x))}}},buildDefault:function(t,i){var s,r,o,a=t.config,l=a.widgetOptions,c=a.columns;for(s=0;s<c;s++)o=!((r=a.$headerIndexed[s]).hasClass("filter-false")||r.hasClass("parser-false")),(r.hasClass("filter-select")||!0===n.getColumnData(t,l.filter_functions,s))&&o&&e.buildSelect(t,s,"",i,r.hasClass(l.filter_onlyAvail))}},i=e.regex,n.getFilters=function(i,n,r,o){var a,l,c,h,u=[],d=i?t(i)[0].config:"",p=d?d.widgetOptions:"";if(!0!==n&&p&&!p.filter_columnFilters||t.isArray(r)&&e.equalFilters(d,r,d.lastSearch))return t(i).data("lastSearch")||[];if(d&&(d.$filters&&(l=d.$filters.find("."+s.filter)),p.filter_$externalFilters&&(l=l&&l.length?l.add(p.filter_$externalFilters):p.filter_$externalFilters),l&&l.length))for(u=r||[],a=0;a<d.columns+1;a++)h=a===d.columns?p.filter_anyColumnSelector+","+p.filter_multipleColumnSelector:'[data-column="'+a+'"]',(c=l.filter(h)).length&&(c=e.getLatestSearch(c),t.isArray(r)?(o&&c.length>1&&(c=c.slice(1)),a===d.columns&&(c=(h=c.filter(p.filter_anyColumnSelector)).length?h:c),c.val(r[a]).trigger("change"+d.namespace)):(u[a]=c.val()||"",a===d.columns?c.slice(1).filter('[data-column*="'+c.attr("data-column")+'"]').val(u[a]):c.slice(1).val(u[a])),a===d.columns&&c.length&&(p.filter_$anyMatch=c));return u},n.setFilters=function(i,s,r,o){var a=i?t(i)[0].config:"",l=n.getFilters(i,!0,s,o);return void 0===r&&(r=!0),a&&r&&(a.lastCombinedFilter=null,a.lastSearch=[],e.searching(a.table,s,o),a.$table.triggerHandler("filterFomatterUpdate")),0!==l.length}}(t),function(t,e){"use strict";function i(e,i){var n=isNaN(i.stickyHeaders_offset)?t(i.stickyHeaders_offset):[];return n.length?n.height()||0:parseInt(i.stickyHeaders_offset,10)||0}var n=t.tablesorter||{};t.extend(n.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),n.addHeaderResizeEvent=function(e,i,n){if((e=t(e)[0]).config){var s={timer:250},r=t.extend({},s,n),o=e.config,a=o.widgetOptions,l=function(t){var e,i,n,s,r,l,c=o.$headers.length;for(a.resize_flag=!0,i=[],e=0;e<c;e++)s=(n=o.$headers.eq(e)).data("savedSizes")||[0,0],r=n[0].offsetWidth,l=n[0].offsetHeight,r===s[0]&&l===s[1]||(n.data("savedSizes",[r,l]),i.push(n[0]));i.length&&!1!==t&&o.$table.triggerHandler("resize",[i]),a.resize_flag=!1};if(clearInterval(a.resize_timer),i)return a.resize_flag=!1,!1;l(!1),a.resize_timer=setInterval(function(){a.resize_flag||l()},r.timer)}},n.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(s,r,o){if(!(r.$table.hasClass("hasStickyHeaders")||t.inArray("filter",r.widgets)>=0&&!r.$table.hasClass("hasFilters"))){var a,l,c,h,u=r.$table,d=t(o.stickyHeaders_attachTo),p=r.namespace+"stickyheaders ",f=t(o.stickyHeaders_yScroll||o.stickyHeaders_attachTo||e),g=t(o.stickyHeaders_xScroll||o.stickyHeaders_attachTo||e),m=u.children("thead:first").children("tr").not(".sticky-false").children(),v=u.children("tfoot"),b=i(r,o),y=u.parent().closest("."+n.css.table).hasClass("hasStickyHeaders")?u.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],x=y.length?y.height():0,w=o.$sticky=u.clone().addClass("containsStickyHeaders "+n.css.sticky+" "+o.stickyHeaders+" "+r.namespace.slice(1)+"_extra_table").wrap('<div class="'+n.css.stickyWrap+'">'),_=w.parent().addClass(n.css.stickyHide).css({position:d.length?"absolute":"fixed",padding:parseInt(w.parent().parent().css("padding-left"),10),top:b+x,left:0,visibility:"hidden",zIndex:o.stickyHeaders_zIndex||2}),k=w.children("thead:first"),C="",T=function(t,i){var n,s,r,o,a,l=t.filter(":visible"),c=l.length;for(n=0;n<c;n++)o=i.filter(":visible").eq(n),"border-box"===(a=l.eq(n)).css("box-sizing")?s=a.outerWidth():"collapse"===o.css("border-collapse")?e.getComputedStyle?s=parseFloat(e.getComputedStyle(a[0],null).width):(r=parseFloat(a.css("border-width")),s=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-r):s=a.width(),o.css({width:s,"min-width":s,"max-width":s})},S=function(){_.css({left:d.length?parseInt(d.css("padding-left"),10)||0:u.offset().left-parseInt(u.css("margin-left"),10)-g.scrollLeft(),width:u.outerWidth()}),T(u,w),T(m,h)},E=function(e){if(u.is(":visible")){x=y.length?y.offset().top-f.scrollTop()+y.height():0;var s=u.offset(),a=i(r,o),l=t.isWindow(f[0]),c=t.isWindow(g[0]),h=d.length?l?f.scrollTop():f.offset().top:f.scrollTop(),p=o.stickyHeaders_includeCaption?0:u.children("caption").height()||0,m=h+a+x-p,b=u.height()-(_.height()+(v.height()||0))-p,w=m>s.top&&m<s.top+b?"visible":"hidden",k={visibility:w};d.length&&(k.top=l?m-d.offset().top:d.scrollTop()),c&&(k.left=u.offset().left-parseInt(u.css("margin-left"),10)-g.scrollLeft()),k.top=(k.top||0)+a+x,_.removeClass(n.css.stickyVis+" "+n.css.stickyHide).addClass("visible"===w?n.css.stickyVis:n.css.stickyHide).css(k),(w!==C||e)&&(S(),C=w)}};if(d.length&&!d.css("position")&&d.css("position","relative"),w.attr("id")&&(w[0].id+=o.stickyHeaders_cloneId),w.find("thead:gt(0), tr.sticky-false").hide(),w.find("tbody, tfoot").remove(),w.find("caption").toggle(o.stickyHeaders_includeCaption),h=k.children().children(),w.css({height:0,width:0,margin:0}),h.find("."+n.css.resizer).remove(),u.addClass("hasStickyHeaders").bind("pagerComplete"+p,function(){S()}),n.bindEvents(s,k.children().children("."+n.css.header)),o.stickyHeaders_appendTo?t(o.stickyHeaders_appendTo).append(_):u.after(_),r.onRenderHeader)for(l=(c=k.children("tr").children()).length,a=0;a<l;a++)r.onRenderHeader.apply(c.eq(a),[a,r,w]);g.add(f).unbind("scroll resize ".split(" ").join(p).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(p),function(t){E("resize"===t.type)}),r.$table.unbind("stickyHeadersUpdate"+p).bind("stickyHeadersUpdate"+p,function(){E(!0)}),o.stickyHeaders_addResizeEvent&&n.addHeaderResizeEvent(s),u.hasClass("hasFilters")&&o.filter_columnFilters&&(u.bind("filterEnd"+p,function(){var i=t(document.activeElement).closest("td"),s=i.parent().children().index(i);_.hasClass(n.css.stickyVis)&&o.stickyHeaders_filteredToTop&&(e.scrollTo(0,u.position().top),s>=0&&r.$filters&&r.$filters.eq(s).find("a, select, input").filter(":visible").focus())}),n.filter.bindSearch(u,h.find("."+n.css.filter)),o.filter_hideFilters&&n.filter.hideFilters(r,w)),o.stickyHeaders_addResizeEvent&&u.bind("resize"+r.namespace+"stickyheaders",function(){S()}),E(!0),u.triggerHandler("stickyHeadersInit")}},remove:function(i,s,r){var o=s.namespace+"stickyheaders ";s.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(o).replace(/\s+/g," ")).next("."+n.css.stickyWrap).remove(),r.$sticky&&r.$sticky.length&&r.$sticky.remove(),t(e).add(r.stickyHeaders_xScroll).add(r.stickyHeaders_yScroll).add(r.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(o).replace(/\s+/g," ")),n.addHeaderResizeEvent(i,!0)}})}(t,window),function(t,e){"use strict";var i=t.tablesorter||{};t.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),t(function(){var e="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";t("head").append(e)}),i.resizable={init:function(e,n){if(!e.$table.hasClass("hasResizable")){e.$table.addClass("hasResizable");var s,r,o,a,l=e.$table,c=l.parent(),h=parseInt(l.css("margin-top"),10),u=n.resizable_vars={useStorage:i.storage&&!1!==n.resizable,$wrap:c,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===c.css("overflow")||"scroll"===c.css("overflow")||"auto"===c.css("overflow-x")||"scroll"===c.css("overflow-x"),storedSizes:[]};for(i.resizableReset(e.table,!0),u.tableWidth=l.width(),u.fullWidth=Math.abs(c.width()-u.tableWidth)<20,u.useStorage&&u.overflow&&(i.storage(e.table,"tablesorter-table-original-css-width",u.tableWidth),a=i.storage(e.table,"tablesorter-table-resized-width")||"auto",i.resizable.setWidth(l,a,!0)),n.resizable_vars.storedSizes=o=(u.useStorage?i.storage(e.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(e,n,o),i.resizable.updateStoredSizes(e,n),n.$resizable_container=t('<div class="'+i.css.resizableContainer+'">').css({top:h}).insertBefore(l),r=0;r<e.columns;r++)s=e.$headerIndexed[r],a=i.getColumnData(e.table,e.headers,r),"false"===i.getData(s,a,"resizable")||t('<div class="'+i.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":r,unselectable:"on"}).data("header",s).bind("selectstart",!1);i.resizable.bindings(e,n)}},updateStoredSizes:function(t,e){var i,n,s=t.columns,r=e.resizable_vars;for(r.storedSizes=[],i=0;i<s;i++)n=t.$headerIndexed[i],r.storedSizes[i]=n.is(":visible")?n.width():0},setWidth:function(t,e,i){t.css({width:e,"min-width":i?e:"","max-width":i?e:""})},setWidths:function(e,n,s){var r,o,a=n.resizable_vars,l=t(e.namespace+"_extra_headers"),c=e.$table.children("colgroup").children("col");if((s=s||a.storedSizes||[]).length){for(r=0;r<e.columns;r++)i.resizable.setWidth(e.$headerIndexed[r],s[r],a.overflow),l.length&&(o=l.eq(r).add(c.eq(r)),i.resizable.setWidth(o,s[r],a.overflow));(o=t(e.namespace+"_extra_table")).length&&!i.hasWidget(e.table,"scroller")&&i.resizable.setWidth(o,e.$table.outerWidth(),a.overflow)}},setHandlePosition:function(e,n){var s,r=e.$table.height(),o=n.$resizable_container.children(),a=Math.floor(o.width()/2);i.hasWidget(e.table,"scroller")&&(r=0,e.$table.closest("."+i.css.scrollerWrap).children().each(function(){var e=t(this);r+=e.filter('[style*="height"]').length?e.height():e.children("table").height()})),!n.resizable_includeFooter&&e.$table.children("tfoot").length&&(r-=e.$table.children("tfoot").height()),s=e.$table.position().left,o.each(function(){var i=t(this),o=parseInt(i.attr("data-column"),10),l=e.columns-1,c=i.data("header");c&&(c.is(":visible")?(o<l||o===l&&n.resizable_addLastColumn)&&i.css({display:"inline-block",height:r,left:c.position().left-s+c.outerWidth()-a}):i.hide())})},toggleTextSelection:function(e,n,s){var r=e.namespace+"tsresize";n.resizable_vars.disabled=s,t("body").toggleClass(i.css.resizableNoSelect,s),s?t("body").attr("unselectable","on").bind("selectstart"+r,!1):t("body").removeAttr("unselectable").unbind("selectstart"+r)},bindings:function(n,s){var r=n.namespace+"tsresize";s.$resizable_container.children().bind("mousedown",function(e){var r,o=s.resizable_vars,a=t(n.namespace+"_extra_headers"),l=t(e.target).data("header");r=parseInt(l.attr("data-column"),10),o.$target=l=l.add(a.filter('[data-column="'+r+'"]')),o.target=r,o.$next=e.shiftKey||s.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),r=parseInt(o.$next.attr("data-column"),10),o.$next=o.$next.add(a.filter('[data-column="'+r+'"]')),o.next=r,o.mouseXPosition=e.pageX,i.resizable.updateStoredSizes(n,s),i.resizable.toggleTextSelection(n,s,!0)}),t(document).bind("mousemove"+r,function(t){var e=s.resizable_vars;e.disabled&&0!==e.mouseXPosition&&e.$target&&(s.resizable_throttle?(clearTimeout(e.timer),e.timer=setTimeout(function(){i.resizable.mouseMove(n,s,t)},isNaN(s.resizable_throttle)?5:s.resizable_throttle)):i.resizable.mouseMove(n,s,t))}).bind("mouseup"+r,function(){s.resizable_vars.disabled&&(i.resizable.toggleTextSelection(n,s,!1),i.resizable.stopResize(n,s),i.resizable.setHandlePosition(n,s))}),t(e).bind("resize"+r+" resizeEnd"+r,function(){i.resizable.setHandlePosition(n,s)}),n.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(r+" "),function(){i.resizable.setHandlePosition(n,s)}).bind("resizableReset"+r,function(){i.resizableReset(n.table)}).find("thead:first").add(t(n.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+r,function(){var t=0===s.resizable_vars.storedSizes.length;return i.resizableReset(n.table),i.resizable.setHandlePosition(n,s),s.resizable_vars.storedSizes=[],t})},mouseMove:function(e,n,s){if(0!==n.resizable_vars.mouseXPosition&&n.resizable_vars.$target){var r,o=0,a=n.resizable_vars,l=a.$next,c=a.storedSizes[a.target],h=s.pageX-a.mouseXPosition;if(a.overflow){if(c+h>0){for(a.storedSizes[a.target]+=h,i.resizable.setWidth(a.$target,a.storedSizes[a.target],!0),r=0;r<e.columns;r++)o+=a.storedSizes[r];i.resizable.setWidth(e.$table.add(t(e.namespace+"_extra_table")),o)}l.length||(a.$wrap[0].scrollLeft=e.$table.width())}else a.fullWidth?(a.storedSizes[a.target]+=h,a.storedSizes[a.next]-=h,i.resizable.setWidths(e,n)):(a.storedSizes[a.target]+=h,i.resizable.setWidths(e,n));a.mouseXPosition=s.pageX,e.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(t,e){var n=e.resizable_vars;i.resizable.updateStoredSizes(t,e),n.useStorage&&(i.storage(t.table,i.css.resizableStorage,n.storedSizes),i.storage(t.table,"tablesorter-table-resized-width",t.$table.width())),n.mouseXPosition=0,n.$target=n.$next=null,t.$table.triggerHandler("stickyHeadersUpdate")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(t,e,n,s){i.resizable.init(n,s)},format:function(t,e,n){i.resizable.setHandlePosition(e,n)},remove:function(e,n,s,r){if(s.$resizable_container){var o=n.namespace+"tsresize";n.$table.add(t(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+o),s.$resizable_container.remove(),i.resizable.toggleTextSelection(n,s,!1),i.resizableReset(e,r),t(document).unbind("mousemove"+o+" mouseup"+o)}}}),i.resizableReset=function(e,n){t(e).each(function(){var t,s,r=this.config,o=r&&r.widgetOptions,a=o.resizable_vars;if(e&&r&&r.$headerIndexed.length){for(a.overflow&&a.tableWidth&&(i.resizable.setWidth(r.$table,a.tableWidth,!0),a.useStorage&&i.storage(e,"tablesorter-table-resized-width","auto")),t=0;t<r.columns;t++)s=r.$headerIndexed[t],o.resizable_widths&&o.resizable_widths[t]?i.resizable.setWidth(s,o.resizable_widths[t],a.overflow):s.hasClass("resizable-false")||i.resizable.setWidth(s,"",a.overflow);r.$table.triggerHandler("stickyHeadersUpdate"),i.storage&&!n&&i.storage(this,i.css.resizableStorage,{})}})}}(t,window),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,i,n){e.format(t,i,n,!0)},format:function(i,n,s,r){var o,a,l=n.$table,c=!1!==s.saveSort,h={sortList:n.sortList};n.debug&&(a=new Date),l.hasClass("hasSaveSort")?c&&i.hasInitialized&&e.storage&&(e.storage(i,"tablesorter-savesort",h),n.debug&&console.log("saveSort widget: Saving last sort: "+n.sortList+e.benchmark(a))):(l.addClass("hasSaveSort"),h="",e.storage&&(h=(o=e.storage(i,"tablesorter-savesort"))&&o.hasOwnProperty("sortList")&&t.isArray(o.sortList)?o.sortList:"",n.debug&&console.log('saveSort: Last sort loaded: "'+h+'"'+e.benchmark(a)),l.bind("saveSortReset",function(t){t.stopPropagation(),e.storage(i,"tablesorter-savesort","")})),r&&h&&h.length>0?n.sortList=h:i.hasInitialized&&h&&h.length>0&&e.sortOn(n,h))},remove:function(t,i){i.$table.removeClass("hasSaveSort"),e.storage&&e.storage(t,"tablesorter-savesort","")}})}(t),t.tablesorter}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=i(this),o=r.settings;return isNaN(e.datetime)||(0==o.cutoff||s(e.datetime)<o.cutoff)&&t(this).text(n(e.datetime)),this}function i(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var i=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(i.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",i)}return e.data("timeago")}function n(t){return r.inWords(s(t))}function s(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return n(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function i(i,s){var r=t.isFunction(i)?i(s,e):i,o=n.numbers&&n.numbers[s]||s;return r.replace(/%d/i,o)}var n=this.settings.strings,s=n.prefixAgo,r=n.suffixAgo;this.settings.allowFuture&&e<0&&(s=n.prefixFromNow,r=n.suffixFromNow);var o=Math.abs(e)/1e3,a=o/60,l=a/60,c=l/24,h=c/365,u=o<45&&i(n.seconds,Math.round(o))||o<90&&i(n.minute,1)||a<45&&i(n.minutes,Math.round(a))||a<90&&i(n.hour,1)||l<24&&i(n.hours,Math.round(l))||l<42&&i(n.day,1)||c<30&&i(n.days,Math.round(c))||c<45&&i(n.month,1)||c<365&&i(n.months,Math.round(c/30))||h<1.5&&i(n.year,1)||i(n.years,Math.round(h)),d=n.wordSeparator||"";return n.wordSeparator===undefined&&(d=" "),t.trim([s,u,r].join(d))},parse:function(e){var i=t.trim(e);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(i)},datetime:function(e){var i=r.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return r.parse(i)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var o={init:function(){var i=t.proxy(e,this);i();var n=r.settings;n.refreshMillis>0&&setInterval(i,n.refreshMillis)},update:function(i){t(this).data("timeago",{datetime:r.parse(i)}),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(r.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)}};t.fn.timeago=function(t,e){var i=t?o[t]:o.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof exports)module.exports=t();else{var e=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=e,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,s,r){var o;if(arguments.length>1){if(r=t({path:"/"},n.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{o=JSON.stringify(s),/^[\{\[]/.test(o)&&(s=o)}catch(t){}return s=i.write?i.write(s,e):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",s,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}e||(o={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var u=l[h].split("="),d=u[0].replace(c,decodeURIComponent),p=u.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{if(p=i.read?i.read(p,d):i(p,d)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===d){o=p;break}e||(o[d]=p)}catch(t){}}return o}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),$(document).ready(function(){stickAppHeader(),stickCtaChallengePage()}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(){return function(t){function e(e){for(var i,n,r=e[0],o=e[1],a=0,c=[];a<r.length;a++)n=r[a],s[n]&&c.push(s[n][0]),s[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);for(l&&l(e);c.length;)c.shift()()}function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}var n={},s={1:0};i.e=function(t){function e(e){l.onerror=l.onload=null,clearTimeout(c);var i=s[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,i[1](o)}s[t]=void 0}}var n=[],r=s[t];if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(function(e,i){r=s[t]=[e,i]});n.push(r[2]=o);var a=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=12e4,i.nc&&l.setAttribute("nonce",i.nc),l.src=i.p+"tf-"+({}[t]||t)+"-"+{0:"db54cfc612ffa547f4a3"}[t]+".js";var c=setTimeout(function(){e({type:"timeout",target:l})},12e4);l.onerror=l.onload=e,a.appendChild(l)}return Promise.all(n)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t}
;return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp=window.webpackJsonp||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var l=o;return i(i.s=129)}([function(t,e,i){(function(e){(function(){"use strict";function i(t){function e(t,e,i){d(n,t,function(t,o,l){var c=s(t,o,l);return function(t,e,i,n,s){D(e,function(e,o){var l,c=e;n&&(c=r(e)),s&&(c.flags=s),i&y&&!e.instance&&(l=function(t,e){return e?r(t,!0):function(t){switch(t.length){case 0:case 1:return function(){return t(this)};case 2:return function(e){return t(this,e)};case 3:return function(e,i){return t(this,e,i)};case 4:return function(e,i,n){return t(this,e,i,n)};case 5:return function(e,i,n,s){return t(this,e,i,n,s)}}}(t)}(e,n),d(c,"instance",l)),i&b&&d(c,"static",!0),a(t,o,c),t.active&&t.extend(o)})}(n,c.methods,e,i,c.last),n})}var i="Object"===t,n=l(t);return e("defineStatic",b),e("defineInstance",y),e("defineInstanceAndStatic",y|b),e("defineStaticWithArguments",b,!0),e("defineInstanceWithArguments",y,!0),d(n,"defineStaticPolyfill",function(e,i,r){var a=s(e,i,r);return o(w[t],a.methods,!0,a.last),n}),d(n,"defineInstancePolyfill",function(e,i,r){var a=s(e,i,r);return o(w[t].prototype,a.methods,!0,a.last),D(a.methods,function(t,e){c(n,e,t)}),n}),d(n,"alias",function(t,e){var i="string"==typeof e?n[e]:e;return a(n,t,i),n}),d(n,"extend",function(e){function s(t,i){var n=e[t];if(n)for(var s,r=0;s=n[r];r++)if(s===i)return!0;return!1}function r(t,n,r){return!function(t,e){return i&&e===c&&(!k||"get"===t||"set"===t)}(t,r)&&!function(t,i,n){if(!i[t]||!n)return!1;for(var s=0;s<n.length;s++)if(!1===e[n[s]])return!0}(t,r,n.flags)&&!function(t){return s("except",t)}(t)}var a,l=w[t],c=l.prototype,h={},u={};if(a=(e=e||{}).methods,!function(){return s("except",l)||function(t,i){return e[t]&&!s(t,i)}("namespaces",l)}())return i&&"boolean"==typeof e.objectPrototype&&(k=e.objectPrototype),D(a||n,function(t,e){a&&(t=n[e=t]),f(t,"instance")&&r(e,t,c)&&(u[e]=t.instance),f(t,"static")&&r(e,t,l)&&(h[e]=t)}),o(l,h),o(c,u),a||d(n,"active",!0),n}),C[t]=n,T["[object "+t+"]"]=n,u(t),function(t){D(m.Object&&m.Object.prototype,function(e,i){"function"==typeof e&&h(t,i,e)})}(n),m[t]=n}function n(){return v}function s(t,e,i){var n,s;return"string"==typeof t?((n={})[t]=e,s=i):(n=t,s=e),{last:s,methods:n}}function r(t,e){var i=t.length-1-(e?1:0);return function(){var n,s=[],r=[];e&&s.push(this),n=Math.max(arguments.length,i);for(var o=0;o<n;o++)o<i?s.push(arguments[o]):r.push(arguments[o]);return s.push(r),t.apply(this,s)}}function o(t,e,i,n){D(e,function(e,s){i&&!n&&t[s]||d(t,s,e)})}function a(t,e,i){t[e]=i,i.instance&&c(t,e,i.instance)}function l(t){var e=function(t,i){if(!(this instanceof e))return new e(t,i);this.constructor!==e&&(t=this.constructor.apply(t,arguments)),this.raw=t};return d(e,"toString",function(){return v+t}),d(e.prototype,"valueOf",function(){return this.raw}),e}function c(t,e,i){var n,s,r,o=function(t){return function(){return new E(t.apply(this.raw,arguments))}}(i);s=(n=(r=E.prototype)[e])&&n!==Object.prototype[e],n&&n.disambiguate||(r[e]=s?function(t){var e=function(){var e,i,n=this.raw;if(null!=n&&(e=T[p(n)]),e||(e=m.Object),(i=new e(n)[t]).disambiguate)throw new TypeError("Cannot resolve namespace for "+n);return i.apply(this,arguments)};return e.disambiguate=!0,e}(e):o),t.prototype[e]=o,t===m.Object&&function(t,e){D(C,function(i){h(i,t,e)})}(e,o)}function h(t,e,i){var n=t.prototype;f(n,e)||(n[e]=i)}function u(t,e){var i=C[t],n=w[t].prototype;!e&&O&&(e=O(n)),D(e,function(t){if(!function(t){return"constructor"===t||"valueOf"===t||"__proto__"===t}(t)){try{var e=n[t];if("function"!=typeof e)return}catch(t){return}c(i,t,e)}})}function d(t,e,i,n){S(t,e,{value:i,enumerable:!!n,configurable:!0,writable:!0})}function p(t){return P.call(t)}function f(t,e){return!!t&&M.call(t,e)}function g(t,e){if(f(t,e))return t[e]}var m,v="Sugar",b=1,y=2,x=!(!Object.defineProperty||!Object.defineProperties),w=void 0!==e&&e.Object===Object?e:this,_=void 0!==t&&t.exports,k=!1,C={},T={},S=x?Object.defineProperty:function(t,e,i){t[e]=i.value},E=l("Chainable"),O=Object.getOwnPropertyNames,P=Object.prototype.toString,M=Object.prototype.hasOwnProperty,D=function(t,e){for(var i in t)if(f(t,i)&&!1===e.call(t,t[i],i,t))break};!function(){if(!(m=w[v])){if(m=function(t){return D(m,function(e,i){f(C,i)&&e.extend(t)}),m},_)t.exports=m;else try{w[v]=m}catch(t){}D("Object Number String Array Date RegExp Function".split(" "),function(t){i(t)}),function(){d(m,"extend",m),d(m,"toString",n),d(m,"createNamespace",i),d(m,"util",{hasOwn:f,getOwn:g,setProperty:d,classToString:p,defineProperty:S,forEachProperty:D,mapNativeToChainable:u})}()}}()}).call(this)}).call(this,i(128))},function(t,e,i){"use strict";i.r(e),i.d(e,"defaultsBool",function(){return s}),i.d(e,"defaultsStr",function(){return r}),i.d(e,"defaultsNb",function(){return o}),i.d(e,"defaultsArr",function(){return a}),i.d(e,"defaultsFn",function(){return l});var n=i(3),s=function(t,e){return Object(n.isBoolean)(t)?t:e},r=function(t,e){return Object(n.isString)(t)?t:e},o=function(t,e){return isNaN(t)?e:t},a=function(t,e){return Object(n.isArray)(t)?t:e},l=function(t,e){return Object(n.isFn)(t)?t:e}},function(t,e,i){"use strict";function n(){return a.documentElement.classList}i.r(e),i.d(e,"getText",function(){return l}),i.d(e,"getFirstTextNode",function(){return c}),i.d(e,"createElm",function(){return h}),i.d(e,"removeElm",function(){return u}),i.d(e,"createText",function(){return d}),i.d(e,"hasClass",function(){return p}),i.d(e,"addClass",function(){return f}),i.d(e,"removeClass",function(){return g}),i.d(e,"createOpt",function(){return m}),i.d(e,"createCheckItem",function(){return v}),i.d(e,"elm",function(){return b}),i.d(e,"tag",function(){return y});var s=i(8),r=i(3),o=i(9),a=s.root.document,l=function(t){return Object(r.isUndef)(t.textContent)?Object(o.trim)(t.innerText):Object(o.trim)(t.textContent)},c=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(3===i.nodeType)return i.data}},h=function(){var t=arguments.length<=0?void 0:arguments[0];if(!Object(r.isString)(t))return null;for(var e=a.createElement(t),i=0;i<arguments.length;i++){var n=i<0||arguments.length<=i?void 0:arguments[i];Object(r.isArray)(n)&&2===n.length&&e.setAttribute(n[0],n[1])}return e},u=function(t){return t.parentNode.removeChild(t)},d=function(t){return a.createTextNode(t)},p=function(t,e){return!Object(r.isUndef)(t)&&(n()?t.classList.contains(e):t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")))},f=function(t,e){Object(r.isUndef)(t)||(n()?t.classList.add(e):""===t.className?t.className=e:p(t,e)||(t.className+=" "+e))},g=function(t,e){if(!Object(r.isUndef)(t))if(n())t.classList.remove(e);else{var i=new RegExp("(\\s|^)"+e+"(\\s|$)","g");t.className=t.className.replace(i,"")}},m=function(t,e,i){var n=i?h("option",["value",e],["selected","true"]):h("option",["value",e]);return n.appendChild(d(t)),n},v=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=h("li"),r=h("label",["for",t]),o=h("input",["id",t],["name",t],["type","checkbox"],["value",e],n);return r.appendChild(o),r.appendChild(d(i)),s.appendChild(r),s.label=r,s.check=o,s},b=function(t){return a.getElementById(t)},y=function(t,e){return t.getElementsByTagName(e)}},function(t,e,i){"use strict";i.r(e),i.d(e,"EMPTY_FN",function(){return n}),i.d(e,"isObj",function(){return s}),i.d(e,"isFn",function(){return r}),i.d(e,"isArray",function(){return o}),i.d(e,"isString",function(){return a}),i.d(e,"isNumber",function(){return l}),i.d(e,"isBoolean",function(){return c}),i.d(e,"isUndef",function(){return h}),i.d(e,"isNull",function(){return u}),i.d(e,"isEmpty",function(){return d});var n=function(){},s=function(t){return"[object Object]"===Object.prototype.toString.call(t)},r=function(t){return"[object Function]"===Object.prototype.toString.call(t)},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function(t){return"[object String]"===Object.prototype.toString.call(t)},l=function(t){return"[object Number]"===Object.prototype.toString.call(t)},c=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},h=function(t){return void 0===t},u=function(t){return null===t},d=function(t){return h(t)||u(t)||0===t.length}},function(t,e,i){"use strict";i.r(e),i.d(e,"INPUT",function(){return b}),i.d(e,"SELECT",function(){return y}),i.d(e,"MULTIPLE",function(){return x}),i.d(e,"CHECKLIST",function(){return w}),i.d(e,"NONE",function(){return _}),i.d(e,"ENTER_KEY",function(){return k}),i.d(e,"TAB_KEY",function(){return C}),i.d(e,"ESC_KEY",function(){return T}),i.d(e,"UP_ARROW_KEY",function(){return S}),i.d(e,"DOWN_ARROW_KEY",function(){return E}),i.d(e,"HEADER_TAG",function(){return O}),i.d(e,"CELL_TAG",function(){return P}),i.d(e,"STRING",function(){return M}),i.d(e,"NUMBER",function(){return D}),i.d(e,"FORMATTED_NUMBER",function(){return A}),i.d(e,"DATE",function(){return I}),i.d(e,"IP_ADDRESS",function(){return N}),i.d(e,"AUTO_FILTER_DELAY",function(){return j}),i.d(e,"FEATURES",function(){return L});var n=i(91),s=i(90),r=i(89),o=i(86),a=i(85),l=i(84),c=i(83),h=i(82),u=i(81),d=i(80),p=i(79),f=i(78),g=i(77),m=i(76),v=i(19),b="input",y="select",x="multiple",w="checklist",_="none",k=13,C=9,T=27,S=38,E=40,O="TH",P="TD",M="string",D="number",A="formatted-number",I="date",N="ipaddress",j=750,L={dateType:{"class":n.DateType,name:"dateType"},help:{"class":s.Help,name:"help",enforce:!0},state:{"class":r.State,name:"state"},markActiveColumns:{"class":h.MarkActiveColumns,name:"markActiveColumns"},gridLayout:{"class":o.GridLayout,name:"gridLayout"},loader:{"class":a.Loader,name:"loader"},highlightKeyword:{"class":l.HighlightKeyword,name:"highlightKeyword",property:"highlightKeywords"},popupFilter:{"class":c.PopupFilter,name:"popupFilter",property:"popupFilters"},rowsCounter:{"class":u.RowsCounter,name:"rowsCounter"},statusBar:{"class":d.StatusBar,name:"statusBar"},clearButton:{"class":p.ClearButton,name:"clearButton",property:"btnReset"},alternateRows:{"class":f.AlternateRows,name:"alternateRows"},noResults:{"class":g.NoResults,name:"noResults"},paging:{"class":m.Paging,name:"paging"},toolbar:{"class":v.Toolbar,name:"toolbar",enforce:!0}}},function(t,e,i){"use strict";function n(t,e){var i="".concat(t.name,"_bound");return e[i]||(e[i]=t.bind(e)),e[i]}i.r(e),i.d(e,"addEvt",function(){return r}),i.d(e,"removeEvt",function(){return o}),i.d(e,"stopEvt",function(){return a}),i.d(e,"cancelEvt",function(){return l}),i.d(e,"targetEvt",function(){return c}),i.d(e,"keyCode",function(){return h}),i.d(e,"isKeyPressed",function(){return u}),i.d(e,"bound",function(){return n});var s=i(8),r=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},o=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},a=function(t){t||(t=s.root.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},l=function(t){t||(t=s.root.event),t.preventDefault?t.preventDefault():t.returnValue=!1},c=function(t){return t||(t=s.root.event),t.target||t.srcElement},h=function(t){return t.charCode?t.charCode:t.keyCode?t.keyCode:t.which?t.which:0},u=function(t){return-1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(h(t))}},function(t,e,i){"use strict";i(386)()},function(t,e,i){"use strict";i(301)()},function(t,e,i){"use strict";i.r(e),function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.d(e,"root",function(){return s});var s="object"===("undefined"==typeof self?"undefined":n(self))&&self.self===self&&self||"object"===(void 0===t?"undefined":n(t))&&t.global===t&&t||void 0}.call(this,i(128))},function(t,e,i){"use strict";i.r(e),i.d(e,"trim",function(){return s}),i.d(e,"isEmpty",function(){return r}),i.d(e,"rgxEsc",function(){return o}),i.d(e,"matchCase",function(){return a}),i.d(e,"contains",function(){return l});var n=i(74),s=function(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")},r=function(t){return""===s(t)},o=function(t){return String(t).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},a=function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t:t.toLowerCase()},l=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=s?"g":"gi";return r&&(t=Object(n.remove)(t),e=Object(n.remove)(e)),(i?new RegExp("(^\\s*)"+o(t)+"(\\s*$)",a):new RegExp(o(t),a)).test(e)}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"Feature",function(){return s});var s=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tf=e,this.feature=i,this.enabled=e[i],this.config=e.config(),this.emitter=e.emitter,this.initialized=!1,this.emitter.on(["destroy"],function(){return n.destroy()})}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"init",value:function(){throw new Error("Not implemented.")}},{key:"reset",value:function(){this.enable(),this.init()}},{key:"destroy",value:function(){throw new Error("Not implemented.")}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"isEnabled",value:function(){return!0===this.enabled}}]),t}()},function(t){"use strict";t.exports={HOURS_INDEX:3,DAY_INDEX:4,WEEK_INDEX:5,MONTH_INDEX:6,YEAR_INDEX:7}},function(t,e,i){"use strict";var n,s,r,o,a,l,c,h,u,d,p,f=i(426),g=i(35),m=i(123),v=i(55),b=i(425),y=i(16).classToString;!function(){function t(t){x["[object "+t+"]"]=!0}function e(t,e){return e&&m(new e,"Object")?function(t){var e=String(t);return function(t){return String(t.constructor)===e}}(e):function(t){return function(e,i){return m(e,t,i)}}(t)}function i(t){var e=t.toLowerCase();return function(i){var n=typeof i;return n===e||"object"===n&&m(i,t)}}var x={};!function(){var n=v(f);s=i(n[0]),r=i(n[1]),o=i(n[2]),a=e(n[3]),l=e(n[4]),c=e(n[5]),h=Array.isArray||e(n[6]),p=e(n[7]),u=e(n[8],"undefined"!=typeof Set&&Set),d=e(n[9],"undefined"!=typeof Map&&Map),t("Arguments"),t(n[0]),t(n[1]),t(n[2]),t(n[3]),t(n[4]),t(n[6])}(),function(){g(v("Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64"),function(e){t(e+"Array")})}(),n=function(t,e){return function(t){return x[t]}(e=e||y(t))||b(t,e)}}(),t.exports={isSerializable:n,isBoolean:s,isNumber:r,isString:o,isDate:a,isRegExp:l,isFunction:c,isArray:h,isSet:u,isMap:d,isError:p}},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Date.defineStatic({addLocale:function(t,e){return s.add(t,e)}}),t.exports=n.Date.addLocale},function(t){"use strict";t.exports={abs:Math.abs,pow:Math.pow,min:Math.min,max:Math.max,ceil:Math.ceil,floor:Math.floor,round:Math.round}},function(t,e,i){"use strict";var n,s,r=i(438),o=i(127),a=i(434);!function(){function t(t){this.locales={},this.add(t)}t.prototype={get:function(t,e){var i=this.locales[t];return!i&&r[t]?i=this.add(t,r[t]):!i&&t&&(i=this.locales[t.slice(0,2)]),i||!1===e?i:this.current},getAll:function(){return this.locales},set:function(t){var e=this.get(t,!1);if(!e)throw new TypeError("Invalid Locale: "+t);return this.current=e},add:function(t,e){e?e.code=t:t=(e=t).code;var i=e.compiledFormats?e:a(e);return this.locales[t]=i,this.current||(this.current=i),i},remove:function(t){return this.current.code===t&&(this.current=this.get("en")),delete this.locales[t]}},n=a(o),s=new t(n)}(),t.exports={English:n,localeManager:s}},function(t,e,i){"use strict";var n=i(0);t.exports={hasOwn:n.util.hasOwn,getOwn:n.util.getOwn,setProperty:n.util.setProperty,classToString:n.util.classToString,defineProperty:n.util.defineProperty,forEachProperty:n.util.forEachProperty,mapNativeToChainable:n.util.mapNativeToChainable}},function(t,e,i){"use strict";i(246)()},function(t,e,i){"use strict";var n=i(99);t.exports=function(t,e){this.start=n(t),this.end=n(e)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"LEFT",function(){return p}),i.d(e,"RIGHT",function(){return f}),i.d(e,"CENTER",function(){return g}),i.d(e,"Toolbar",function(){return m});var l=i(10),c=i(2),h=i(1),u=i(3),d=["initializing-feature","initializing-extension"],p="left",f="right",g="center",m=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"toolbar"))).config.toolbar||{};return i.contCssClass=Object(h.defaultsStr)(n.container_css_class,"inf"),i.lContCssClass=Object(h.defaultsStr)(n.left_cont_css_class,"ldiv"),i.rContCssClass=Object(h.defaultsStr)(n.right_cont_css_class,"rdiv"),i.cContCssClass=Object(h.defaultsStr)(n.center_cont_css_class,"mdiv"),i.tgtId=Object(h.defaultsStr)(n.target_id,null),i.cont=null,i.lCont=null,i.rCont=null,i.cCont=null,i.innerCont={left:null,center:null,right:null},i.emitter.on(d,function(t,e){return i.init(e)}),i.enabled=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(t){if(!this.initialized&&!t){var e=this.tf,i=Object(c.createElm)("div");if(i.className=this.contCssClass,this.tgtId)Object(c.elm)(this.tgtId).appendChild(i);else if(e.gridLayout){var n=e.Mod.gridLayout;n.tblMainCont.appendChild(i),i.className=n.infDivCssClass}else{var s=Object(c.createElm)("caption");s.appendChild(i),e.dom().insertBefore(s,e.dom().firstChild)}this.cont=i,this.lCont=this.createContainer(i,this.lContCssClass),this.rCont=this.createContainer(i,this.rContCssClass),this.cCont=this.createContainer(i,this.cContCssClass),this.innerCont={left:this.lCont,center:this.cCont,right:this.rCont},this.initialized=!0,Object(u.isUndef)(e.help)&&(e.Mod.help.enable(),this.emitter.emit("init-help",e))}}},{key:"container",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0,i=this.innerCont[t];return e&&i.appendChild(e),i}},{key:"createContainer",value:function(t,e){var i=Object(c.createElm)("div",["class",e]);return t.appendChild(i),i}},{key:"destroy",value:function(){if(this.initialized){var t=this.tf;Object(c.removeElm)(this.cont),this.cont=null;var e=t.dom(),i=Object(c.tag)(e,"caption");[].forEach.call(i,function(t){return Object(c.removeElm)(t)}),this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";i.r(e),i.d(e,"has",function(){return s});var n=i(9),s=function(t,e,i){for(var s=Boolean(i),r=0,o=t.length;r<o;r++)if(Object(n.matchCase)(t[r].toString(),s)===e)return!0;return!1}},function(t,e,i){"use strict";var n=i(16).forEachProperty;t.exports=function(t,e){var i=t.prototype;n(e,function(t,e){i[e]=t})}},function(t,e,i){"use strict";i.r(e),i.d(e,"parse",function(){return s});var n=i(3),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";if(Object(n.isNumber)(t))return t;var i=new RegExp("[^0-9-"+e+"]",["g"]),s=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(i,"").replace(e,"."));return isNaN(s)?0:s}},function(t,e,i){"use strict";var n=i(29);t.exports=function(t,e){return t["get"+(n(t)?"UTC":"")+e]()}},function(t,e,i){"use strict";var n=i(23);t.exports=function(t){return n(t,"Day")}},function(t,e,i){"use strict";i(170)()},function(t,e,i){"use strict";var n=i(0);t.exports={sugarObject:n.Object,sugarArray:n.Array,sugarDate:n.Date,sugarString:n.String,sugarNumber:n.Number,sugarFunction:n.Function,sugarRegExp:n.RegExp}},function(t,e,i){"use strict";var n=i(39),s=i(38),r=i(24),o=i(12),a=i(14),l=o.isNumber,c=a.abs;t.exports=function(t,e,i){if(l(e)){var o=r(t);if(i){var a=i>0?1:-1,h=e%7-o;h&&h/c(h)!==a&&(e+=7*a)}return n(t,s(t)+e-o),t.getTime()}}},function(t,e,i){"use strict";var n=i(14),s=n.ceil,r=n.floor,o=Math.trunc||function(t){return 0!==t&&isFinite(t)?t<0?s(t):r(t):t};t.exports=o},function(t,e,i){"use strict";var n=i(420);t.exports=n("utc")},function(t,e,i){"use strict";var n=i(68);t.exports=function(t,e,i){return n(null,t,e,i).date}},function(t,e,i){"use strict";var n=i(23);t.exports=function(t){return n(t,"Month")}},function(t,e,i){"use strict";var n=i(23);t.exports=function(t){return n(t,"FullYear")}},function(t,e,i){"use strict";var n=i(121),s=[{name:"millisecond",method:"Milliseconds",multiplier:1,start:0,end:999},{name:"second",method:"Seconds",multiplier:1e3,start:0,end:59},{name:"minute",method:"Minutes",multiplier:6e4,start:0,end:59},{name:"hour",method:"Hours",multiplier:36e5,start:0,end:23},{name:"day",alias:"date",method:"Date",ambiguous:!0,multiplier:864e5,start:1,end:function(t){return n(t)}},{name:"week",method:"ISOWeek",ambiguous:!0,multiplier:6048e5},{name:"month",method:"Month",ambiguous:!0,multiplier:26298e5,start:0,end:11},{name:"year",method:"FullYear",ambiguous:!0,multiplier:315576e5,start:0}];t.exports=s},function(t){"use strict";t.exports=function(t){return void 0!==t}},function(t,e,i){"use strict";var n=i(430);t.exports=function(t,e){for(var i=0,s=t.length;i<s;i++){if(!(i in t))return n(t,e,i);e(t[i],i)}}},function(t,e,i){"use strict";i.r(e),i.d(e,"ignoreCase",function(){return r}),i.d(e,"numSortAsc",function(){return o}),i.d(e,"numSortDesc",function(){return a}),i.d(e,"dateSortAsc",function(){return l}),i.d(e,"dateSortDesc",function(){return c}),i.d(e,"sortNumberStr",function(){return h}),i.d(e,"sortDateStr",function(){return u});var n=i(22),s=i(46),r=function(t,e){var i=t.toLowerCase(),n=e.toLowerCase();return i<n?-1:i>n?1:0},o=function(t,e){return t-e},a=function(t,e){return e-t},l=function(t,e){return t.getTime()-e.getTime()},c=function(t,e){return e.getTime()-t.getTime()},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return function(i,s){var r=Object(n.parse)(i,e),o=Object(n.parse)(s,e);return t(r,o)}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-us";return function(i,n){var r=s.Date.create(i,e),o=s.Date.create(n,e);return t(r,o)}}},function(t,e,i){"use strict";var n=i(29);t.exports=function(t){var e=new Date(t.getTime());return n(e,!!n(t)),e}},function(t,e,i){"use strict";var n=i(23);t.exports=function(t){return n(t,"Date")}},function(t,e,i){"use strict";var n=i(40);t.exports=function(t,e){n(t,"Date",e)}},function(t,e,i){"use strict";var n=i(29),s=i(23);t.exports=function(t,e,i,r){r&&i===s(t,e,i)||t["set"+(n(t)?"UTC":"")+e](i)}},function(t,e,i){"use strict";var n=i(34),s=i(12),r=i(40),o=i(115),a=s.isFunction;t.exports=function(t,e,i,s){return o(e,function(e,o){var l=s?e.end:e.start;return a(l)&&(l=l(t)),r(t,e.method,l),!n(i)||o>i}),t}},function(t,e,i){"use strict";var n=i(53);t.exports=function(t,e,i,s){var r={};return r[e]=i,n(t,r,s,1)}},function(t,e,i){"use strict";var n=i(67);t.exports=function(){return n("newDateInternal")()}},function(t,e,i){"use strict";var n=i(11),s=n.HOURS_INDEX,r=n.DAY_INDEX,o=n.WEEK_INDEX,a=n.MONTH_INDEX;t.exports=function(t){return t===a?r:t===o?s:t-1}},function(t){"use strict";t.exports=function(t){return void 0===t}},function(t,e,i){"use strict";i(439),i(182),t.exports=i(0)},function(t,e,i){"use strict";var n=i(169);t.exports=function(t){return n(t.start)&&n(t.end)&&typeof t.start==typeof t.end}},function(t){"use strict";t.exports=function(t){return!isNaN(t.getTime())}},function(t,e,i){"use strict";var n=i(385),s=i(383),r=n.defineInstance;t.exports=function(t,e,i,n){r(t,s(e,i),n)}},function(t,e,i){"use strict";var n=i(15),s=i(11),r=i(44),o=i(66),a=i(41),l=s.WEEK_INDEX,c=n.localeManager;t.exports=function(t,e,i){return e===l&&o(t,c.get(i).getFirstDayOfWeek()),a(t,r(e))}},function(t,e,i){"use strict";var n=i(15),s=i(11),r=i(111),o=i(44),a=i(41),l=s.WEEK_INDEX,c=n.localeManager;t.exports=function(t,e,i,n){return e===l&&r(t,c.get(i).getFirstDayOfWeek()),a(t,o(e),n,!0)}},function(t,e,i){"use strict";var n=i(11),s=i(34),r=i(402),o=i(69),a=n.DAY_INDEX;t.exports=function(t,e,i,n){function l(i,n,o){var a=r(t,i);s(a)&&e(i,a,n,o)}o(function(t,e){var i=l(t.name,t,e);return!1!==i&&e===a&&(i=l("weekday",t,e)),i},i,n)}},function(t,e,i){"use strict";var n=i(33),s=i(11),r=i(28),o=i(39),a=i(38),l=i(31),c=i(43),h=i(27),u=i(14),d=i(23),p=i(12),f=i(407),g=i(44),m=i(406),v=i(405),b=i(52),y=s.DAY_INDEX,x=s.WEEK_INDEX,w=s.MONTH_INDEX,_=s.YEAR_INDEX,k=u.round,C=p.isNumber;t.exports=function(t,e,i,s,u,p){function T(i,c,f,b){var _,C,T=f.method;!function(t,e){u&&!S&&(S="weekday"===t?x:m(e))}(i,b),function(t){t>e.specificity||(e.specificity=t)}(b),(C=c%1)&&(function(t,i,s){if(i){var r=n[g(i)],o=k(t.multiplier/r.multiplier*s);e[r.name]=o}}(f,b,C),c=r(c)),"weekday"!==i?(_=b===w&&a(t)>28,!s||f.ambiguous?(s&&(b===x&&(c*=7,T=n[y].method),c=c*s+d(t,T)),v(t,T,c,s),_&&function(t,e){return e<0&&(e=e%12+12),e%12!==l(t)}(t,c)&&o(t,0)):t.setTime(t.getTime()+c*s*f.multiplier)):s||h(t,c,p)}var S;if(C(e)&&s)e={millisecond:e};else if(C(e))return t.setTime(e),t;return b(e,T),i&&e.specificity&&f(t,e.specificity),function(){if(S&&!(S>_))switch(u){case-1:return t>c();case 1:return t<c()}}()&&function(){var t=n[S];s=u,T(t.name,1,t,S)}(),t}},function(t){"use strict";t.exports=function(t){return t.getTimezoneOffset()}},function(t){"use strict";t.exports=function(t){return t.split(" ")}},function(t){"use strict";t.exports={HALF_WIDTH_ZERO:48,FULL_WIDTH_ZERO:65296,HALF_WIDTH_PERIOD:".",FULL_WIDTH_PERIOD:"\uff0e",HALF_WIDTH_COMMA:",",OPEN_BRACE:"{",CLOSE_BRACE:"}"}},function(t,e,i){"use strict";var n=i(72);t.exports=function(t){return n({},t)}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"BaseDropdown",function(){return d});var l=i(10),c=i(36),h=i(3),u=i(4),d=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"baseDropdown"))).config;return i.customSorter=Object(h.isObj)(n.filter_options_sorter)&&Object(h.isArray)(n.filter_options_sorter.col)&&Object(h.isArray)(n.filter_options_sorter.comparer)?n.filter_options_sorter:null,i.isCustom=!1,i.opts=[],i.optsTxt=[],i.excludedOpts=[],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"sortOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.tf;if(i.isCustomOptions(t)||!i.sortSlc||Object(h.isArray)(i.sortSlc)&&-1===i.sortSlc.indexOf(t))return e;var n,s=i.caseSensitive,r=i.sortNumDesc;if(this.customSorter&&-1!==this.customSorter.col.indexOf(t)){var o=this.customSorter.col.indexOf(t);n=this.customSorter.comparer[o]}else if(i.hasType(t,[u.NUMBER,u.FORMATTED_NUMBER])){var a=i.getDecimal(t),l=c.numSortAsc;!0!==r&&-1===r.indexOf(t)||(l=c.numSortDesc),n=Object(c.sortNumberStr)(l,a)}else if(i.hasType(t,[u.DATE])){var d=i.feature("dateType").getLocale(t),p=c.dateSortAsc;n=Object(c.sortDateStr)(p,d)}else n=s?void 0:c.ignoreCase;return e.sort(n)}},{key:"refreshFilters",value:function(t){var e=this;t.forEach(function(t){var i=e.getValues(t);e.build(t,e.tf.linkedFilters),e.selectOptions(t,i)})}},{key:"isValidLinkedValue",value:function(t,e){var i=this.tf;if(i.disableExcludedOptions)return!0;if(i.paging){if(!Object(h.isEmpty)(e)&&i.isRowValid(t))return!0}else if(i.isRowDisplayed(t))return!0;return!1}},{key:"linkFilters",value:function(){var t=this.tf;t.linkedFilters&&t.activeFilterId&&this.refreshAll()}}]),t}()},function(t,e,i){"use strict";i.r(e);var n=i(8).root.document;e["default"]={write:function(t,e,i){var s="";i&&(s="; expires="+(s=new Date((new Date).getTime()+36e5*i)).toGMTString()),n.cookie=t+"="+escape(e)+s},read:function(t){var e="",i=t+"=";if(n.cookie.length>0){var s=n.cookie,r=s.indexOf(i);if(-1!==r){r+=i.length;var o=s.indexOf(";",r);-1===o&&(o=s.length),e=unescape(s.substring(r,o))}}return e},remove:function(t){this.write(t,"",-1)}}},function(t,e,i){"use strict";var n=i(12),s=i(47),r=i(96),o=i(167),a=i(166),l=i(165),c=i(94),h=n.isNumber,u=n.isString,d=n.isDate,p=n.isFunction;t.exports=function(t,e,i,n){var f,g,m,v,b=t.start,y=t.end,x=y<b,w=b,_=0,k=[];if(!s(t))return i?NaN:[];for(p(e)&&(n=e,e=null),e=e||1,h(b)?(g=l(b,e),f=function(){return o(w,e,g)}):u(b)?f=function(){return a(w,e)}:d(b)&&(m=c(e),e=m[0],v=m[1],f=function(){return r(w,e,v)}),x&&e>0&&(e*=-1);x?w>=y:w<=y;)i||k.push(w),n&&n(w,_,t),w=f(),_++;return i?_-1:k}},function(t){"use strict";t.exports="year|month|week|day|hour|minute|second|millisecond"},function(t,e,i){"use strict";var n=i(71),s=i(39),r=i(38),o=i(37),a=i(45),l=i(111),c=i(66),h=i(113),u=n.ISO_FIRST_DAY_OF_WEEK,d=n.ISO_FIRST_DAY_OF_WEEK_YEAR;t.exports=function(t,e,i,n){var p,f=0;for(a(i)&&(i=u),a(n)&&(n=d),p=l(o(t),i),h(p,i,n),e&&t<p&&(p=c(o(t),i),h(p,i,n));p<=t;)s(p,r(p)+7),f++;return f}},function(t,e,i){"use strict";var n=i(14),s=i(270),r=n.abs;t.exports=function(t,e,i,n,o){var a=r(t).toString(n||10);return a=s(o||"0",e-a.replace(/\.\d+/,"").length)+a,(i||t<0)&&(a=(t<0?"-":"+")+a),a}},function(t,e,i){"use strict";var n=i(28),s=i(37),r=i(42);t.exports=function(t,e,i){var o,a,l=e>t;if(l||(a=e,e=t,t=a),o=e-t,i.multiplier>1&&(o=n(o/i.multiplier)),i.ambiguous)for(t=s(t),o&&r(t,i.name,o);t<e&&(r(t,i.name,1),!(t>e));)o+=1;return l?-o:o}},function(t){"use strict";t.exports=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},function(t,e,i){"use strict";var n=i(27),s=i(24),r=i(14).floor;t.exports=function(t,e){return n(t,7*r((s(t)-e)/7)+e),t}},function(t,e,i){"use strict";var n=i(411),s=i(26),r=i(409),o=s.sugarDate;t.exports=r(o,n)},function(t,e,i){"use strict";var n=i(117),s=i(126),r=i(15),o=i(11),a=i(29),l=i(28),c=i(35),h=i(54),u=i(116),d=i(34),p=i(27),f=i(53),g=i(43),m=i(45),v=i(12),b=i(42),y=i(57),x=i(70),w=i(51),_=i(400),k=i(16),C=i(399),T=i(50),S=i(52),E=i(398),O=i(397),P=v.isNumber,M=v.isString,D=v.isDate,A=k.hasOwn,I=k.getOwn,N=r.English,j=r.localeManager,L=o.DAY_INDEX,F=o.WEEK_INDEX,R=o.MONTH_INDEX,$=o.YEAR_INDEX;t.exports=function(t,e,i,r){function o(t,e){var i=I(X,"params")||{};return c(e.to,function(e,n){var r,o,a=t[n+1];a&&("yy"===e||"y"===e?(e="year",o=E(a,U,I(X,"prefer"))):(r=I(s,e))?(e=r.param||e,o=C(r,a)):o=V.getTokenValue(e,a),i[e]=o)}),i}function v(t,e){return a(t)&&!d(I(X,"fromUTC"))&&(X.fromUTC=!0),a(t)&&!d(I(X,"setUTC"))&&(X.setUTC=!0),e&&(t=new Date(t.getTime())),t}function k(t){G.push(t)}function z(t,e,i){a(U,!0);var n=(i||1)*(60*(t||0)+(e||0));n&&(Y.minute=(Y.minute||0)-n)}function H(t){Y.hour=t%24,t>23&&k(function(){b(U,"date",l(t/24))})}function B(t){var e=d(Y.num)?Y.num:1;d(Y.weekday)&&(t===R?(q(e),e=1):(f(U,{weekday:Y.weekday
},!0),delete Y.weekday)),Y.half&&(e*=Y.half),d(Y.shift)?e*=Y.shift:Y.sign&&(e*=Y.sign),d(Y.day)&&(e+=Y.day,delete Y.day),function(t){var e;S(Y,function(i,n,s,r){if(r>=t)return U.setTime(NaN),!1;r<t&&((e=e||{})[i]=n,_(Y,i))}),e&&(k(function(){f(U,e,!0,!1,I(X,"prefer"),Q)}),Y.edge&&(W(Y.edge,e),delete Y.edge))}(t),Y[N.units[t]]=e,K=!0}function W(t,e){var i,n=e.unit;n||O(e,function(t,i,s,r){"weekday"===t&&d(e.month)||(n=r)}),n===R&&d(e.weekday)&&(i=e.weekday,delete e.weekday),k(function(){var e;t<0?T(U,n,I(X,"locale")):t>0&&(1===t&&(e=L,T(U,L)),w(U,n,I(X,"locale"),e)),d(i)&&(p(U,i,-t),u(U))}),e.specificity=n===R?L:n-1}function q(t){Y.weekday=7*(t-1)+Y.weekday,Y.date=1,Q=1}var U,Y,V,X,G,K,Q;return G=[],X=function(t){var e=M(t)?{locale:t}:t||{};return e.prefer=+!!I(e,"future")-+!!I(e,"past"),e}(i),U=t&&e?v(t,!0):g(),a(U,I(X,"fromUTC")),M(e)?U=function(t){t=t.toLowerCase(),V=j.get(I(X,"locale"));for(var e,i,s=0;e=V.compiledFormats[s];s++)if(i=t.match(e.reg)){if(V.cacheFormat(e,s),Y=o(i,e),d(Y.timestamp)){t=Y.timestamp,Y=null;break}d(Y.ampm)&&(1===(l=Y.ampm)&&Y.hour<12?Y.hour+=12:0===l&&12===Y.hour&&(Y.hour=0)),(Y.utc||d(Y.tzHour))&&z(Y.tzHour,Y.tzMinute,Y.tzSign),d(Y.shift)&&m(Y.unit)&&(d(Y.month)?Y.unit=$:d(Y.weekday)&&(Y.unit=F)),d(Y.num)&&m(Y.unit)&&(r=Y.num,d(Y.weekday)?q(r):d(Y.month)&&(Y.date=Y.num)),Y.midday&&H(Y.midday),d(Y.day)&&(Y.day,u(U),m(Y.unit)&&(Y.unit=L,Y.num=Y.day,delete Y.day)),d(Y.unit)&&B(Y.unit),Y.edge&&W(Y.edge,Y),Y.yearSign&&(Y.year*=Y.yearSign);break}var r,l;return Y?K?f(U,Y,!1,1):(a(U)&&u(U),f(U,Y,!0,0,I(X,"prefer"),Q)):(U=new Date(t),I(X,"fromUTC")&&U.setTime(U.getTime()+h(U)*n)),function(){c(G,function(t){t.call()})}(),U}(e):D(e)?U=v(e,A(X,"clone")||r):x(e)?(Y=y(e),f(U,Y,!0)):(P(e)||null===e)&&U.setTime(e),a(U,!!I(X,"setUTC")),{set:Y,date:U}}},function(t,e,i){"use strict";var n=i(33),s=i(11),r=i(45),o=s.YEAR_INDEX;t.exports=function(t,e,i){i=i||0,r(e)&&(e=o);for(var s=e;s>=i&&!1!==t(n[s],s);s--);}},function(t){"use strict";t.exports=function(t,e){return!!t&&"object"===(e||typeof t)}},function(t){"use strict";t.exports={ISO_FIRST_DAY_OF_WEEK:1,ISO_FIRST_DAY_OF_WEEK_YEAR:4}},function(t,e,i){"use strict";var n=i(16).forEachProperty;t.exports=function(t,e){return n(e,function(e,i){t[i]=e}),t}},function(t,e,i){"use strict";var n=i(436),s=i(72),r=i(57);t.exports=function(t){return s(r(n),t)}},function(t,e){e.remove=function(t){return t.replace(/[^\u0000-\u007e]/g,function(t){return n[t]||t})};for(var i=[{base:" ",chars:"\xa0"},{base:"0",chars:"\u07c0"},{base:"A",chars:"\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",chars:"\ua732"},{base:"AE",chars:"\xc6\u01fc\u01e2"},{base:"AO",chars:"\ua734"},{base:"AU",chars:"\ua736"},{base:"AV",chars:"\ua738\ua73a"},{base:"AY",chars:"\ua73c"},{base:"B",chars:"\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0181"},{base:"C",chars:"\u24b8\uff23\ua73e\u1e08\u0106C\u0108\u010a\u010c\xc7\u0187\u023b"},{base:"D",chars:"\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018a\u0189\u1d05\ua779"},{base:"Dh",chars:"\xd0"},{base:"DZ",chars:"\u01f1\u01c4"},{base:"Dz",chars:"\u01f2\u01c5"},{base:"E",chars:"\u025b\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e\u1d07"},{base:"F",chars:"\ua77c\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",chars:"\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e\u0262"},{base:"H",chars:"\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",chars:"\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",chars:"\u24bf\uff2a\u0134\u0248\u0237"},{base:"K",chars:"\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",chars:"\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",chars:"\u01c7"},{base:"Lj",chars:"\u01c8"},{base:"M",chars:"\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c\u03fb"},{base:"N",chars:"\ua7a4\u0220\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u019d\ua790\u1d0e"},{base:"NJ",chars:"\u01ca"},{base:"Nj",chars:"\u01cb"},{base:"O",chars:"\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OE",chars:"\u0152"},{base:"OI",chars:"\u01a2"},{base:"OO",chars:"\ua74e"},{base:"OU",chars:"\u0222"},{base:"P",chars:"\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",chars:"\u24c6\uff31\ua756\ua758\u024a"},{base:"R",chars:"\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",chars:"\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",chars:"\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"Th",chars:"\xde"},{base:"TZ",chars:"\ua728"},{base:"U",chars:"\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",chars:"\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",chars:"\ua760"},{base:"W",chars:"\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",chars:"\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",chars:"\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",chars:"\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",chars:"\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250\u0251"},{base:"aa",chars:"\ua733"},{base:"ae",chars:"\xe6\u01fd\u01e3"},{base:"ao",chars:"\ua735"},{base:"au",chars:"\ua737"},{base:"av",chars:"\ua739\ua73b"},{base:"ay",chars:"\ua73d"},{base:"b",chars:"\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253\u0182"},{base:"c",chars:"\uff43\u24d2\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",chars:"\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\u018b\u13e7\u0501\ua7aa"},{base:"dh",chars:"\xf0"},{base:"dz",chars:"\u01f3\u01c6"},{base:"e",chars:"\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u01dd"},{base:"f",chars:"\u24d5\uff46\u1e1f\u0192"},{base:"ff",chars:"\ufb00"},{base:"fi",chars:"\ufb01"},{base:"fl",chars:"\ufb02"},{base:"ffi",chars:"\ufb03"},{base:"ffl",chars:"\ufb04"},{base:"g",chars:"\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\ua77f\u1d79"},{base:"h",chars:"\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",chars:"\u0195"},{base:"i",chars:"\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",chars:"\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",chars:"\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",chars:"\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747\u026d"},{base:"lj",chars:"\u01c9"},{base:"m",chars:"\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",chars:"\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5\u043b\u0509"},{base:"nj",chars:"\u01cc"},{base:"o",chars:"\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\ua74b\ua74d\u0275\u0254\u1d11"},{base:"oe",chars:"\u0153"},{base:"oi",chars:"\u01a3"},{base:"oo",chars:"\ua74f"},{base:"ou",chars:"\u0223"},{base:"p",chars:"\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755\u03c1"},{base:"q",chars:"\u24e0\uff51\u024b\ua757\ua759"},{base:"r",chars:"\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",chars:"\u24e2\uff53\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b\u0282"},{base:"ss",chars:"\xdf"},{base:"t",chars:"\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"th",chars:"\xfe"},{base:"tz",chars:"\ua729"},{base:"u",chars:"\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",chars:"\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",chars:"\ua761"},{base:"w",chars:"\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",chars:"\u24e7\uff58\u1e8b\u1e8d"},{base:"y",chars:"\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",chars:"\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],n={},s=0;s<i.length;s+=1)for(var r=i[s].chars,o=0;o<r.length;o+=1)n[r[o]]=i[s].base;e.replacementList=i,e.diacriticsMap=n},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"CheckList",function(){return m});var l=i(58),c=i(2),h=i(20),u=i(9),d=i(5),p=i(3),f=i(4),g=i(1),m=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"checkList"))).config;return i.containers=[],i.containerCssClass=Object(g.defaultsStr)(n.div_checklist_css_class,"div_checklist"),i.filterCssClass=Object(g.defaultsStr)(n.checklist_css_class,"flt_checklist"),i.itemCssClass=Object(g.defaultsStr)(n.checklist_item_css_class,"flt_checklist_item"),i.selectedItemCssClass=Object(g.defaultsStr)(n.checklist_selected_item_css_class,"flt_checklist_slc_item"),i.activateText=Object(g.defaultsStr)(n.activate_checklist_text,"Click to load filter data"),i.disabledItemCssClass=Object(g.defaultsStr)(n.checklist_item_disabled_css_class,"flt_checklist_item_disabled"),i.enableResetOption=Object(g.defaultsBool)(n.enable_checklist_reset_filter,!0),i.prfx="chkdiv_",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.BaseDropdown),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"optionClick",value:function(t){var e=Object(d.targetEvt)(t),i=this.tf;this.emitter.emit("filter-focus",i,e),this.setItemOption(e),i.filter()}},{key:"onCheckListClick",value:function(t){var e=this,i=Object(d.targetEvt)(t);if(this.tf.loadFltOnDemand&&"0"===i.getAttribute("filled")){var n=i.getAttribute("ct"),s=this.containers[n];this.build(n),Object(d.removeEvt)(s,"click",function(t){return e.onCheckListClick(t)})}}},{key:"refreshAll",value:function(){var t=this.tf.getFiltersByType(f.CHECKLIST,!0);this.refreshFilters(t)}},{key:"init",value:function(t,e,i){var n=this,s=this.tf,r=e?s.externalFltIds[t]:null,o=Object(c.createElm)("div",["id","".concat(this.prfx).concat(t,"_").concat(s.id)],["ct",t],["filled","0"]);o.className=this.containerCssClass,r?Object(c.elm)(r).appendChild(o):i.appendChild(o),this.containers[t]=o,s.fltIds.push(s.buildFilterId(t)),s.loadFltOnDemand?(Object(d.addEvt)(o,"click",function(t){return n.onCheckListClick(t)}),o.appendChild(Object(c.createText)(this.activateText))):this.build(t),this.emitter.on(["build-checklist-filter"],function(t,e,i){return n.build(e,i)}),this.emitter.on(["select-checklist-options"],function(t,e,i){return n.selectOptions(e,i)}),this.emitter.on(["rows-changed"],function(){return n.refreshAll()}),this.emitter.on(["after-filtering"],function(){return n.linkFilters()}),this.initialized=!0}},{key:"build",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.tf;t=Number(t),this.emitter.emit("before-populating-filter",n,t),this.opts=[],this.optsTxt=[];var s=this.containers[t],r=Object(c.createElm)("ul",["id",n.fltIds[t]],["colIndex",t]);r.className=this.filterCssClass;var o,a=n.caseSensitive;if(this.isCustom=n.isCustomOptions(t),this.isCustom){var l=n.getCustomOptions(t);this.opts=l[0],this.optsTxt=l[1]}var d=n.getActiveFilterId();i&&d&&(o=n.getColumnIndexFromFilterId(d));var p=[];i&&n.disableExcludedOptions&&(this.excludedOpts=[]),s.innerHTML="",n.eachRow()(function(s){var r=n.getCellValue(s.cells[t]),o=Object(u.matchCase)(r,a);Object(h.has)(e.opts,o,a)||e.opts.push(r);var l=p[t];i&&n.disableExcludedOptions&&(l||(l=n.getVisibleColumnValues(t)),Object(h.has)(l,o,a)||Object(h.has)(e.excludedOpts,o,a)||e.excludedOpts.push(r))},function(t,s){return-1!==n.excludeRows.indexOf(s)||!(t.cells.length===n.nbCells&&!e.isCustom)||!(!i||e.isValidLinkedValue(s,o))||void 0}),this.opts=this.sortOptions(t,this.opts),this.excludedOpts&&(this.excludedOpts=this.sortOptions(t,this.excludedOpts)),this.addChecks(t,r),n.loadFltOnDemand&&(s.innerHTML=""),s.appendChild(r),s.setAttribute("filled","1"),this.emitter.emit("after-populating-filter",n,t,s)}},{key:"addChecks",value:function(t,e){for(var i=this,n=this.tf,s=this.addTChecks(t,e),r=0;r<this.opts.length;r++){var o=this.opts[r],a=this.isCustom?this.optsTxt[r]:o,l=n.fltIds[t],p=r+s,g=Object(c.createCheckItem)("".concat(l,"_").concat(p),o,a,["data-idx",p]);g.className=this.itemCssClass,n.linkedFilters&&n.disableExcludedOptions&&Object(h.has)(this.excludedOpts,Object(u.matchCase)(o,n.caseSensitive),n.caseSensitive)?(Object(c.addClass)(g,this.disabledItemCssClass),g.check.disabled=!0,g.disabled=!0):Object(d.addEvt)(g.check,"click",function(t){return i.optionClick(t)}),e.appendChild(g),""===o&&(g.style.display=f.NONE)}}},{key:"addTChecks",value:function(t,e){var i=this,n=this.tf,s=1,r=n.fltIds[t],o=Object(c.createCheckItem)("".concat(r,"_0"),"",n.getClearFilterText(t),["data-idx",0]);if(o.className=this.itemCssClass,e.appendChild(o),Object(d.addEvt)(o.check,"click",function(t){return i.optionClick(t)}),this.enableResetOption||(o.style.display=f.NONE),n.enableEmptyOption){var a=Object(c.createCheckItem)("".concat(r,"_1"),n.emOperator,n.emptyText,["data-idx",1]);a.className=this.itemCssClass,e.appendChild(a),Object(d.addEvt)(a.check,"click",function(t){return i.optionClick(t)}),s++}if(n.enableNonEmptyOption){var l=Object(c.createCheckItem)("".concat(r,"_2"),n.nmOperator,n.nonEmptyText,["data-idx",2]);l.className=this.itemCssClass,e.appendChild(l),Object(d.addEvt)(l.check,"click",function(t){return i.optionClick(t)}),s++}return s}},{key:"setItemOption",value:function(t){var e=this;if(t){var i=this.tf,n=t.value,s=t.dataset.idx,r=i.getColumnIndexFromFilterId(t.id),o=i.getFilterElement(parseInt(r,10)),a=o.childNodes,l=a[s],h=o.getAttribute("value")||"",d=o.getAttribute("indexes")||"";if(t.checked){if(""===n)d.split(i.separator).forEach(function(t){t=Number(t);var i=a[t],n=Object(c.tag)(i,"input")[0];n&&t>0&&(n.checked=!1,Object(c.removeClass)(i,e.selectedItemCssClass))}),o.setAttribute("value",""),o.setAttribute("indexes","");else{var p=d+s+i.separator,f=Object(u.trim)(h+" "+n+" "+i.orOperator);o.setAttribute("value",f),o.setAttribute("indexes",p);var g=Object(c.tag)(a[0],"input")[0];g&&(g.checked=!1)}Object(c.removeClass)(a[0],this.selectedItemCssClass),Object(c.addClass)(l,this.selectedItemCssClass)}else{var m=new RegExp(Object(u.rgxEsc)(n+" "+i.orOperator)),v=h.replace(m,""),b=new RegExp(Object(u.rgxEsc)(s+i.separator)),y=d.replace(b,"");o.setAttribute("value",Object(u.trim)(v)),o.setAttribute("indexes",y),Object(c.removeClass)(l,this.selectedItemCssClass)}}}},{key:"selectOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.tf,s=n.getFilterElement(t);if(s&&0!==i.length){var r=Object(c.tag)(s,"li");s.setAttribute("value",""),s.setAttribute("indexes",""),[].forEach.call(r,function(t){var s=Object(c.tag)(t,"input")[0],r=Object(u.matchCase)(s.value,n.caseSensitive);""!==r&&Object(h.has)(i,r,n.caseSensitive)?s.checked=!0:-1!==i.indexOf(n.nmOperator)&&r===Object(u.matchCase)(n.nonEmptyText,n.caseSensitive)?s.checked=!0:-1!==i.indexOf(n.emOperator)&&r===Object(u.matchCase)(n.emptyText,n.caseSensitive)?s.checked=!0:s.checked=!1,e.setItemOption(s)})}}},{key:"getValues",value:function(t){var e=this.tf,i=e.getFilterElement(t);if(!i)return[];var n=i.getAttribute("value"),s=Object(p.isEmpty)(n)?"":n;return s=(s=s.substr(0,s.length-3)).split(" "+e.orOperator+" ")}},{key:"destroy",value:function(){var t=this;this.emitter.off(["build-checklist-filter"],function(e,i,n){return t.build(i,n)}),this.emitter.off(["select-checklist-options"],function(e,i,n){return t.selectOptions(i,n)}),this.emitter.off(["rows-changed"],function(){return t.refreshAll()}),this.emitter.off(["after-filtering"],function(){return t.linkFilters()}),this.initialized=!1}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i.r(e),i.d(e,"Paging",function(){return g});var l=i(10),c=i(2),h=i(3),u=i(5),d=i(4),p=i(1),f=i(19),g=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var s=(i=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}(this,r(t).call(this,e,"paging"))).config.paging||{};i.btnCssClass=Object(p.defaultsStr)(s.btn_css_class,"pgInp"),i.pageSlc=null,i.pageLengthSlc=null,i.tgtId=Object(p.defaultsStr)(s.target_id,null),i.pageLength=Object(p.defaultsNb)(s.length,10),i.pageLengthTgtId=Object(p.defaultsStr)(s.results_per_page_target_id,null),i.pgSlcCssClass=Object(p.defaultsStr)(s.slc_css_class,"pgSlc"),i.pgInpCssClass=Object(p.defaultsStr)(s.inp_css_class,"pgNbInp"),i.resultsPerPage=Object(p.defaultsArr)(s.results_per_page,null),i.hasResultsPerPage=Object(h.isArray)(i.resultsPerPage),i.resultsSlcCssClass=Object(p.defaultsStr)(s.results_slc_css_class,"rspg"),i.resultsSpanCssClass=Object(p.defaultsStr)(s.results_span_css_class,"rspgSpan"),i.startPagingRow=0,i.nbPages=0,i.currentPageNb=1,i.btnNextPageText=Object(p.defaultsStr)(s.btn_next_page_text,">"),i.btnPrevPageText=Object(p.defaultsStr)(s.btn_prev_page_text,"<"),i.btnLastPageText=Object(p.defaultsStr)(s.btn_last_page_text,">|"),i.btnFirstPageText=Object(p.defaultsStr)(s.btn_first_page_text,"|<"),i.btnNextPageHtml=Object(p.defaultsStr)(s.btn_next_page_html,e.enableIcons?'<input type="button" value="" class="'+i.btnCssClass+' nextPage" title="Next page" />':null),i.btnPrevPageHtml=Object(p.defaultsStr)(s.btn_prev_page_html,e.enableIcons?'<input type="button" value="" class="'+i.btnCssClass+' previousPage" title="Previous page" />':null),i.btnFirstPageHtml=Object(p.defaultsStr)(s.btn_first_page_html,e.enableIcons?'<input type="button" value="" class="'+i.btnCssClass+' firstPage" title="First page" />':null),i.btnLastPageHtml=Object(p.defaultsStr)(s.btn_last_page_html,e.enableIcons?'<input type="button" value="" class="'+i.btnCssClass+' lastPage" title="Last page" />':null),i.pageText=Object(p.defaultsStr)(s.page_text," Page "),i.ofText=Object(p.defaultsStr)(s.of_text," of "),i.nbPgSpanCssClass=Object(p.defaultsStr)(s.nb_pages_css_class,"nbpg"),i.hasBtns=Object(p.defaultsBool)(s.btns,!0),i.pageSelectorType=Object(p.defaultsStr)(s.page_selector_type,d.SELECT),i.toolbarPosition=Object(p.defaultsStr)(s.toolbar_position,f.CENTER),i.onBeforeChangePage=Object(p.defaultsFn)(s.on_before_change_page,h.EMPTY_FN),i.onAfterChangePage=Object(p.defaultsFn)(s.on_after_change_page,h.EMPTY_FN),i.slcResultsTxt=null,i.btnNextCont=null,i.btnPrevCont=null,i.btnLastCont=null,i.btnFirstCont=null,i.pgCont=null,i.pgBefore=null,i.pgAfter=null;var o=e.refRow,l=e.getRowsNb(!0);i.nbPages=Math.ceil((l-o)/i.pageLength);var c=a(a(i));return i.evt={slcIndex:function(){return c.pageSelectorType===d.SELECT?c.pageSlc.options.selectedIndex:parseInt(c.pageSlc.value,10)-1},nbOpts:function(){return c.pageSelectorType===d.SELECT?parseInt(c.pageSlc.options.length,10)-1:c.nbPages-1},next:function(){var t=c.evt.slcIndex()<c.evt.nbOpts()?c.evt.slcIndex()+1:0;c.changePage(t)},prev:function(){var t=c.evt.slcIndex()>0?c.evt.slcIndex()-1:c.evt.nbOpts();c.changePage(t)},last:function(){c.changePage(c.evt.nbOpts())},first:function(){c.changePage(0)},_detectKey:function(t){Object(u.isKeyPressed)(t,[d.ENTER_KEY])&&(e.sorted?(e.filter(),c.changePage(c.evt.slcIndex())):c.changePage(),this.blur())},slcPagesChange:null,nextEvt:null,prevEvt:null,lastEvt:null,firstEvt:null},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t,e=this,i=this.tf,n=this.evt;if(!this.initialized){this.emitter.emit("initializing-feature",this,!Object(h.isNull)(this.tgtId)),this.hasResultsPerPage&&(this.resultsPerPage.length<2?this.hasResultsPerPage=!1:(this.pageLength=this.resultsPerPage[1][0],this.setResultsPerPage())),n.slcPagesChange=function(t){var i=t.target;e.changePage(i.selectedIndex)},this.pageSelectorType===d.SELECT&&((t=Object(c.createElm)(d.SELECT)).className=this.pgSlcCssClass,Object(u.addEvt)(t,"change",n.slcPagesChange)),this.pageSelectorType===d.INPUT&&((t=Object(c.createElm)(d.INPUT,["value",this.currentPageNb])).className=this.pgInpCssClass,Object(u.addEvt)(t,"keypress",n._detectKey));var s=Object(c.createElm)("span"),r=Object(c.createElm)("span"),o=Object(c.createElm)("span"),a=Object(c.createElm)("span");if(this.hasBtns){if(this.btnNextPageHtml)s.innerHTML=this.btnNextPageHtml,Object(u.addEvt)(s,"click",n.next);else{var l=Object(c.createElm)(d.INPUT,["type","button"],["value",this.btnNextPageText],["title","Next"]);l.className=this.btnCssClass,Object(u.addEvt)(l,"click",n.next),s.appendChild(l)}if(this.btnPrevPageHtml)r.innerHTML=this.btnPrevPageHtml,Object(u.addEvt)(r,"click",n.prev);else{var p=Object(c.createElm)(d.INPUT,["type","button"],["value",this.btnPrevPageText],["title","Previous"]);p.className=this.btnCssClass,Object(u.addEvt)(p,"click",n.prev),r.appendChild(p)}if(this.btnLastPageHtml)o.innerHTML=this.btnLastPageHtml,Object(u.addEvt)(o,"click",n.last);else{var f=Object(c.createElm)(d.INPUT,["type","button"],["value",this.btnLastPageText],["title","Last"]);f.className=this.btnCssClass,Object(u.addEvt)(f,"click",n.last),o.appendChild(f)}if(this.btnFirstPageHtml)a.innerHTML=this.btnFirstPageHtml,Object(u.addEvt)(a,"click",n.first);else{var g=Object(c.createElm)(d.INPUT,["type","button"],["value",this.btnFirstPageText],["title","First"]);g.className=this.btnCssClass,Object(u.addEvt)(g,"click",n.first),a.appendChild(g)}}var m=this.tgtId?Object(c.elm)(this.tgtId):i.feature("toolbar").container(this.toolbarPosition);m.appendChild(a),m.appendChild(r);var v=Object(c.createElm)("span");v.appendChild(Object(c.createText)(this.pageText)),v.className=this.nbPgSpanCssClass,m.appendChild(v),m.appendChild(t);var b=Object(c.createElm)("span");b.appendChild(Object(c.createText)(this.ofText)),b.className=this.nbPgSpanCssClass,m.appendChild(b);var y=Object(c.createElm)("span");y.className=this.nbPgSpanCssClass,y.appendChild(Object(c.createText)(" "+this.nbPages+" ")),m.appendChild(y),m.appendChild(s),m.appendChild(o),this.btnNextCont=s,this.btnPrevCont=r,this.btnLastCont=o,this.btnFirstCont=a,this.pgCont=y,this.pgBefore=v,this.pgAfter=b,this.pageSlc=t,this.setPagingInfo(),i.fltGrid||(i.validateAllRows(),this.setPagingInfo(i.validRowsIndex)),this.emitter.on(["after-filtering"],Object(u.bound)(this.resetPagingInfo,this)),this.emitter.on(["change-page"],Object(u.bound)(this.changePageHandler,this)),this.emitter.on(["change-page-results"],Object(u.bound)(this.changePageResultsHandler,this)),this.initialized=!0,this.emitter.emit("feature-initialized",this)}}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.enable(),this.init(),t&&this.tf.filter()}},{key:"resetPagingInfo",value:function(){this.startPagingRow=0,this.currentPageNb=1,this.setPagingInfo(this.tf.validRowsIndex)}},{key:"setPagingInfo",value:function(t){var e=this.tf,i=this.tgtId?Object(c.elm)(this.tgtId):e.feature("toolbar").container(this.toolbarPosition);if(e.validRowsIndex=t||e.getValidRows(!0),this.nbPages=Math.ceil(e.validRowsIndex.length/this.pageLength),this.pgCont.innerHTML=this.nbPages,this.pageSelectorType===d.SELECT&&(this.pageSlc.innerHTML=""),this.nbPages>0)if(i.style.visibility="visible",this.pageSelectorType===d.SELECT)for(var n=0;n<this.nbPages;n++){var s=Object(c.createOpt)(n+1,n*this.pageLength,!1);this.pageSlc.options[n]=s}else this.pageSlc.value=this.currentPageNb;else i.style.visibility="hidden";this.groupByPage(e.validRowsIndex)}},{key:"groupByPage",value:function(t){var e=this.tf,i=e.dom().rows,n=parseInt(this.startPagingRow,10),s=n+parseInt(this.pageLength,10);t&&(e.validRowsIndex=t);for(var r=0,o=e.getValidRowsNb(!0);r<o;r++){var a=e.validRowsIndex[r],l=i[a],c=l.getAttribute("validRow"),u=!1;r>=n&&r<s?(Object(h.isNull)(c)||Boolean("true"===c))&&(l.style.display="",u=!0):l.style.display=d.NONE,this.emitter.emit("row-paged",e,a,r,u)}this.emitter.emit("grouped-by-page",e,this)}},{key:"getPage",value:function(){return this.currentPageNb}},{key:"setPage",value:function(t){if(this.tf.isInitialized()&&this.isEnabled()){var e=this.evt,i=n(t);if("string"===i)switch(t.toLowerCase()){case"next":e.next();break;case"previous":e.prev();break;case"last":e.last();break;case"first":e.first();break;default:e.next()}else"number"===i&&this.changePage(t-1)}}},{key:"setResultsPerPage",value:function(){var t=this,e=this.tf,i=this.evt;if(!this.pageLengthSlc&&this.resultsPerPage){i.slcResultsChange=function(e){t.onChangeResultsPerPage(),e.target.blur()};var n=Object(c.createElm)(d.SELECT);n.className=this.resultsSlcCssClass;var s=this.resultsPerPage[0],r=this.resultsPerPage[1],o=Object(c.createElm)("span");o.className=this.resultsSpanCssClass;var a=this.pageLengthTgtId?Object(c.elm)(this.pageLengthTgtId):e.feature("toolbar").container(f.RIGHT);o.appendChild(Object(c.createText)(s));var l=e.feature("help");l&&l.btn?(l.btn.parentNode.insertBefore(o,l.btn),l.btn.parentNode.insertBefore(n,l.btn)):(a.appendChild(o),a.appendChild(n));for(var h=0;h<r.length;h++){var p=new Option(r[h],r[h],!1,!1);n.options[h]=p}Object(u.addEvt)(n,"change",i.slcResultsChange),this.slcResultsTxt=o,this.pageLengthSlc=n}}},{key:"removeResultsPerPage",value:function(){this.tf.isInitialized()&&this.pageLengthSlc&&this.resultsPerPage&&(this.pageLengthSlc&&Object(c.removeElm)(this.pageLengthSlc),this.slcResultsTxt&&Object(c.removeElm)(this.slcResultsTxt),this.pageLengthSlc=null,this.slcResultsTxt=null)}},{key:"changePage",value:function(t){var e=this.tf;this.isEnabled()&&(this.emitter.emit("before-page-change",e,t+1),null===t&&(t=this.pageSelectorType===d.SELECT?this.pageSlc.options.selectedIndex:this.pageSlc.value-1),t>=0&&t<=this.nbPages-1&&(this.onBeforeChangePage(this,t+1),this.currentPageNb=parseInt(t,10)+1,this.pageSelectorType===d.SELECT?this.pageSlc.options[t].selected=!0:this.pageSlc.value=this.currentPageNb,this.startPagingRow=this.pageSelectorType===d.SELECT?this.pageSlc.value:t*this.pageLength,this.groupByPage(),this.onAfterChangePage(this,t+1)),this.emitter.emit("after-page-change",e,t+1))}},{key:"changeResultsPerPage",value:function(t){this.isEnabled()&&!isNaN(t)&&(this.pageLengthSlc.value=t,this.onChangeResultsPerPage())}},{key:"onChangeResultsPerPage",value:function(){var t=this.tf;if(this.isEnabled()&&0!==t.getValidRowsNb()){var e=this.pageLengthSlc,i=this.pageSelectorType,n=this.pageSlc,s=this.emitter;s.emit("before-page-length-change",t);var r=e.selectedIndex,o=i===d.SELECT?n.selectedIndex:parseInt(n.value-1,10);if(this.pageLength=parseInt(e.options[r].value,10),this.startPagingRow=this.pageLength*o,!isNaN(this.pageLength)&&(this.startPagingRow>=t.nbFilterableRows&&(this.startPagingRow=t.nbFilterableRows-this.pageLength),this.setPagingInfo(),i===d.SELECT)){var a=n.options.length-1<=o?n.options.length-1:o;n.options[a].selected=!0}s.emit("after-page-length-change",t,this.pageLength)}}},{key:"resetPage",value:function(){var t=this.tf;if(this.isEnabled()){this.emitter.emit("before-reset-page",t);var e=t.feature("store").getPageNb();""!==e&&this.changePage(e-1),this.emitter.emit("after-reset-page",t,e)}}},{key:"resetPageLength",value:function(){var t=this.tf;if(this.isEnabled()){this.emitter.emit("before-reset-page-length",t);var e=t.feature("store").getPageLength();""!==e&&(this.pageLengthSlc.options[e].selected=!0,this.changeResultsPerPage()),this.emitter.emit("after-reset-page-length",t,e)}}},{key:"changePageHandler",value:function(t,e){this.setPage(e)}},{key:"changePageResultsHandler",value:function(t,e){this.changeResultsPerPage(e)}},{key:"destroy",value:function(){if(this.initialized){var t=this.evt;this.pageSlc&&(this.pageSelectorType===d.SELECT?Object(u.removeEvt)(this.pageSlc,"change",t.slcPagesChange):this.pageSelectorType===d.INPUT&&Object(u.removeEvt)(this.pageSlc,"keypress",t._detectKey),Object(c.removeElm)(this.pageSlc)),this.btnNextCont&&(Object(u.removeEvt)(this.btnNextCont,"click",t.next),Object(c.removeElm)(this.btnNextCont),this.btnNextCont=null),this.btnPrevCont&&(Object(u.removeEvt)(this.btnPrevCont,"click",t.prev),Object(c.removeElm)(this.btnPrevCont),this.btnPrevCont=null),this.btnLastCont&&(Object(u.removeEvt)(this.btnLastCont,"click",t.last),Object(c.removeElm)(this.btnLastCont),this.btnLastCont=null),this.btnFirstCont&&(Object(u.removeEvt)(this.btnFirstCont,"click",t.first),Object(c.removeElm)(this.btnFirstCont),this.btnFirstCont=null),this.pgBefore&&(Object(c.removeElm)(this.pgBefore),this.pgBefore=null),this.pgAfter&&(Object(c.removeElm)(this.pgAfter),this.pgAfter=null),this.pgCont&&(Object(c.removeElm)(this.pgCont),this.pgCont=null),this.hasResultsPerPage&&this.removeResultsPerPage(),this.emitter.off(["after-filtering"],Object(u.bound)(this.resetPagingInfo,this)),this.emitter.off(["change-page"],Object(u.bound)(this.changePageHandler,this)),this.emitter.off(["change-page-results"],Object(u.bound)(this.changePageResultsHandler,this)),this.pageSlc=null,this.nbPages=0,this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){
return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"NoResults",function(){return p});var l=i(10),c=i(2),h=i(3),u=i(4),d=i(1),p=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"noResults"))).config.no_results_message||{};return i.content=Object(d.defaultsStr)(n.content,"No results"),i.customContainer=Object(d.defaultsStr)(n.custom_container,null),i.customContainerId=Object(d.defaultsStr)(n.custom_container_id,null),i.isExternal=!Object(h.isEmpty)(i.customContainer)||!Object(h.isEmpty)(i.customContainerId),i.cssClass=Object(d.defaultsStr)(n.css_class,"no-results"),i.cont=null,i.onBeforeShow=Object(d.defaultsFn)(n.on_before_show_msg,h.EMPTY_FN),i.onAfterShow=Object(d.defaultsFn)(n.on_after_show_msg,h.EMPTY_FN),i.onBeforeHide=Object(d.defaultsFn)(n.on_before_hide_msg,h.EMPTY_FN),i.onAfterHide=Object(d.defaultsFn)(n.on_after_hide_msg,h.EMPTY_FN),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;if(!this.initialized){var e=this.tf,i=this.customContainer||Object(c.elm)(this.customContainerId)||e.dom(),n=Object(c.createElm)("div");n.className=this.cssClass,n.innerHTML=this.content,this.isExternal?i.appendChild(n):i.parentNode.insertBefore(n,i.nextSibling),this.cont=n,this.emitter.on(["initialized","after-filtering"],function(){return t.toggle()}),this.initialized=!0}}},{key:"toggle",value:function(){this.tf.getValidRowsNb()>0?this.hide():this.show()}},{key:"show",value:function(){this.initialized&&this.isEnabled()&&(this.onBeforeShow(this.tf,this),this.setWidth(),this.cont.style.display="block",this.onAfterShow(this.tf,this))}},{key:"hide",value:function(){this.initialized&&this.isEnabled()&&(this.onBeforeHide(this.tf,this),this.cont.style.display=u.NONE,this.onAfterHide(this.tf,this))}},{key:"setWidth",value:function(){if(this.initialized&&!this.isExternal&&this.isEnabled()){var t=this.tf;if(t.gridLayout){var e=t.feature("gridLayout");this.cont.style.width=e.headTbl.clientWidth+"px"}else this.cont.style.width=(t.dom().tHead?t.dom().tHead.clientWidth:t.dom().tBodies[0].clientWidth)+"px"}}},{key:"destroy",value:function(){var t=this;this.initialized&&(Object(c.removeElm)(this.cont),this.cont=null,this.emitter.off(["after-filtering"],function(){return t.toggle()}),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"AlternateRows",function(){return d});var l=i(10),c=i(2),h=i(1),u=i(5),d=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"alternateRows"))).config;return i.evenCss=Object(h.defaultsStr)(n.even_row_css_class,"even"),i.oddCss=Object(h.defaultsStr)(n.odd_row_css_class,"odd"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){this.initialized||(this.processAll(),this.emitter.on(["row-processed","row-paged"],Object(u.bound)(this.processRowHandler,this)),this.emitter.on(["column-sorted","rows-changed"],Object(u.bound)(this.processAll,this)),this.initialized=!0)}},{key:"processAll",value:function(){if(this.isEnabled())for(var t=this.tf.getValidRows(!0),e=t.length,i=0,n=0;n<e;n++){var s=t[n];this.setRowBg(s,i),i++}}},{key:"processRow",value:function(t,e,i){i?this.setRowBg(t,e):this.removeRowBg(t)}},{key:"setRowBg",value:function(t,e){if(this.isEnabled()&&!isNaN(t)){var i=this.tf.dom().rows,n=isNaN(e)?t:e;this.removeRowBg(t),Object(c.addClass)(i[t],n%2?this.evenCss:this.oddCss)}}},{key:"removeRowBg",value:function(t){if(!isNaN(t)){var e=this.tf.dom().rows;Object(c.removeClass)(e[t],this.oddCss),Object(c.removeClass)(e[t],this.evenCss)}}},{key:"processRowHandler",value:function(t,e,i,n){this.processRow(e,i,n)}},{key:"destroy",value:function(){var t=this;this.initialized&&(this.tf.eachRow(0)(function(e,i){return t.removeRowBg(i)}),this.emitter.off(["row-processed","row-paged"],Object(u.bound)(this.processRowHandler,this)),this.emitter.off(["column-sorted","rows-changed"],Object(u.bound)(this.processAll,this)),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"ClearButton",function(){return f});var l=i(10),c=i(2),h=i(5),u=i(1),d=i(3),p=i(19),f=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"btnReset"))).config.btn_reset||{};return i.targetId=Object(u.defaultsStr)(n.target_id,null),i.text=Object(u.defaultsStr)(n.text,null),i.cssClass=Object(u.defaultsStr)(n.css_class,"reset"),i.tooltip=n.tooltip||"Clear filters",i.html=Object(u.defaultsStr)(n.html,!e.enableIcons||i.text?null:'<input type="button" value="" class="'+i.cssClass+'" title="'+i.tooltip+'" />'),i.toolbarPosition=Object(u.defaultsStr)(n.toolbar_position,p.RIGHT),i.container=null,i.element=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"onClick",value:function(){this.isEnabled()&&this.tf.clearFilters()}},{key:"init",value:function(){var t=this,e=this.tf;if(!this.initialized){this.emitter.emit("initializing-feature",this,!Object(d.isNull)(this.targetId));var i=Object(c.createElm)("span");if((this.targetId?Object(c.elm)(this.targetId):e.feature("toolbar").container(this.toolbarPosition)).appendChild(i),this.html){i.innerHTML=this.html;var n=i.firstChild;Object(h.addEvt)(n,"click",function(){return t.onClick()})}else{var s=Object(c.createElm)("a",["href","javascript:void(0);"]);s.className=this.cssClass,s.appendChild(Object(c.createText)(this.text)),i.appendChild(s),Object(h.addEvt)(s,"click",function(){return t.onClick()})}this.element=i.firstChild,this.container=i,this.initialized=!0,this.emitter.emit("feature-initialized",this)}}},{key:"destroy",value:function(){this.initialized&&(Object(c.removeElm)(this.element),Object(c.removeElm)(this.container),this.element=null,this.container=null,this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"StatusBar",function(){return g});var l=i(10),c=i(8),h=i(2),u=i(3),d=i(1),p=i(19),f=["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],g=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"statusBar"))).config.status_bar||{};return i.targetId=Object(d.defaultsStr)(n.target_id,null),i.container=null,i.msgContainer=null,i.labelContainer=null,i.text=Object(d.defaultsStr)(n.text,""),i.cssClass=Object(d.defaultsStr)(n.css_class,"status"),i.delay=250,i.onBeforeShowMsg=Object(d.defaultsFn)(n.on_before_show_msg,u.EMPTY_FN),i.onAfterShowMsg=Object(d.defaultsFn)(n.on_after_show_msg,u.EMPTY_FN),i.msgFilter=Object(d.defaultsStr)(n.msg_filter,"Filtering data..."),i.msgPopulate=Object(d.defaultsStr)(n.msg_populate,"Populating filter..."),i.msgPopulateCheckList=Object(d.defaultsStr)(n.msg_populate_checklist,"Populating list..."),i.msgChangePage=Object(d.defaultsStr)(n.msg_change_page,"Collecting paging data..."),i.msgClear=Object(d.defaultsStr)(n.msg_clear,"Clearing filters..."),i.msgChangeResults=Object(d.defaultsStr)(n.msg_change_results,"Changing results per page..."),i.msgResetPage=Object(d.defaultsStr)(n.msg_reset_page,"Re-setting page..."),i.msgResetPageLength=Object(d.defaultsStr)(n.msg_reset_page_length,"Re-setting page length..."),i.msgSort=Object(d.defaultsStr)(n.msg_sort,"Sorting data..."),i.msgLoadExtensions=Object(d.defaultsStr)(n.msg_load_extensions,"Loading extensions..."),i.msgLoadThemes=Object(d.defaultsStr)(n.msg_load_themes,"Loading theme(s)..."),i.toolbarPosition=Object(d.defaultsStr)(n.toolbar_position,p.LEFT),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;if(!this.initialized){var e=this.tf,i=this.emitter;i.emit("initializing-feature",this,!Object(u.isNull)(this.targetId));var n=Object(h.createElm)("div");n.className=this.cssClass;var s=Object(h.createElm)("span"),r=Object(h.createElm)("span");r.appendChild(Object(h.createText)(this.text));var o=this.targetId?Object(h.elm)(this.targetId):e.feature("toolbar").container(this.toolbarPosition);this.targetId?(o.appendChild(r),o.appendChild(s)):(n.appendChild(r),n.appendChild(s),o.appendChild(n)),this.container=n,this.msgContainer=s,this.labelContainer=r,i.on(["before-filtering"],function(){return t.message(t.msgFilter)}),i.on(["before-populating-filter"],function(){return t.message(t.msgPopulate)}),i.on(["before-page-change"],function(){return t.message(t.msgChangePage)}),i.on(["before-clearing-filters"],function(){return t.message(t.msgClear)}),i.on(["before-page-length-change"],function(){return t.message(t.msgChangeResults)}),i.on(["before-reset-page"],function(){return t.message(t.msgResetPage)}),i.on(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)}),i.on(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)}),i.on(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)}),i.on(f,function(){return t.message("")}),this.initialized=!0,i.emit("feature-initialized",this)}}},{key:"message",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isEnabled()){this.onBeforeShowMsg(this.tf,e);var i=""===e?this.delay:1;c.root.setTimeout(function(){t.initialized&&(t.msgContainer.innerHTML=e,t.onAfterShowMsg(t.tf,e))},i)}}},{key:"destroy",value:function(){var t=this;if(this.initialized){var e=this.emitter;this.container.innerHTML="",this.targetId||Object(h.removeElm)(this.container),this.labelContainer=null,this.msgContainer=null,this.container=null,e.off(["before-filtering"],function(){return t.message(t.msgFilter)}),e.off(["before-populating-filter"],function(){return t.message(t.msgPopulate)}),e.off(["before-page-change"],function(){return t.message(t.msgChangePage)}),e.off(["before-clearing-filters"],function(){return t.message(t.msgClear)}),e.off(["before-page-length-change"],function(){return t.message(t.msgChangeResults)}),e.off(["before-reset-page"],function(){return t.message(t.msgResetPage)}),e.off(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)}),e.off(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)}),e.off(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)}),e.off(f,function(){return t.message("")}),this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"RowsCounter",function(){return p});var l=i(10),c=i(2),h=i(3),u=i(1),d=i(19),p=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"rowsCounter"))).config.rows_counter||{};return i.targetId=Object(u.defaultsStr)(n.target_id,null),i.container=null,i.label=null,i.text=Object(u.defaultsStr)(n.text,"Rows: "),i.fromToTextSeparator=Object(u.defaultsStr)(n.separator,"-"),i.overText=Object(u.defaultsStr)(n.over_text," / "),i.cssClass=Object(u.defaultsStr)(n.css_class,"tot"),i.toolbarPosition=Object(u.defaultsStr)(n.toolbar_position,d.LEFT),i.onBeforeRefreshCounter=Object(u.defaultsFn)(n.on_before_refresh_counter,h.EMPTY_FN),i.onAfterRefreshCounter=Object(u.defaultsFn)(n.on_after_refresh_counter,h.EMPTY_FN),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;if(!this.initialized){this.emitter.emit("initializing-feature",this,!Object(h.isNull)(this.targetId));var e=this.tf,i=Object(c.createElm)("div");i.className=this.cssClass;var n=Object(c.createElm)("span"),s=Object(c.createElm)("span");s.appendChild(Object(c.createText)(this.text));var r=this.targetId?Object(c.elm)(this.targetId):e.feature("toolbar").container(this.toolbarPosition);this.targetId?(r.appendChild(s),r.appendChild(n)):(i.appendChild(s),i.appendChild(n),r.appendChild(i)),this.container=i,this.label=n,this.emitter.on(["after-filtering","grouped-by-page"],function(){return t.refresh(e.getValidRowsNb())}),this.emitter.on(["rows-changed"],function(){return t.refresh()}),this.initialized=!0,this.refresh(),this.emitter.emit("feature-initialized",this)}}},{key:"refresh",value:function(t){if(this.initialized&&this.isEnabled()){var e,i=this.tf;if(this.onBeforeRefreshCounter(i,this.label),i.paging){var n=i.feature("paging");if(n){var s=i.getValidRowsNb(),r=parseInt(n.startPagingRow,10)+(s>0?1:0),o=r+n.pageLength-1<=s?r+n.pageLength-1:s;e=r+this.fromToTextSeparator+o+this.overText+s}}else e=t&&""!==t?t:i.getFilterableRowsNb()-i.nbHiddenRows;this.label.innerHTML=e,this.onAfterRefreshCounter(i,this.label,e)}}},{key:"destroy",value:function(){var t=this;this.initialized&&(!this.targetId&&this.container?Object(c.removeElm)(this.container):Object(c.elm)(this.targetId).innerHTML="",this.label=null,this.container=null,this.emitter.off(["after-filtering","grouped-by-page"],function(){return t.refresh(tf.getValidRowsNb())}),this.emitter.off(["rows-changed"],function(){return t.refresh()}),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"MarkActiveColumns",function(){return d});var l=i(10),c=i(2),h=i(3),u=i(1),d=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"markActiveColumns"))).config.mark_active_columns||{};return i.headerCssClass=Object(u.defaultsStr)(n.header_css_class,"activeHeader"),i.cellCssClass=Object(u.defaultsStr)(n.cell_css_class,"activeCell"),i.highlightColumn=Boolean(n.highlight_column),i.onBeforeActiveColumn=Object(u.defaultsFn)(n.on_before_active_column,h.EMPTY_FN),i.onAfterActiveColumn=Object(u.defaultsFn)(n.on_after_active_column,h.EMPTY_FN),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;this.initialized||(this.emitter.on(["before-filtering"],function(){return t.clearActiveColumns()}),this.emitter.on(["cell-processed"],function(e,i){return t.markActiveColumn(i)}),this.initialized=!0)}},{key:"clearActiveColumns",value:function(){var t=this,e=this.tf;e.eachCol(function(i){Object(c.removeClass)(e.getHeaderElement(i),t.headerCssClass),t.highlightColumn&&t.eachColumnCell(i,function(e){return Object(c.removeClass)(e,t.cellCssClass)})})}},{key:"markActiveColumn",value:function(t){var e=this,i=this.tf.getHeaderElement(t);Object(c.hasClass)(i,this.headerCssClass)||(this.onBeforeActiveColumn(this,t),Object(c.addClass)(i,this.headerCssClass),this.highlightColumn&&this.eachColumnCell(t,function(t){return Object(c.addClass)(t,e.cellCssClass)}),this.onAfterActiveColumn(this,t))}},{key:"eachColumnCell",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.EMPTY_FN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tf.dom();[].forEach.call(i.querySelectorAll("tbody td:nth-child(".concat(t+1,")")),e)}},{key:"destroy",value:function(){var t=this;this.initialized&&(this.clearActiveColumns(),this.emitter.off(["before-filtering"],function(){return t.clearActiveColumns()}),this.emitter.off(["cell-processed"],function(e,i){return t.markActiveColumn(i)}),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"PopupFilter",function(){return g});var l=i(10),c=i(3),h=i(2),u=i(5),d=i(4),p=i(8),f=i(1),g=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"popupFilters"))).config.popup_filters||{};return i.closeOnFiltering=Object(f.defaultsBool)(n.close_on_filtering,!0),i.iconPath=Object(f.defaultsStr)(n.image,e.themesPath+"icn_filter.gif"),i.activeIconPath=Object(f.defaultsStr)(n.image_active,e.themesPath+"icn_filterActive.gif"),i.iconHtml=Object(f.defaultsStr)(n.image_html,'<img src="'+i.iconPath+'" alt="Column filter" />'),i.placeholderCssClass=Object(f.defaultsStr)(n.placeholder_css_class,"popUpPlaceholder"),i.containerCssClass=Object(f.defaultsStr)(n.div_css_class,"popUpFilter"),i.adjustToContainer=Object(f.defaultsBool)(n.adjust_to_container,!0),i.onBeforeOpen=Object(f.defaultsFn)(n.on_before_popup_filter_open,c.EMPTY_FN),i.onAfterOpen=Object(f.defaultsFn)(n.on_after_popup_filter_open,c.EMPTY_FN),i.onBeforeClose=Object(f.defaultsFn)(n.on_before_popup_filter_close,c.EMPTY_FN),i.onAfterClose=Object(f.defaultsFn)(n.on_after_popup_filter_close,c.EMPTY_FN),i.fltSpans=[],i.fltIcons=[],i.filtersCache=null,i.fltElms=Object(f.defaultsArr)(i.filtersCache,[]),i.prfxDiv="popup_",i.activeFilterIdx=-1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"onClick",value:function(t){var e=Object(u.targetEvt)(t).parentNode,i=parseInt(e.getAttribute("ci"),10);if(this.closeAll(i),this.toggle(i),this.adjustToContainer){var n=this.fltElms[i],s=.95*this.tf.getHeaderElement(i).clientWidth;n.style.width=parseInt(s,10)+"px"}Object(u.cancelEvt)(t),Object(u.stopEvt)(t)}},{key:"onMouseup",value:function(t){if(-1!==this.activeFilterIdx){var e=Object(u.targetEvt)(t),i=this.fltElms[this.activeFilterIdx];if(this.fltIcons[this.activeFilterIdx]!==e){for(;e&&e!==i;)e=e.parentNode;e!==i&&this.close(this.activeFilterIdx)}}}},{key:"init",value:function(){var t=this;if(!this.initialized){var e=this.tf;e.externalFltIds=[""],e.filtersRowIndex=0,e.headersRow<=1&&isNaN(e.config().headers_row_index)&&(e.headersRow=0),e.gridLayout&&(e.headersRow--,this.buildIcons()),this.emitter.on(["before-filtering"],function(){return t.setIconsState()}),this.emitter.on(["after-filtering"],function(){return t.closeAll()}),this.emitter.on(["cell-processed"],function(e,i){return t.changeState(i,!0)}),this.emitter.on(["filters-row-inserted"],function(){return t.buildIcons()}),this.emitter.on(["before-filter-init"],function(e,i){return t.build(i)}),this.initialized=!0}}},{key:"reset",value:function(){this.enable(),this.init(),this.buildIcons(),this.buildAll()}},{key:"buildIcons",value:function(){var t=this,e=this.tf;e.headersRow++,e.eachCol(function(i){var n=Object(h.createElm)("span",["ci",i]);n.innerHTML=t.iconHtml,e.getHeaderElement(i).appendChild(n),Object(u.addEvt)(n,"click",function(e){return t.onClick(e)}),t.fltSpans[i]=n,t.fltIcons[i]=n.firstChild},function(t){return e.getFilterType(t)===d.NONE})}},{key:"buildAll",value:function(){for(var t=0;t<this.filtersCache.length;t++)this.build(t,this.filtersCache[t])}},{key:"build",value:function(t,e){var i=this.tf,n="".concat(this.prfxDiv).concat(i.id,"_").concat(t),s=Object(h.createElm)("div",["class",this.placeholderCssClass]),r=e||Object(h.createElm)("div",["id",n],["class",this.containerCssClass]);i.externalFltIds[t]=r.id,s.appendChild(r);var o=i.getHeaderElement(t);o.insertBefore(s,o.firstChild),Object(u.addEvt)(r,"click",function(t){return Object(u.stopEvt)(t)}),this.fltElms[t]=r}},{key:"toggle",value:function(t){this.isOpen(t)?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this,i=this.tf,n=this.fltElms[t];if(this.onBeforeOpen(this,n,t),n.style.display="block",this.activeFilterIdx=t,Object(u.addEvt)(p.root,"mouseup",function(t){return e.onMouseup(t)}),i.getFilterType(t)===d.INPUT){var s=i.getFilterElement(t);s&&s.focus()}this.onAfterOpen(this,n,t)}},{key:"close",value:function(t){var e=this,i=this.fltElms[t];this.onBeforeClose(this,i,t),i.style.display=d.NONE,this.activeFilterIdx===t&&(this.activeFilterIdx=-1),Object(u.removeEvt)(p.root,"mouseup",function(t){return e.onMouseup(t)}),this.onAfterClose(this,i,t)}},{key:"isOpen",value:function(t){return"block"===this.fltElms[t].style.display}},{key:"closeAll",value:function(t){if(!Object(c.isUndef)(t)||this.closeOnFiltering)for(var e=0;e<this.fltElms.length;e++)if(e!==t){var i=this.tf.getFilterType(e);(i===d.CHECKLIST||i===d.MULTIPLE)&&Object(c.isUndef)(t)||this.close(e)}}},{key:"setIconsState",value:function(){for(var t=0;t<this.fltIcons.length;t++)this.changeState(t,!1)}},{key:"changeState",value:function(t,e){var i=this.fltIcons[t];i&&(i.src=e?this.activeIconPath:this.iconPath)}},{key:"destroy",value:function(){var t=this;if(this.initialized){this.filtersCache=[];for(var e=0;e<this.fltElms.length;e++){var i=this.fltElms[e],n=i.parentNode,s=this.fltSpans[e],r=this.fltIcons[e];i&&(Object(h.removeElm)(i),this.filtersCache[e]=i),i=null,n&&Object(h.removeElm)(n),n=null,s&&Object(h.removeElm)(s),s=null,r&&Object(h.removeElm)(r),r=null}this.fltElms=[],this.fltSpans=[],this.fltIcons=[],this.tf.externalFltIds=[],this.emitter.off(["before-filtering"],function(){return t.setIconsState()}),this.emitter.off(["after-filtering"],function(){return t.closeAll()}),this.emitter.off(["cell-processed"],function(e,i){return t.changeState(i,!0)}),this.emitter.off(["filters-row-inserted"],function(){return t.buildIcons()}),this.emitter.off(["before-filter-init"],function(e,i){return t.build(i)}),this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"HighlightKeyword",function(){return l});var s=i(2),r=i(3),o=i(9),a=i(1),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=e.config();this.highlightCssClass=Object(a.defaultsStr)(i.highlight_css_class,"keyword"),this.tf=e,this.emitter=e.emitter}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"init",value:function(){var t=this;this.emitter.on(["before-filtering","destroy"],function(){return t.unhighlightAll()}),this.emitter.on(["highlight-keyword"],function(e,i,n){return t._processTerm(i,n)})}},{key:"highlight",value:function(t,e,i){if(t.hasChildNodes)for(var n=t.childNodes,r=0;r<n.length;r++)this.highlight(n[r],e,i);if(3===t.nodeType){var o=t.nodeValue.toLowerCase().indexOf(e.toLowerCase());if(-1!==o){var a=t.parentNode;if(a&&a.className!==i){var l=t.nodeValue,c=Object(s.createText)(l.substr(0,o)),h=l.substr(o,e.length),u=Object(s.createText)(l.substr(o+e.length)),d=Object(s.createText)(h),p=Object(s.createElm)("span");p.className=i,p.appendChild(d),a.insertBefore(c,t),a.insertBefore(p,t),a.insertBefore(u,t),a.removeChild(t)}}}}},{key:"unhighlight",value:function(t,e){for(var i=this.tf.dom().querySelectorAll(".".concat(e)),n=0;n<i.length;n++){var o=i[n],a=Object(s.getText)(o);if(Object(r.isNull)(t)||-1!==a.toLowerCase().indexOf(t.toLowerCase())){var l=o.parentNode;l.replaceChild(Object(s.createText)(a),o),l.normalize()}}}},{key:"unhighlightAll",value:function(){this.tf.highlightKeywords&&this.unhighlight(null,this.highlightCssClass)}},{key:"destroy",value:function(){var t=this;this.emitter.off(["before-filtering","destroy"],function(){return t.unhighlightAll()}),this.emitter.off(["highlight-keyword"],function(e,i,n){return t._processTerm(i,n)})}},{key:"_processTerm",value:function(t,e){var i=this.tf,n=new RegExp(Object(o.rgxEsc)(i.lkOperator)),r=new RegExp(i.eqOperator),a=new RegExp(i.stOperator),l=new RegExp(i.enOperator),c=new RegExp(i.leOperator),h=new RegExp(i.geOperator),u=new RegExp(i.lwOperator),d=new RegExp(i.grOperator),p=new RegExp(i.dfOperator);e=e.replace(n,"").replace(r,"").replace(a,"").replace(l,""),(c.test(e)||h.test(e)||u.test(e)||d.test(e)||p.test(e))&&(e=Object(s.getText)(t)),""!==e&&this.highlight(t,e,this.highlightCssClass)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"Loader",function(){return g});var l=i(10),c=i(2),h=i(3),u=i(8),d=i(4),p=i(1),f=["before-filtering","before-populating-filter","before-page-change","before-clearing-filters","before-page-length-change","before-reset-page","before-reset-page-length","before-loading-extensions","before-loading-themes"],g=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"loader"))).config.loader||{};return i.targetId=Object(p.defaultsStr)(n.target_id,null),i.cont=null,i.text=Object(p.defaultsStr)(n.text,"Loading..."),i.html=Object(p.defaultsStr)(n.html,null),i.cssClass=Object(p.defaultsStr)(n.css_class,"loader"),i.closeDelay=250,i.onShow=Object(p.defaultsFn)(n.on_show_loader,h.EMPTY_FN),i.onHide=Object(p.defaultsFn)(n.on_hide_loader,h.EMPTY_FN),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;if(!this.initialized){var e=this.tf,i=this.emitter,n=Object(c.createElm)("div");n.className=this.cssClass;var s=this.targetId?Object(c.elm)(this.targetId):e.dom().parentNode;this.targetId?s.appendChild(n):s.insertBefore(n,e.dom()),this.cont=n,this.html?this.cont.innerHTML=this.html:this.cont.appendChild(Object(c.createText)(this.text)),this.show(d.NONE),i.on(f,function(){return t.show("")}),i.on(f,function(){return t.show(d.NONE)}),this.initialized=!0}}},{key:"show",value:function(t){var e=this;if(this.isEnabled()){var i=t===d.NONE?this.closeDelay:1
;u.root.setTimeout(function(){e.cont&&(t!==d.NONE&&e.onShow(e),e.cont.style.display=t,t===d.NONE&&e.onHide(e))},i)}}},{key:"destroy",value:function(){var t=this;if(this.initialized){var e=this.emitter;Object(c.removeElm)(this.cont),this.cont=null,e.off(f,function(){return t.show("")}),e.off(f,function(){return t.show(d.NONE)}),this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"GridLayout",function(){return f});var l=i(10),c=i(2),h=i(5),u=i(9),d=i(4),p=i(1),f=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"gridLayout"))).config.grid_layout||{};return i.width=Object(p.defaultsStr)(n.width,null),i.height=Object(p.defaultsStr)(n.height,null),i.mainContCssClass=Object(p.defaultsStr)(n.cont_css_class,"grd_Cont"),i.contCssClass=Object(p.defaultsStr)(n.tbl_cont_css_class,"grd_tblCont"),i.headContCssClass=Object(p.defaultsStr)(n.tbl_head_css_class,"grd_headTblCont"),i.infDivCssClass=Object(p.defaultsStr)(n.inf_grid_css_class,"grd_inf"),i.headRowIndex=Object(p.defaultsNb)(n.headers_row_index,0),i.headRows=Object(p.defaultsArr)(n.headers_rows,[0]),i.filters=Object(p.defaultsBool)(n.filters,!0),i.noHeaders=Boolean(n.no_headers),i.defaultColWidth=Object(p.defaultsStr)(n.default_col_width,"100px"),i.colElms=[],i.prfxGridFltTd="_td_",i.prfxGridTh="tblHeadTh_",i.sourceTblHtml=e.dom().outerHTML,i.tblHasColTag=Object(c.tag)(e.dom(),"col").length>0,i.tblMainCont=null,i.tblCont=null,i.headTblCont=null,i.headTbl=null,e.fltGrid=i.filters,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this,e=this.tf,i=e.dom();if(!this.initialized){this.setOverrides(),this.setDefaultColWidths(),this.tblMainCont=this.createContainer("div",this.mainContCssClass),this.width&&(this.tblMainCont.style.width=this.width),i.parentNode.insertBefore(this.tblMainCont,i),this.tblCont=this.createContainer("div",this.contCssClass),this.setConfigWidth(this.tblCont),this.height&&(this.tblCont.style.height=this.height),i.parentNode.insertBefore(this.tblCont,i);var n=Object(c.removeElm)(i);if(this.tblCont.appendChild(n),""===i.style.width){var s=this.initialTableWidth();i.style.width=(Object(u.contains)("%",s)?i.clientWidth:s)+"px"}var r=Object(c.removeElm)(this.tblCont);this.tblMainCont.appendChild(r),this.headTblCont=this.createContainer("div",this.headContCssClass),this.headTbl=Object(c.createElm)("table");var o=Object(c.createElm)("tHead"),a=i.rows[this.headRowIndex],l=this.getSortTriggerIds(a),p=this.createFiltersRow();this.setHeadersRow(o),this.headTbl.appendChild(o),0===e.filtersRowIndex?o.insertBefore(p,a):o.appendChild(p),this.headTblCont.appendChild(this.headTbl),this.tblCont.parentNode.insertBefore(this.headTblCont,this.tblCont);var f=Object(c.tag)(i,"thead");f.length>0&&i.removeChild(f[0]),this.headTbl.style.tableLayout="fixed",i.style.tableLayout="fixed",e.setColWidths(this.headTbl),this.headTbl.style.width=i.style.width,Object(h.addEvt)(this.tblCont,"scroll",function(e){var i=Object(h.targetEvt)(e).scrollLeft;t.headTblCont.scrollLeft=i});var g=e.extension("sort");g&&(g.asyncSort=!0,g.triggerIds=l),this.setColumnElements(),e.popupFilters&&(p.style.display=d.NONE),this.initialized=!0}}},{key:"setOverrides",value:function(){var t=this.tf;t.refRow=0,t.headersRow=0,t.filtersRowIndex=1}},{key:"setDefaultColWidths",value:function(){var t=this,e=this.tf;e.colWidths.length>0||(e.eachCol(function(i){var n,s=e.dom().rows[e.getHeadersRowIndex()].cells[i];n=""!==s.width?s.width:""!==s.style.width?parseInt(s.style.width,10):t.defaultColWidth,e.colWidths[i]=n}),e.setColWidths())}},{key:"initialTableWidth",value:function(){var t,e=this.tf.dom();return t=""!==e.width?e.width:""!==e.style.width?e.style.width:e.clientWidth,parseInt(t,10)}},{key:"createContainer",value:function(t,e){var i=Object(c.createElm)(t);return i.className=e,i}},{key:"createFiltersRow",value:function(){var t=this,e=this.tf,i=Object(c.createElm)("tr");return this.filters&&e.fltGrid&&(e.externalFltIds=[],e.eachCol(function(n){var s="".concat(e.prfxFlt+n+t.prfxGridFltTd+e.id),r=Object(c.createElm)(e.fltCellTag,["id",s]);i.appendChild(r),e.externalFltIds[n]=s})),i}},{key:"setColumnElements",value:function(){var t=this.tf,e=Object(c.tag)(t.dom(),"col");this.tblHasColTag=e.length>0;for(var i=t.getCellsNb()-1;i>=0;i--){var n=void 0;this.tblHasColTag?n=e[i]:(n=Object(c.createElm)("col"),t.dom().insertBefore(n,t.dom().firstChild)),n.style.width=t.colWidths[i],this.colElms[i]=n}this.tblHasColTag=!0}},{key:"setHeadersRow",value:function(t){if(this.noHeaders)t.appendChild(Object(c.createElm)("tr"));else for(var e=0;e<this.headRows.length;e++){var i=this.tf.dom().rows[this.headRows[e]];t.appendChild(i)}}},{key:"setConfigWidth",value:function(t){this.width&&(-1!==this.width.indexOf("%")?t.style.width="100%":t.style.width=this.width)}},{key:"getSortTriggerIds",value:function(t){var e=this,i=this.tf,n=[];return i.eachCol(function(s){var r=t.cells[s],o=r.getAttribute("id");o&&""!==o||(o="".concat(e.prfxGridTh+s,"_").concat(i.id),r.setAttribute("id",o)),n.push(o)}),n}},{key:"destroy",value:function(){var t=this.tf,e=t.dom();if(this.initialized){var i=Object(c.removeElm)(e);this.tblMainCont.parentNode.insertBefore(i,this.tblMainCont),Object(c.removeElm)(this.tblMainCont),this.tblMainCont=null,this.headTblCont=null,this.headTbl=null,this.tblCont=null,e.outerHTML=this.sourceTblHtml,this.tf.tbl=Object(c.elm)(t.id),this.initialized=!1}}}]),t}()},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"hasStorage",function(){return c}),i.d(e,"Storage",function(){return h});var s=i(59),r=i(8),o=r.root.JSON,a=r.root.localStorage,l=r.root.location,c=function(){return"Storage"in r.root},h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=e,this.tf=e.tf,this.enableLocalStorage=e.enableLocalStorage&&c(),this.enableCookie=e.enableCookie&&!this.enableLocalStorage,this.emitter=e.emitter,this.duration=e.cookieDuration}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"init",value:function(){var t=this;this.emitter.on(["state-changed"],function(e,i){return t.save(i)}),this.emitter.on(["initialized"],function(){return t.sync()})}},{key:"save",value:function(t){this.enableLocalStorage?a[this.getKey()]=o.stringify(t):s["default"].write(this.getKey(),o.stringify(t),this.duration)}},{key:"retrieve",value:function(){var t=null;return(t=this.enableLocalStorage?a[this.getKey()]:s["default"].read(this.getKey()))?o.parse(t):null}},{key:"remove",value:function(){this.enableLocalStorage?a.removeItem(this.getKey()):s["default"].remove(this.getKey())}},{key:"sync",value:function(){var t=this.retrieve();t&&this.state.overrideAndSync(t)}},{key:"getKey",value:function(){return o.stringify({key:"".concat(this.tf.prfxTf,"_").concat(this.tf.id),path:l.pathname})}},{key:"destroy",value:function(){var t=this;this.emitter.off(["state-changed"],function(e,i){return t.save(i)}),this.emitter.off(["initialized"],function(){return t.sync()}),this.remove(),this.state=null,this.emitter=null}}]),t}()},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"hasHashChange",function(){return h}),i.d(e,"Hash",function(){return u});var s=i(5),r=i(8),o=r.root.JSON,a=r.root.location,l=r.root.decodeURIComponent,c=r.root.encodeURIComponent,h=function(){var t=r.root.documentMode;return"onhashchange"in r.root&&(void 0===t||t>7)},u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state=e,this.lastHash=null,this.emitter=e.emitter,this.boundSync=null}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"init",value:function(){var t=this;h()&&(this.lastHash=a.hash,this.boundSync=this.sync.bind(this),this.emitter.on(["state-changed"],function(e,i){return t.update(i)}),this.emitter.on(["initialized"],this.boundSync),Object(s.addEvt)(r.root,"hashchange",this.boundSync))}},{key:"update",value:function(t){var e="#".concat(c(o.stringify(t)));this.lastHash!==e&&(a.hash=e,this.lastHash=e)}},{key:"parse",value:function(t){return-1===t.indexOf("#")?null:(t=t.substr(1),o.parse(l(t)))}},{key:"sync",value:function(){var t=this.parse(a.hash);t&&this.state.overrideAndSync(t)}},{key:"destroy",value:function(){var t=this;this.emitter.off(["state-changed"],function(e,i){return t.update(i)}),this.emitter.off(["initialized"],this.boundSync),Object(s.removeEvt)(r.root,"hashchange",this.boundSync),this.state=null,this.lastHash=null,this.emitter=null}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"State",function(){return f});var l=i(10),c=i(88),h=i(87),u=i(9),d=i(3),p=i(1),f=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"state"))).config.state||{};return i.enableHash=!0===n||Object(d.isArray)(n.types)&&-1!==n.types.indexOf("hash"),i.enableLocalStorage=Object(d.isArray)(n.types)&&-1!==n.types.indexOf("local_storage"),i.enableCookie=Object(d.isArray)(n.types)&&-1!==n.types.indexOf("cookie"),i.persistFilters=Object(p.defaultsBool)(n.filters,!0),i.persistPageNumber=Boolean(n.page_number),i.persistPageLength=Boolean(n.page_length),i.persistSort=Boolean(n.sort),i.persistColsVisibility=Boolean(n.columns_visibility),i.persistFiltersVisibility=Boolean(n.filters_visibility),i.cookieDuration=Object(p.defaultsNb)(parseInt(n.cookie_duration,10),87600),i.enableStorage=i.enableLocalStorage||i.enableCookie,i.storage=null,i.hash=null,i.pageNb=null,i.pageLength=null,i.sort=null,i.hiddenCols=null,i.filtersVisibility=null,i.state={},i.prfxCol="col_",i.pageNbKey="page",i.pageLengthKey="page_length",i.filtersVisKey="filters_visibility",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;this.initialized||(this.emitter.on(["after-filtering"],function(){return t.update()}),this.emitter.on(["after-page-change","after-clearing-filters"],function(e,i){return t.updatePage(i)}),this.emitter.on(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.emitter.on(["column-sorted"],function(e,i,n){return t.updateSort(i,n)}),this.emitter.on(["sort-initialized"],function(){return t._syncSort()}),this.emitter.on(["columns-visibility-initialized"],function(){return t._syncColsVisibility()}),this.emitter.on(["column-shown","column-hidden"],function(e,i,n,s){return t.updateColsVisibility(s)}),this.emitter.on(["filters-visibility-initialized"],function(){return t._syncFiltersVisibility()}),this.emitter.on(["filters-toggled"],function(e,i,n){return t.updateFiltersVisibility(n)}),this.enableHash&&(this.hash=new c.Hash(this),this.hash.init()),this.enableStorage&&(this.storage=new h.Storage(this),this.storage.init()),this.initialized=!0)}},{key:"update",value:function(){var t=this;if(this.isEnabled()){var e=this.state,i=this.tf;if(this.persistFilters&&i.getFiltersValue().forEach(function(i,n){var s="".concat(t.prfxCol).concat(n);Object(d.isString)(i)&&Object(u.isEmpty)(i)?e.hasOwnProperty(s)&&(e[s].flt=void 0):(e[s]=e[s]||{},e[s].flt=i)}),this.persistPageNumber&&(Object(d.isNull)(this.pageNb)?e[this.pageNbKey]=void 0:e[this.pageNbKey]=this.pageNb),this.persistPageLength&&(Object(d.isNull)(this.pageLength)?e[this.pageLengthKey]=void 0:e[this.pageLengthKey]=this.pageLength),this.persistSort&&!Object(d.isNull)(this.sort)){Object.keys(e).forEach(function(i){-1!==i.indexOf(t.prfxCol)&&e[i]&&(e[i].sort=void 0)});var n="".concat(this.prfxCol).concat(this.sort.column);e[n]=e[n]||{},e[n].sort={descending:this.sort.descending}}this.persistColsVisibility&&(Object(d.isNull)(this.hiddenCols)||(Object.keys(e).forEach(function(i){-1!==i.indexOf(t.prfxCol)&&e[i]&&(e[i].hidden=void 0)}),this.hiddenCols.forEach(function(i){var n="".concat(t.prfxCol).concat(i);e[n]=e[n]||{},e[n].hidden=!0}))),this.persistFiltersVisibility&&(Object(d.isNull)(this.filtersVisibility)?e[this.filtersVisKey]=void 0:e[this.filtersVisKey]=this.filtersVisibility),this.emitter.emit("state-changed",i,e)}}},{key:"updatePage",value:function(t){this.pageNb=t,this.update()}},{key:"updatePageLength",value:function(t){this.pageLength=t,this.update()}},{key:"updateSort",value:function(t,e){this.sort={column:t,descending:e},this.update()}},{key:"updateColsVisibility",value:function(t){this.hiddenCols=t,this.update()}},{key:"updateFiltersVisibility",value:function(t){this.filtersVisibility=t,this.update()}},{key:"override",value:function(t){this.state=t,this.emitter.emit("state-changed",this.tf,t)}},{key:"sync",value:function(){var t=this.state,e=this.tf;if(this._syncFilters(),this.persistPageNumber){var i=t[this.pageNbKey];this.emitter.emit("change-page",e,i)}if(this.persistPageLength){var n=t[this.pageLengthKey];this.emitter.emit("change-page-results",e,n)}this._syncSort(),this._syncColsVisibility(),this._syncFiltersVisibility()}},{key:"overrideAndSync",value:function(t){this.disable(),this.override(t),this.sync(),this.enable()}},{key:"_syncFilters",value:function(){var t=this;if(this.persistFilters){var e=this.state,i=this.tf;i.eachCol(function(t){return i.setFilterValue(t,"")}),Object.keys(e).forEach(function(n){if(-1!==n.indexOf(t.prfxCol)){var s=parseInt(n.replace(t.prfxCol,""),10),r=e[n].flt;i.setFilterValue(s,r)}}),i.filter()}}},{key:"_syncSort",value:function(){var t=this;if(this.persistSort){var e=this.state,i=this.tf;Object.keys(e).forEach(function(n){if(-1!==n.indexOf(t.prfxCol)){var s=parseInt(n.replace(t.prfxCol,""),10);if(!Object(d.isUndef)(e[n].sort)){var r=e[n].sort;t.emitter.emit("sort",i,s,r.descending)}}})}}},{key:"_syncColsVisibility",value:function(){var t=this;if(this.persistColsVisibility){var e=this.state,i=this.tf,n=[];Object.keys(e).forEach(function(i){if(-1!==i.indexOf(t.prfxCol)){var s=parseInt(i.replace(t.prfxCol,""),10);Object(d.isUndef)(e[i].hidden)||n.push(s)}}),n.forEach(function(e){t.emitter.emit("hide-column",i,e)})}}},{key:"_syncFiltersVisibility",value:function(){if(this.persistFiltersVisibility){var t=this.state,e=this.tf,i=t[this.filtersVisKey];this.filtersVisibility=i,this.emitter.emit("show-filters",e,i)}}},{key:"destroy",value:function(){var t=this;this.initialized&&(this.state={},this.emitter.off(["after-filtering"],function(){return t.update()}),this.emitter.off(["after-page-change","after-clearing-filters"],function(e,i){return t.updatePage(i)}),this.emitter.off(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.emitter.off(["column-sorted"],function(e,i,n){return t.updateSort(i,n)}),this.emitter.off(["sort-initialized"],function(){return t._syncSort()}),this.emitter.off(["columns-visibility-initialized"],function(){return t._syncColsVisibility()}),this.emitter.off(["column-shown","column-hidden"],function(e,i,n,s){return t.updateColsVisibility(s)}),this.emitter.off(["filters-visibility-initialized"],function(){return t._syncFiltersVisibility()}),this.emitter.off(["filters-toggled"],function(e,i,n){return t.updateFiltersVisibility(n)}),this.enableHash&&(this.hash.destroy(),this.hash=null),this.enableStorage&&(this.storage.destroy(),this.storage=null),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"Help",function(){return b});var l=i(10),c=i(2),h=i(5),u=i(4),d=i(8),p=i(3),f=i(1),g=i(19),m="https://github.com/koalyptus/TableFilter/wiki/4.-Filter-operators",v="https://www.tablefilter.com/",b=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"help"))).config.help_instructions||{};return i.tgtId=Object(f.defaultsStr)(n.target_id,null),i.contTgtId=Object(f.defaultsStr)(n.container_target_id,null),i.instrText=Object(p.isEmpty)(n.text)?'Use the filters above each column to filter and limit table data. Advanced searches can be performed by using the following operators: <br /><b>&lt;</b>, <b>&lt;=</b>, <b>&gt;</b>, <b>&gt;=</b>, <b>=</b>, <b>*</b>, <b>!</b>, <b>{</b>, <b>}</b>, <b>||</b>,<b>&amp;&amp;</b>, <b>[empty]</b>, <b>[nonempty]</b>, <b>rgx:</b><br/><a href="'+m+'" target="_blank">Learn more</a><hr/>':n.text,i.instrHtml=Object(f.defaultsStr)(n.html,null),i.btnText=Object(f.defaultsStr)(n.btn_text,"?"),i.btnHtml=Object(f.defaultsStr)(n.btn_html,null),i.btnCssClass=Object(f.defaultsStr)(n.btn_css_class,"helpBtn"),i.contCssClass=Object(f.defaultsStr)(n.container_css_class,"helpCont"),i.btn=null,i.cont=null,i.boundMouseup=null,i.defaultHtml='<div class="helpFooter"><h4>TableFilter v'+e.version+'</h4><a href="'+v+'" target="_blank">'+v+"</a><br/><span>&copy;2015-"+e.year+' Max Guglielmi</span><div align="center" style="margin-top:8px;"><a href="javascript:void(0);" class="close">Close</a></div></div>',i.toolbarPosition=Object(f.defaultsStr)(n.toolbar_position,g.RIGHT),i.emitter.on(["init-help"],function(){return i.init()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"onMouseup",value:function(t){for(var e=Object(h.targetEvt)(t);e&&e!==this.cont&&e!==this.btn;)e=e.parentNode;e!==this.cont&&e!==this.btn&&this.toggle()}},{key:"init",value:function(){var t=this;if(!this.initialized){this.emitter.emit("initializing-feature",this,!Object(p.isNull)(this.tgtId));var e=this.tf,i=Object(c.createElm)("span"),n=Object(c.createElm)("div");this.boundMouseup=this.onMouseup.bind(this),(this.tgtId?Object(c.elm)(this.tgtId):e.feature("toolbar").container(this.toolbarPosition)).appendChild(i);var s=this.contTgtId?Object(c.elm)(this.contTgtId):i;if(this.btnHtml){i.innerHTML=this.btnHtml;var r=i.firstChild;Object(h.addEvt)(r,"click",function(){return t.toggle()}),s.appendChild(n)}else{s.appendChild(n);var o=Object(c.createElm)("a",["href","javascript:void(0);"]);o.className=this.btnCssClass,o.appendChild(Object(c.createText)(this.btnText)),i.appendChild(o),Object(h.addEvt)(o,"click",function(){return t.toggle()})}this.instrHtml?(this.contTgtId&&s.appendChild(n),n.innerHTML=this.instrHtml,this.contTgtId||(n.className=this.contCssClass)):(n.innerHTML=this.instrText,n.className=this.contCssClass),n.innerHTML+=this.defaultHtml,Object(h.addEvt)(n,"click",function(){return t.toggle()}),this.cont=n,this.btn=i,this.initialized=!0,this.emitter.emit("feature-initialized",this)}}},{key:"toggle",value:function(){if(this.isEnabled()){Object(h.removeEvt)(d.root,"mouseup",this.boundMouseup);var t=this.cont.style.display;""===t||t===u.NONE?(this.cont.style.display="inline",Object(h.addEvt)(d.root,"mouseup",this.boundMouseup)):this.cont.style.display=u.NONE}}},{key:"destroy",value:function(){this.initialized&&(Object(c.removeElm)(this.btn),this.btn=null,Object(c.removeElm)(this.cont),this.cont=null,this.boundMouseup=null,this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"DateType",function(){return p});var l=i(46),c=(i(147),i(10)),h=i(3),u=i(4),d=i(8),p=function(){function t(e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(i=r(this,o(t).call(this,e,"dateType"))).locale=e.locale,i.datetime=l.Date,i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,c.Feature),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;this.initialized||(this.datetime.setLocale(this.locale),this.addConfigFormats(this.tf.colTypes),this.emitter.on(["add-date-type-formats"],function(e,i){return t.addConfigFormats(i)}),this.emitter.emit("date-type-initialized",this.tf,this),this.initialized=!0)}},{key:"parse",value:function(t,e){return this.datetime.create(t,e)}},{key:"isValid",value:function(t,e){return this.datetime.isValid(this.parse(t,e))}},{key:"getOptions",value:function(t,e){var i=(e=e||this.tf.colTypes)[t];return Object(h.isObj)(i)?i:{}}},{key:"getLocale",value:function(t){return this.getOptions(t).locale||this.locale}},{key:"addConfigFormats",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach(function(i,n){var s=t.getOptions(n,e);if(s.type===u.DATE&&s.hasOwnProperty("format")){var r=t.datetime.getLocale(s.locale||t.locale),o=Object(h.isArray)(s.format)?s.format:[s.format];try{o.forEach(function(t){r.addFormat(t)})}catch(t){d.root.console.error(t)}}})}},{key:"destroy",value:function(){var t=this;this.initialized&&(this.emitter.off(["add-date-type-formats"],function(e,i){return t.addConfigFormats(i)}),this.initialized=!1)}}]),t}()},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.r(e),i.d(e,"Dropdown",function(){return g});var l=i(58),c=i(2),h=i(20),u=i(9),d=i(5),p=i(4),f=i(1),g=function(){function t(e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(i=r(this,o(t).call(this,e,"dropdown"))).config;return i.enableSlcResetFilter=Object(f.defaultsBool)(n.enable_slc_reset_filter,!0),i.nonEmptyText=Object(f.defaultsStr)(n.non_empty_text,"(Non empty)"),i.multipleSlcTooltip=Object(f.defaultsStr)(n.multiple_slc_tooltip,"Use Ctrl/Cmd key for multiple selections"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,l.BaseDropdown),function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"onSlcFocus",value:function(t){var e=Object(d.targetEvt)(t),i=this.tf;if(i.loadFltOnDemand&&"0"===e.getAttribute("filled")){var n=e.getAttribute("ct");this.build(n)}this.emitter.emit("filter-focus",i,e)}},{key:"onSlcChange",value:function(){this.tf.onSlcChange&&this.tf.filter()}},{key:"refreshAll",value:function(){var t=this.tf.getFiltersByType(p.SELECT,!0),e=this.tf.getFiltersByType(p.MULTIPLE,!0),i=t.concat(e);this.refreshFilters(i)}},{key:"init",value:function(t,e,i){var n=this,s=this.tf,r=s.getFilterType(t),o=e?s.externalFltIds[t]:null,a=Object(c.createElm)(p.SELECT,["id",s.buildFilterId(t)],["ct",t],["filled","0"]);if(r===p.MULTIPLE&&(a.multiple=p.MULTIPLE,a.title=this.multipleSlcTooltip),a.className=r.toLowerCase()===p.SELECT?s.fltCssClass:s.fltMultiCssClass,o?Object(c.elm)(o).appendChild(a):i.appendChild(a),s.fltIds.push(a.id),s.loadFltOnDemand){var l=Object(c.createOpt)(s.getClearFilterText(t),"");a.appendChild(l)}else this.build(t);Object(d.addEvt)(a,"change",function(){return n.onSlcChange()}),Object(d.addEvt)(a,"focus",function(t){return n.onSlcFocus(t)}),this.emitter.on(["build-select-filter"],function(t,e,i,s){return n.build(e,i,s)}),this.emitter.on(["select-options"],function(t,e,i){return n.selectOptions(e,i)}),this.emitter.on(["rows-changed"],function(){return n.refreshAll()}),this.emitter.on(["after-filtering"],function(){return n.linkFilters()}),this.initialized=!0}},{key:"build",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.tf;t=Number(t),this.emitter.emit("before-populating-filter",n,t),this.opts=[],this.optsTxt=[];var s,r=n.getFilterElement(t);if(this.isCustom=n.isCustomOptions(t),this.isCustom){var o=n.getCustomOptions(t);this.opts=o[0],this.optsTxt=o[1]}var a=n.getActiveFilterId();i&&a&&(s=n.getColumnIndexFromFilterId(a));var l=null,c=null;i&&n.disableExcludedOptions&&(l=[],c=[]),n.eachRow()(function(s){var r=n.getCellValue(s.cells[t]),o=Object(u.matchCase)(r,n.caseSensitive);if(Object(h.has)(e.opts,o,n.caseSensitive)||e.opts.push(r),i&&n.disableExcludedOptions){var a=c[t];a||(a=n.getVisibleColumnValues(t)),Object(h.has)(a,o,n.caseSensitive)||Object(h.has)(l,o,n.caseSensitive)||l.push(r)}},function(t,r){return-1!==n.excludeRows.indexOf(r)||!(t.cells.length===n.nbCells&&!e.isCustom)||!(!i||e.isValidLinkedValue(r,s))||void 0}),this.opts=this.sortOptions(t,this.opts),l&&(l=this.sortOptions(t,l)),this.addOptions(t,r,i,l),this.emitter.emit("after-populating-filter",n,t,r)}},{key:"addOptions",value:function(t,e,i,n){var s=this.tf,r=e.value;e.innerHTML="",e=this.addFirstOption(e);for(var o=0;o<this.opts.length;o++)if(""!==this.opts[o]){var a=this.opts[o],l=this.isCustom?this.optsTxt[o]:a,d=!1;i&&s.disableExcludedOptions&&Object(h.has)(n,Object(u.matchCase)(a,s.caseSensitive),s.caseSensitive)&&(d=!0);var f=void 0;f=s.loadFltOnDemand&&r===this.opts[o]&&s.getFilterType(t)===p.SELECT?Object(c.createOpt)(l,a,!0):Object(c.createOpt)(l,a,!1),d&&(f.disabled=!0),e.appendChild(f)}e.setAttribute("filled","1")}},{key:"addFirstOption",value:function(t){var e=this.tf,i=e.getColumnIndexFromFilterId(t.id),n=Object(c.createOpt)(this.enableSlcResetFilter?e.getClearFilterText(i):"","");if(this.enableSlcResetFilter||(n.style.display=p.NONE),t.appendChild(n),e.enableEmptyOption){var s=Object(c.createOpt)(e.emptyText,e.emOperator);t.appendChild(s)}if(e.enableNonEmptyOption){var r=Object(c.createOpt)(e.nonEmptyText,e.nmOperator);t.appendChild(r)}return t}},{key:"selectOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.tf;if(0!==e.length){var n=i.getFilterElement(t);[].forEach.call(n.options,function(t){""!==e[0]&&""!==t.value||(t.selected=!1),""!==t.value&&Object(h.has)(e,t.value,!0)&&(t.selected=!0)})}}},{key:"getValues",value:function(t){var e=this.tf.getFilterElement(t),i=[];return e.selectedOptions?[].forEach.call(e.selectedOptions,function(t){return i.push(t.value)}):[].forEach.call(e.options,function(t){t.selected&&i.push(t.value)}),i}},{key:"destroy",value:function(){var t=this;this.emitter.off(["build-select-filter"],function(e,i,n){return t.build(e,i,n)}),this.emitter.off(["select-options"],function(e,i,n){return t.selectOptions(i,n)}),this.emitter.off(["rows-changed"],function(){return t.refreshAll()}),this.emitter.off(["after-filtering"],function(){return t.linkFilters()}),this.initialized=!1}}]),t}()},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"Emitter",function(){return s});var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}return function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(t,[{key:"on",value:function(t,e){var i=this;t.forEach(function(t){i.events[t]=i.events[t]||[],i.events[t].push(e)})}},{key:"off",value:function(t,e){var i=this;t.forEach(function(t){t in i.events&&i.events[t].splice(i.events[t].indexOf(e),1)})}},{key:"emit",value:function(t){if(t in this.events)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,[].slice.call(arguments,1))}}]),t}()},function(t,e,i){"use strict";var n=i(176),s=i(12),r=i(65),o=s.isNumber;t.exports=function(t){var e,i,s;return o(t)?[t,"Milliseconds"]:(i=+(e=t.match(n))[1]||1,(s=r(e[2].toLowerCase())).match(/hour|minute|second/i)?s+="s":"Year"===s?s="FullYear":"Week"===s?(s="Date",i*=7):"Day"===s&&(s="Date"),[i,s])}},function(t){"use strict";t.exports={Hours:36e5,Minutes:6e4,Seconds:1e3,Milliseconds:1}},function(t,e,i){"use strict";var n=i(95),s=i(40),r=i(23);t.exports=function(t,e,i){var o,a=n[i];return a?o=new Date(t.getTime()+e*a):(o=new Date(t),s(o,i,r(t,i)+e)),o}},function(t,e,i){"use strict";var n=i(12),s=i(26),r=n.isDate,o=s.sugarDate;t.exports=function(t){return r(t)?t:null==t?new Date:o.create?o.create(t):new Date(t)}},function(t,e,i){"use strict";var n=i(12).isDate;t.exports=function(t){return null==t?t:n(t)?t.getTime():t.valueOf()}},function(t,e,i){"use strict";var n=i(12),s=i(98),r=n.isDate;t.exports=function(t){
return r(t)?new Date(t.getTime()):s(t)}},function(t,e,i){"use strict";var n=i(15),s=i(106),r=i(12),o=i(102),a=i(205),l=r.isFunction,c=n.localeManager;t.exports=function(t,e,i,n){var r,h,u,d,p;return o(t),l(i)?p=i:(d=i,p=n),r=a(t,e),p&&(h=p.apply(t,r.concat(c.get(d))))?s(t,h,d):(0===r[1]&&(r[1]=1,r[0]=1),u=e?"duration":r[2]>0?"future":"past",c.get(d).getRelativeFormat(r,u))}},function(t,e,i){"use strict";var n=i(15),s=i(252),r=i(31),o=i(34),a=i(43),l=i(251),c=i(24),h=i(48),u=i(12),d=i(110),p=u.isString,f=n.English;t.exports=function(t,e,i){var n;if(h(t)){if(p(e))switch(e=s(e).toLowerCase(),!0){case"future"===e:return t.getTime()>a().getTime();case"past"===e:return t.getTime()<a().getTime();case"today"===e:return l(t);case"tomorrow"===e:return l(t,1);case"yesterday"===e:return l(t,-1);case"weekday"===e:return c(t)>0&&c(t)<6;case"weekend"===e:return 0===c(t)||6===c(t);case o(n=f.weekdayMap[e]):return c(t)===n;case o(n=f.monthMap[e]):return r(t)===n}return d(t,e,i)}}},function(t,e,i){"use strict";var n=i(48);t.exports=function(t){if(!n(t))throw new TypeError("Date is not valid")}},function(t,e,i){"use strict";var n=i(29),s=i(28),r=i(54),o=i(63),a=i(14).abs;t.exports=function(t,e){var i,l=n(t)?0:r(t);return i=!0===e?":":"",!l&&e?"Z":o(s(-l/60),2,!0)+i+o(a(l%60),2)}},function(t,e,i){"use strict";var n=i(23);t.exports=function(t){return n(t,"Hours")}},function(t){"use strict";t.exports={ISO8601:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{SSS}{Z}",RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {ZZ}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {ZZ}"}},function(t,e,i){"use strict";var n=i(105),s=i(273),r=i(102),o=s.dateFormatMatcher;t.exports=function(t,e,i){return r(t),e=n[e]||e||"{long}",o(e,t,i)}},function(t,e,i){"use strict";var n=i(12),s=i(57),r=i(70),o=i(292),a=i(291),l=n.isNumber,c=n.isString;t.exports=function(t,e){var i=t[0],n=t[1];return e&&c(i)?i=o(i):l(i)&&l(n)?(i=a(t),n=null):r(i)&&(i=s(i)),[i,n]}},function(t,e,i){"use strict";var n=i(53),s=i(107);t.exports=function(t,e,i){return e=s(e,!0),n(t,e[0],e[1],i)}},function(t,e,i){"use strict";var n=i(68);t.exports=function(t,e,i,s){return n(t,e,i,s).date}},function(t,e,i){"use strict";var n=i(117),s=i(33),r=i(11),o=i(29),a=i(54),l=i(37),c=i(34),h=i(42),u=i(48),d=i(51),p=i(68),f=i(50),g=r.MONTH_INDEX;t.exports=function(t,e,i,r,m){var v,b,y,x,w,_,k,C=0,T=0;return o(t)&&((m=m||{}).fromUTC=!0,m.setUTC=!0),_=p(null,e,m,!0),i>0&&(C=T=i,y=!0),!!u(_.date)&&(_.set&&_.set.specificity&&((c(_.set.edge)||c(_.set.shift))&&(b=!0,f(_.date,_.set.specificity,r)),w=b||_.set.specificity===g?d(l(_.date),_.set.specificity,r).getTime():function(){var t=s[_.set.specificity];return h(l(_.date),t.name,1).getTime()-1}(),!y&&c(_.set.sign)&&_.set.specificity&&(C=50,T=-50)),k=t.getTime(),x=_.date.getTime(),w=w||x,(v=function(){return _.set&&_.set.specificity?0:(a(_.date)-a(t))*n}())&&(x-=v,w-=v),k>=x-C&&k<=w+T)}},function(t,e,i){"use strict";var n=i(27),s=i(24),r=i(14).ceil;t.exports=function(t,e){var i=e-1;return n(t,7*r((s(t)-i)/7)+i),t}},function(t,e,i){"use strict";var n=i(401);t.exports=function(t,e){return n(t,e)||n(t,e+"s")||"day"===e&&n(t,"date")}},function(t,e,i){"use strict";var n=i(11),s=i(39),r=i(41),o=i(66),a=n.MONTH_INDEX;t.exports=function(t,e,i){r(t,a),s(t,i),o(t,e)}},function(t,e,i){"use strict";var n=i(71),s=i(38),r=i(39),o=i(404),a=i(32),l=i(31),c=i(403),h=i(37),u=i(24),d=i(27),p=i(12),f=i(113),g=p.isNumber,m=n.ISO_FIRST_DAY_OF_WEEK,v=n.ISO_FIRST_DAY_OF_WEEK_YEAR;t.exports=function(t,e){if(g(e)){var i=h(t),n=u(t);f(i,m,v),r(i,s(i)+7*(e-1)),o(t,a(i)),c(t,l(i)),r(t,s(i)),d(t,n||7)}return t.getTime()}},function(t,e,i){"use strict";var n=i(33),s=i(44);t.exports=function(t,e){for(;t>=0&&!1!==e(n[t],t);)t=s(t)}},function(t,e,i){"use strict";var n=i(11),s=i(41),r=n.HOURS_INDEX;t.exports=function(t){return s(t,r)}},function(t){"use strict";t.exports=6e4},function(t,e,i){"use strict";var n=i(14),s=i(69),r=n.abs;t.exports=function(t,e){var i=0,n=0;return s(function(t,s){if((n=r(e(t)))>=1)return i=s,!1}),[n,i,t]}},function(t,e,i){"use strict";var n=i(14),s=n.abs,r=n.pow,o=n.round;t.exports=function(t,e,i){var n=r(10,s(e||0));return i=i||o,e<0&&(n=1/n),i(t*n)/n}},function(t){"use strict";t.exports=String.fromCharCode},function(t,e,i){"use strict";var n=i(32),s=i(31),r=i(23);t.exports=function(t){return 32-r(new Date(n(t),s(t),32),"Date")}},function(t){"use strict";t.exports=function(t,e){return t.length>1&&(t="(?:"+t+")"),e&&(t+="?"),t}},function(t,e,i){"use strict";var n=i(16).classToString;t.exports=function(t,e,i){return i||(i=n(t)),i==="[object "+e+"]"}},function(t){"use strict";t.exports=function(t,e){for(var i=[],n=0,s=t.length;n<s;n++)n in t&&i.push(e(t[n],n));return i}},function(t){"use strict";t.exports={year:{base:"yyyy",requiresSuffix:!0},month:{base:"MM",requiresSuffix:!0},date:{base:"dd",requiresSuffix:!0},hour:{base:"hh",requiresSuffixOr:":"},minute:{base:"mm"},second:{base:"ss"},num:{src:"\\d+",requiresNumerals:!0}}},function(t){"use strict";t.exports={yyyy:{param:"year",src:"\\d{4}"},MM:{param:"month",src:"[01]?\\d"},dd:{param:"date",src:"[0123]?\\d"},hh:{param:"hour",src:"[0-2]?\\d"},mm:{param:"minute",src:"[0-5]\\d"},ss:{param:"second",src:"[0-5]\\d(?:[,.]\\d+)?"},yy:{param:"year",src:"\\d{2}"},y:{param:"year",src:"\\d"},yearSign:{src:"[+-]",sign:!0},tzHour:{src:"[0-1]\\d"},tzMinute:{src:"[0-5]\\d"},tzSign:{src:"[+\u2212-]",sign:!0},ihh:{param:"hour",src:"[0-2]?\\d(?:[,.]\\d+)?"},imm:{param:"minute",src:"[0-5]\\d(?:[,.]\\d+)?"},GMT:{param:"utc",src:"GMT",val:1},Z:{param:"utc",src:"Z",val:1},timestamp:{src:"\\d+"}}},function(t,e,i){"use strict";var n=i(73)({mdy:!0,firstDayOfWeek:0,firstDayOfWeekYear:1,"short":"{MM}/{dd}/{yyyy}",medium:"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {time}",full:"{Weekday}, {Month} {d}, {yyyy} {time}",stamp:"{Dow} {Mon} {d} {yyyy} {time}",time:"{h}:{mm} {TT}"});t.exports=n},function(t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"TableFilter",function(){return v});var r=i(5),o=i(2),a=i(9),l=i(3),c=i(22),h=i(1),u=i(8),d=i(93),p=i(92),f=i(75),g=i(4),m=u.root.document,v=function(){function t(){var e,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.version="0.6.62",this.year=(new Date).getFullYear(),this.tbl=null,this.refRow=null,this.headersRow=null,this.cfg={},this.nbFilterableRows=0,this.nbCells=null,this.hasConfig=!1,this.initialized=!1;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];if(r.forEach(function(t){"object"===n(t)&&"TABLE"===t.nodeName?(i.tbl=t,i.id=t.id||"tf_".concat((new Date).getTime(),"_"),i.tbl.id=i.id):Object(l.isString)(t)?(i.id=t,i.tbl=Object(o.elm)(t)):Object(l.isNumber)(t)?e=t:Object(l.isObj)(t)&&(i.cfg=t,i.hasConfig=!0)}),!this.tbl||"TABLE"!==this.tbl.nodeName)throw new Error("Could not instantiate TableFilter: HTML table\n                DOM element not found.");if(0===this.getRowsNb(!0))throw new Error("Could not instantiate TableFilter: HTML table\n                requires at least 1 row.");var c=this.cfg;this.emitter=new d.Emitter,this.refRow=Object(l.isUndef)(e)?2:e+1,this.filterTypes=[].map.call((this.dom().rows[this.refRow]||this.dom().rows[0]).cells,function(t,e){var n=i.cfg["col_".concat(e)];return n?n.toLowerCase():g.INPUT}),this.basePath=Object(h.defaultsStr)(c.base_path,"tablefilter/"),this.fltGrid=Object(h.defaultsBool)(c.grid,!0),this.gridLayout=Object(l.isObj)(c.grid_layout)||Boolean(c.grid_layout),this.filtersRowIndex=Object(h.defaultsNb)(c.filters_row_index,0),this.headersRow=Object(h.defaultsNb)(c.headers_row_index,0===this.filtersRowIndex?1:0),this.fltCellTag=Object(h.defaultsStr)(c.filters_cell_tag,g.CELL_TAG),this.fltIds=[],this.validRowsIndex=[],this.stylePath=this.getStylePath(),this.stylesheet=this.getStylesheetPath(),this.stylesheetId=this.id+"_style",this.fltsRowCssClass=Object(h.defaultsStr)(c.flts_row_css_class,"fltrow"),this.enableIcons=Object(h.defaultsBool)(c.enable_icons,!0),this.alternateRows=Boolean(c.alternate_rows),this.colWidths=Object(h.defaultsArr)(c.col_widths,[]),this.defaultColWidth=Object(h.defaultsNb)(c.default_col_width,100),this.fltCssClass=Object(h.defaultsStr)(c.flt_css_class,"flt"),this.fltMultiCssClass=Object(h.defaultsStr)(c.flt_multi_css_class,"flt_multi"),this.fltSmallCssClass=Object(h.defaultsStr)(c.flt_small_css_class,"flt_s"),this.singleFltCssClass=Object(h.defaultsStr)((c.single_filter||{}).css_class,"single_flt"),this.enterKey=Object(h.defaultsBool)(c.enter_key,!0),this.onBeforeFilter=Object(h.defaultsFn)(c.on_before_filter,l.EMPTY_FN),this.onAfterFilter=Object(h.defaultsFn)(c.on_after_filter,l.EMPTY_FN),this.caseSensitive=Boolean(c.case_sensitive),this.hasExactMatchByCol=Object(l.isArray)(c.columns_exact_match),this.exactMatchByCol=this.hasExactMatchByCol?c.columns_exact_match:[],this.exactMatch=Boolean(c.exact_match),this.ignoreDiacritics=c.ignore_diacritics,this.linkedFilters=Boolean(c.linked_filters),this.disableExcludedOptions=Boolean(c.disable_excluded_options),this.activeFilterId=null,this.hasExcludedRows=Boolean(Object(l.isArray)(c.exclude_rows)&&c.exclude_rows.length>0),this.excludeRows=Object(h.defaultsArr)(c.exclude_rows,[]),this.externalFltIds=Object(h.defaultsArr)(c.external_flt_ids,[]),this.onFiltersLoaded=Object(h.defaultsFn)(c.on_filters_loaded,l.EMPTY_FN),this.singleFlt=Object(l.isObj)(c.single_filter)||Boolean(c.single_filter),this.singleFltExcludeCols=Object(l.isObj)(c.single_filter)&&Object(l.isArray)(c.single_filter.exclude_cols)?c.single_filter.exclude_cols:[],this.onRowValidated=Object(h.defaultsFn)(c.on_row_validated,l.EMPTY_FN),this.cellParser=Object(l.isObj)(c.cell_parser)&&Object(l.isFn)(c.cell_parser.parse)&&Object(l.isArray)(c.cell_parser.cols)?c.cell_parser:{cols:[],parse:l.EMPTY_FN},this.watermark=c.watermark||"",this.isWatermarkArray=Object(l.isArray)(this.watermark),this.help=Object(l.isUndef)(c.help_instructions)?void 0:Object(l.isObj)(c.help_instructions)||Boolean(c.help_instructions),this.popupFilters=Object(l.isObj)(c.popup_filters)||Boolean(c.popup_filters),this.markActiveColumns=Object(l.isObj)(c.mark_active_columns)||Boolean(c.mark_active_columns),this.clearFilterText=Object(h.defaultsStr)(c.clear_filter_text,"Clear"),this.enableEmptyOption=Boolean(c.enable_empty_option),this.emptyText=Object(h.defaultsStr)(c.empty_text,"(Empty)"),this.enableNonEmptyOption=Boolean(c.enable_non_empty_option),this.nonEmptyText=Object(h.defaultsStr)(c.non_empty_text,"(Non empty)"),this.onSlcChange=Object(h.defaultsBool)(c.on_change,!0),this.sortSlc=!!Object(l.isUndef)(c.sort_select)||(Object(l.isArray)(c.sort_select)?c.sort_select:Boolean(c.sort_select)),this.isSortNumAsc=Boolean(c.sort_num_asc),this.sortNumAsc=this.isSortNumAsc?c.sort_num_asc:[],this.isSortNumDesc=Boolean(c.sort_num_desc),this.sortNumDesc=this.isSortNumDesc?c.sort_num_desc:[],this.loadFltOnDemand=Boolean(c.load_filters_on_demand),this.hasCustomOptions=Object(l.isObj)(c.custom_options),this.customOptions=c.custom_options,this.rgxOperator=Object(h.defaultsStr)(c.regexp_operator,"rgx:"),this.emOperator=Object(h.defaultsStr)(c.empty_operator,"[empty]"),this.nmOperator=Object(h.defaultsStr)(c.nonempty_operator,"[nonempty]"),this.orOperator=Object(h.defaultsStr)(c.or_operator,"||"),this.anOperator=Object(h.defaultsStr)(c.and_operator,"&&"),this.grOperator=Object(h.defaultsStr)(c.greater_operator,">"),this.lwOperator=Object(h.defaultsStr)(c.lower_operator,"<"),this.leOperator=Object(h.defaultsStr)(c.lower_equal_operator,"<="),this.geOperator=Object(h.defaultsStr)(c.greater_equal_operator,">="),this.dfOperator=Object(h.defaultsStr)(c.different_operator,"!"),this.lkOperator=Object(h.defaultsStr)(c.like_operator,"*"),this.eqOperator=Object(h.defaultsStr)(c.equal_operator,"="),this.stOperator=Object(h.defaultsStr)(c.start_with_operator,"{"),this.enOperator=Object(h.defaultsStr)(c.end_with_operator,"}"),this.separator=Object(h.defaultsStr)(c.separator,","),this.rowsCounter=Object(l.isObj)(c.rows_counter)||Boolean(c.rows_counter),this.statusBar=Object(l.isObj)(c.status_bar)||Boolean(c.status_bar),this.loader=Object(l.isObj)(c.loader)||Boolean(c.loader),this.displayBtn=Boolean(c.btn),this.btnText=Object(h.defaultsStr)(c.btn_text,this.enableIcons?"":"Go"),this.btnCssClass=Object(h.defaultsStr)(c.btn_css_class,this.enableIcons?"btnflt_icon":"btnflt"),this.btnReset=Object(l.isObj)(c.btn_reset)||Boolean(c.btn_reset),this.onBeforeReset=Object(h.defaultsFn)(c.on_before_reset,l.EMPTY_FN),this.onAfterReset=Object(h.defaultsFn)(c.on_after_reset,l.EMPTY_FN),this.paging=Object(l.isObj)(c.paging)||Boolean(c.paging),this.nbHiddenRows=0,this.autoFilter=Object(l.isObj)(c.auto_filter)||Boolean(c.auto_filter),this.autoFilterDelay=Object(l.isObj)(c.auto_filter)&&Object(l.isNumber)(c.auto_filter.delay)?c.auto_filter.delay:g.AUTO_FILTER_DELAY,this.isUserTyping=null,this.autoFilterTimer=null,this.highlightKeywords=Boolean(c.highlight_keywords),this.noResults=Object(l.isObj)(c.no_results_message)||Boolean(c.no_results_message),this.state=Object(l.isObj)(c.state)||Boolean(c.state),this.dateType=!0,this.locale=Object(h.defaultsStr)(c.locale,"en"),this.thousandsSeparator=Object(h.defaultsStr)(c.thousands_separator,","),this.decimalSeparator=Object(h.defaultsStr)(c.decimal_separator,"."),this.colTypes=Object(l.isArray)(c.col_types)?c.col_types:[],this.prfxTf="TF",this.prfxFlt="flt",this.prfxValButton="btn",this.prfxResponsive="resp",this.stickyCssClass="sticky",this.extensions=Object(h.defaultsArr)(c.extensions,[]),this.enableDefaultTheme=Boolean(c.enable_default_theme),this.hasThemes=this.enableDefaultTheme||Object(l.isArray)(c.themes),this.themes=Object(h.defaultsArr)(c.themes,[]),this.themesPath=this.getThemesPath(),this.responsive=Boolean(c.responsive),this.toolbar=Object(l.isObj)(c.toolbar)||Boolean(c.toolbar),this.stickyHeaders=Boolean(c.sticky_headers),this.Mod={},this.ExtRegistry={},this.instantiateFeatures(Object.keys(g.FEATURES).map(function(t){return g.FEATURES[t]}))}return function(t,e,i){e&&s(t.prototype,e),i&&s(t,i)}(t,[{key:"init",value:function(){var t=this;if(!this.initialized){this["import"](this.stylesheetId,this.getStylesheetPath(),null,"link");var e,i=this.Mod;this.loadThemes();var n=g.FEATURES.dateType,s=g.FEATURES.help,r=g.FEATURES.state,a=g.FEATURES.markActiveColumns,l=g.FEATURES.gridLayout,c=g.FEATURES.loader,h=g.FEATURES.highlightKeyword,u=g.FEATURES.popupFilter,d=g.FEATURES.rowsCounter,m=g.FEATURES.statusBar,v=g.FEATURES.clearButton,b=g.FEATURES.alternateRows,y=g.FEATURES.noResults,x=g.FEATURES.paging,w=g.FEATURES.toolbar;if(this.initFeatures([n,s,r,a,l,c,h,u]),this.fltGrid){var _=this._insertFiltersRow();this.nbCells=this.getCellsNb(this.refRow),this.nbFilterableRows=this.getRowsNb();for(var k=this.singleFlt?1:this.nbCells,C=0;C<k;C++){this.emitter.emit("before-filter-init",this,C);var T=Object(o.createElm)(this.fltCellTag),S=this.getFilterType(C);this.singleFlt&&(T.colSpan=this.nbCells),this.gridLayout||_.appendChild(T),e=C===k-1&&this.displayBtn?this.fltSmallCssClass:this.fltCssClass,this.singleFlt&&(S=g.INPUT,e=this.singleFltCssClass),S===g.SELECT||S===g.MULTIPLE?(i.dropdown=i.dropdown||new p.Dropdown(this),i.dropdown.init(C,this.isExternalFlt(),T)):S===g.CHECKLIST?(i.checkList=i.checkList||new f.CheckList(this),i.checkList.init(C,this.isExternalFlt(),T)):this._buildInputFilter(C,e,T),C===k-1&&this.displayBtn&&this._buildSubmitButton(this.isExternalFlt()?Object(o.elm)(this.externalFltIds[C]):T),this.emitter.emit("after-filter-init",this,C)}this.emitter.on(["filter-focus"],function(e,i){return t.setActiveFilterId(i.id)})}else this._initNoFilters();this.hasExcludedRows&&(this.emitter.on(["after-filtering"],function(){return t.setExcludeRows()}),this.setExcludeRows()),this.initFeatures([d,m,v,b,y,x,w]),this.setColWidths(),this.gridLayout||(Object(o.addClass)(this.dom(),this.prfxTf),this.responsive&&Object(o.addClass)(this.dom(),this.prfxResponsive),this.colWidths.length>0&&this.setFixedLayout(),this.stickyHeaders&&this.dom().tHead&&Object(o.addClass)(this.dom(),this.stickyCssClass)),this.initExtensions(),this.initialized=!0,this.onFiltersLoaded(this),this.emitter.emit("initialized",this)}}},{key:"detectKey",value:function(t){this.enterKey&&(Object(r.isKeyPressed)(t,[g.ENTER_KEY])?(this.filter(),Object(r.cancelEvt)(t),Object(r.stopEvt)(t)):(this.isUserTyping=!0,u.root.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null))}},{key:"onKeyUp",value:function(t){if(this.autoFilter)if(this.isUserTyping=!1,Object(r.isKeyPressed)(t,[g.ENTER_KEY,g.TAB_KEY,g.ESC_KEY,g.UP_ARROW_KEY,g.DOWN_ARROW_KEY]))u.root.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null;else{if(null!==this.autoFilterTimer)return;this.autoFilterTimer=u.root.setInterval(function(){u.root.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null,this.isUserTyping||(this.filter(),this.isUserTyping=null)}.bind(this),this.autoFilterDelay)}}},{key:"onKeyDown",value:function(){this.autoFilter&&(this.isUserTyping=!0)}},{key:"onInpFocus",value:function(t){var e=Object(r.targetEvt)(t);this.emitter.emit("filter-focus",this,e)}},{key:"onInpBlur",value:function(){this.autoFilter&&(this.isUserTyping=!1,u.root.clearInterval(this.autoFilterTimer)),this.emitter.emit("filter-blur",this)}},{key:"_insertFiltersRow",value:function(){if(!this.gridLayout){var t,e=Object(o.tag)(this.dom(),"thead");return(t=e.length>0?e[0].insertRow(this.filtersRowIndex):this.dom().insertRow(this.filtersRowIndex)).className=this.fltsRowCssClass,this.isExternalFlt()&&(t.style.display=g.NONE),this.emitter.emit("filters-row-inserted",this,t),t}}},{key:"_initNoFilters",value:function(){this.fltGrid||(this.refRow=this.refRow>0?this.refRow-1:0,this.nbFilterableRows=this.getRowsNb())}},{key:"_buildInputFilter",value:function(t,e,i){var n=this,s=this.getFilterType(t),a=this.isExternalFlt()?this.externalFltIds[t]:null,l=s===g.INPUT?"text":"hidden",c=Object(o.createElm)(g.INPUT,["id",this.buildFilterId(t)],["type",l],["ct",t]);"hidden"!==l&&this.watermark&&c.setAttribute("placeholder",this.isWatermarkArray?this.watermark[t]||"":this.watermark),c.className=e||this.fltCssClass,Object(r.addEvt)(c,"focus",function(t){return n.onInpFocus(t)}),a?Object(o.elm)(a).appendChild(c):i.appendChild(c),this.fltIds.push(c.id),Object(r.addEvt)(c,"keypress",function(t){return n.detectKey(t)}),Object(r.addEvt)(c,"keydown",function(){return n.onKeyDown()}),Object(r.addEvt)(c,"keyup",function(t){return n.onKeyUp(t)}),Object(r.addEvt)(c,"blur",function(){return n.onInpBlur()})}},{key:"_buildSubmitButton",value:function(t){var e=this,i=Object(o.createElm)(g.INPUT,["type","button"],["value",this.btnText]);i.className=this.btnCssClass,t.appendChild(i),Object(r.addEvt)(i,"click",function(){return e.filter()})}},{key:"instantiateFeatures",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){if(e.property=e.property||e.name,!t.hasConfig||!0===t[e.property]||!0===e.enforce){var i=e["class"],n=e.name;t.Mod[n]=t.Mod[n]||new i(t)}})}},{key:"initFeatures",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var i=e.property,n=e.name;!0===t[i]&&t.Mod[n]&&t.Mod[n].init()})}},{key:"feature",value:function(t){return this.Mod[t]}},{key:"initExtensions",value:function(){var t=this,e=this.extensions;0!==e.length&&(i.p=this.basePath,this.emitter.emit("before-loading-extensions",this),e.forEach(function(e){t.loadExtension(e)}),this.emitter.emit("after-loading-extensions",this))}},{key:"loadExtension",value:function(t){var e=this;if(t&&t.name&&!this.hasExtension(t.name)){var n,s=t.name,r=t.path;s&&r?n=t.path+s:(s=s.replace(".js",""),n="extensions/{}/{}".replace(/{}/g,s)),i.e(0).then(function(){var r=[i(440)("./"+n)];(function(i){var n=new i["default"](e,t);n.init(),e.ExtRegistry[s]=n}).apply(null,r)})["catch"](i.oe)}}},{key:"extension",value:function(t){return this.ExtRegistry[t]}},{key:"hasExtension",value:function(t){return!Object(l.isEmpty)(this.ExtRegistry[t])}},{key:"registerExtension",value:function(t,e){this.ExtRegistry[e]=t}},{key:"destroyExtensions",value:function(){var t=this.ExtRegistry;Object.keys(t).forEach(function(e){t[e].destroy(),t[e]=void 0})}},{key:"loadThemes",value:function(){var t=this;if(this.hasThemes){var e=this.themes;this.emitter.emit("before-loading-themes",this),this.enableDefaultTheme&&this.themes.push({name:"default"}),e.forEach(function(e,i){var n=e.name,s=e.path,r=t.prfxTf+n;n&&!s?s=t.themesPath+n+"/"+n+".css":!n&&e.path&&(n="theme{0}".replace("{0}",i)),t.isImported(s,"link")||t["import"](r,s,null,"link")}),this.loader=!0,this.emitter.emit("after-loading-themes",this)}}},{key:"getStylesheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Object(o.elm)(this.prfxTf+t)}},{key:"destroy",value:function(){var t=this;if(this.initialized){var e=this.emitter;this.isExternalFlt()&&!this.popupFilters&&this.removeExternalFlts(),this.destroyExtensions(),this.validateAllRows(),e.emit("destroy",this),this.fltGrid&&!this.gridLayout&&this.dom().deleteRow(this.filtersRowIndex),this.hasExcludedRows&&e.off(["after-filtering"],function(){return t.setExcludeRows()}),this.emitter.off(["filter-focus"],function(e,i){return t.setActiveFilterId(i.id)}),Object(o.removeClass)(this.dom(),this.prfxTf),Object(o.removeClass)(this.dom(),this.prfxResponsive),this.dom().tHead&&Object(o.removeClass)(this.dom().tHead,this.stickyCssClass),this.nbHiddenRows=0,this.validRowsIndex=[],this.fltIds=[],this.initialized=!1}}},{key:"removeExternalFlts",value:function(){this.isExternalFlt()&&this.externalFltIds.forEach(function(t){var e=Object(o.elm)(t);e&&(e.innerHTML="")})}},{key:"isCustomOptions",value:function(t){return this.hasCustomOptions&&-1!==this.customOptions.cols.indexOf(t)}},{key:"getCustomOptions",value:function(t){if(!Object(l.isEmpty)(t)&&this.isCustomOptions(t)){for(var e=this.customOptions,i=[],n=[],s=e.cols.indexOf(t),r=e.values[s],o=e.texts[s],a=e.sorts[s],c=0,h=r.length;c<h;c++)n.push(r[c]),o[c]?i.push(o[c]):i.push(r[c]);return a&&(n.sort(),i.sort()),[n,i]}}},{key:"filter",value:function(){var t=this;if(this.fltGrid&&this.initialized){var e=this.emitter;this.onBeforeFilter(this),e.emit("before-filtering",this);var i=0;this.validRowsIndex=[];var n=this.getFiltersValue();this.eachRow()(function(s,r){s.style.display="";for(var o=s.cells,c=o.length,h=[],u=!0,d=!1,p=0;p<c;p++){var f=n[t.singleFlt?0:p];if(""!==f){var g=Object(a.matchCase)(t.getCellValue(o[p]),t.caseSensitive),m=f.toString().split(t.orOperator),v=m.length>1,b=f.toString().split(t.anOperator),y=b.length>1;if(Object(l.isArray)(f)||v||y){for(var x=void 0,w=void 0,_=!1,k=0,C=(w=Object(l.isArray)(f)?f:v?m:b).length;!(!(k<C)||(x=Object(a.trim)(w[k]),(_=t._match(x,g,o[p]))&&e.emit("highlight-keyword",t,o[p],x),v&&_||y&&!_)||Object(l.isArray)(f)&&_);k++);h[p]=_}else h[p]=t._match(Object(a.trim)(f),g,o[p]),h[p]&&e.emit("highlight-keyword",t,o[p],f);h[p]||(u=!1),t.singleFlt&&-1===t.singleFltExcludeCols.indexOf(p)&&h[p]&&(d=!0),e.emit("cell-processed",t,p,o[p])}}d&&(u=!0),t.validateRow(r,u),u||i++,e.emit("row-processed",t,r,t.validRowsIndex.length-1,u)},function(e){return e.cells.length!==t.nbCells}),this.nbHiddenRows=i,this.onAfterFilter(this),e.emit("after-filtering",this,n)}}},{key:"_match",value:function(t,e,i){var n,s=i.cellIndex,r=this.getDecimal(s),o=new RegExp(this.leOperator),l=new RegExp(this.geOperator),h=new RegExp(this.lwOperator),u=new RegExp(this.grOperator),d=new RegExp(this.dfOperator),p=new RegExp(Object(a.rgxEsc)(this.lkOperator)),f=new RegExp(this.eqOperator),m=new RegExp(this.stOperator),v=new RegExp(this.enOperator),b=this.emOperator,y=this.nmOperator,x=new RegExp(Object(a.rgxEsc)(this.rgxOperator));t=Object(a.matchCase)(t,this.caseSensitive);var w=!1,_=h.test(t),k=o.test(t),C=u.test(t),T=l.test(t),S=d.test(t),E=f.test(t),O=p.test(t),P=m.test(t),M=v.test(t),D=b===t,A=y===t,I=x.test(t);if(this.hasType(s,[g.DATE])){var N,j,L=this.Mod.dateType,F=L.isValid.bind(L),R=L.parse.bind(L),$=L.getLocale(s),z=_&&F(t.replace(h,""),$),H=k&&F(t.replace(o,""),$),B=C&&F(t.replace(u,""),$),W=T&&F(t.replace(l,""),$),q=S&&F(t.replace(d,""),$),U=E&&F(t.replace(f,""),$);N=R(e,$),H?w=N<=(j=R(t.replace(o,""),$)):z?w=N<(j=R(t.replace(h,""),$)):W?w=N>=(j=R(t.replace(l,""),$)):B?w=N>(j=R(t.replace(u,""),$)):q?(j=R(t.replace(d,""),$),w=N.toString()!==j.toString()):U?(j=R(t.replace(f,""),$),w=N.toString()===j.toString()):p.test(t)?w=Object(a.contains)(t.replace(p,""),e,!1,this.caseSensitive):F(t)?(j=R(t,$),w=N.toString()===j.toString()):w=D?!i.hasChildNodes():A?i.hasChildNodes():Object(a.contains)(t,e,this.isExactMatch(s),this.caseSensitive)}else if(n=Object(c.parse)(e,r)||Number(e),I)try{var Y=t.replace(x,"");w=new RegExp(Y).test(e)}catch(t){w=!1}else if(k)w=n<=Object(c.parse)(t.replace(o,""),r);else if(T)w=n>=Object(c.parse)(t.replace(l,""),r);else if(_)w=n<Object(c.parse)(t.replace(h,""),r);else if(C)w=n>Object(c.parse)(t.replace(u,""),r);else if(S)w=!Object(a.contains)(t.replace(d,""),e,!1,this.caseSensitive);else if(O)w=Object(a.contains)(t.replace(p,""),e,!1,this.caseSensitive);else if(E)w=Object(a.contains)(t.replace(f,""),e,!0,this.caseSensitive);else if(P)w=0===e.indexOf(t.replace(m,""));else if(M){var V=t.replace(v,"");w=e.lastIndexOf(V,e.length-1)===e.length-1-(V.length-1)&&e.lastIndexOf(V,e.length-1)>-1}else w=D?!i.hasChildNodes():A?i.hasChildNodes():n&&this.hasType(s,[g.NUMBER,g.FORMATTED_NUMBER])&&!this.singleFlt?n===(t=Object(c.parse)(t,r)||t)||Object(a.contains)(t.toString(),n.toString(),this.isExactMatch(s),this.caseSensitive):Object(a.contains)(t,e,this.isExactMatch(s),this.caseSensitive,this.ignoresDiacritics(s));return w}},{key:"getColumnData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getColValues(t,e,!0,i)}},{key:"getColumnValues",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getColValues(t,e,!1,i)}},{key:"getColValues",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=[],o=n?this.getCellData.bind(this):this.getCellValue.bind(this);return i&&r.push(this.getHeadersText()[t]),this.eachRow()(function(i,n){var a=-1!==s.indexOf(n),l=i.cells;if(l.length===e.nbCells&&!a){var c=o(l[t]);r.push(c)}}),r}},{key:"getFilterValue",value:function(t){if(this.fltGrid){var e="",i=this.getFilterElement(t);if(!i)return e;var n=this.getFilterType(t);return n!==g.MULTIPLE&&n!==g.CHECKLIST?e=i.value:n===g.MULTIPLE?e=this.feature("dropdown").getValues(t):n===g.CHECKLIST&&(e=this.feature("checkList").getValues(t)),(Object(l.isArray)(e)&&0===e.length||1===e.length&&""===e[0])&&(e=""),e}}},{key:"getFiltersValue",value:function(){var t=this;if(this.fltGrid){var e=[];return this.fltIds.forEach(function(i,n){var s=t.getFilterValue(n);Object(l.isArray)(s)?e.push(s):e.push(Object(a.trim)(s))}),e}}},{key:"getFilterId",value:function(t){if(this.fltGrid)return this.fltIds[t]}},{key:"getFiltersByType",value:function(t,e){if(this.fltGrid){for(var i=[],n=0,s=this.fltIds.length;n<s;n++)if(this.getFilterType(n)===t.toLowerCase()){var r=e?n:this.fltIds[n];i.push(r)}return i}}},{key:"getFilterElement",value:function(t){return Object(o.elm)(this.fltIds[t])}},{key:"getCellsNb",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.dom().rows[t>=0?t:0];return e?e.cells.length:0}},{key:"getRowsNb",value:function(t){var e=this.getWorkingRows().length;return this.dom().tHead?t?e+this.dom().querySelectorAll("thead > tr").length:e:t?e:e-this.refRow}},{key:"getWorkingRows",value:function(){return m.querySelectorAll("table#".concat(this.id," > tbody > tr"))}},{key:"getCellValue",value:function(t){var e=t.cellIndex,i=this.cellParser;return-1!==i.cols.indexOf(e)?i.parse(this,t,e):Object(o.getText)(t)}},{key:"getCellData",value:function(t){var e=t.cellIndex,i=this.getCellValue(t);if(this.hasType(e,[g.FORMATTED_NUMBER]))return Object(c.parse)(i,this.getDecimal(e));if(this.hasType(e,[g.NUMBER]))return Number(i);if(this.hasType(e,[g.DATE])){var n=this.Mod.dateType;return n.parse(i,n.getLocale(e))}return i}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getTableData(t,e,!0)}},{key:"getValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getTableData(t,e,!1)}},{key:"getTableData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getCellData.bind(this):this.getCellValue.bind(this);if(e){var r=this.getHeadersText(i);n.push([this.getHeadersRowIndex(),r])}return this.eachRow()(function(e,r){for(var o=[r,[]],a=e.cells,l=0,c=a.length;l<c;l++)if(!(i&&t.hasExtension("colsVisibility")&&t.extension("colsVisibility").isColHidden(l))){var h=s(a[l]);o[1].push(h)}n.push(o)}),n}},{key:"getFilteredData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.filteredData(t,e,!0)}},{key:"getFilteredValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.filteredData(t,e,!1)}},{key:"filteredData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===this.validRowsIndex.length)return[];var n=this.dom().rows,s=[],r=i?this.getCellData.bind(this):this.getCellValue.bind(this);if(t){var o=this.getHeadersText(e);s.push([this.getHeadersRowIndex(),o])}for(var a=this.getValidRows(!0),l=0;l<a.length;l++){for(var c=[this.validRowsIndex[l],[]],h=n[this.validRowsIndex[l]].cells,u=0;u<h.length;u++)if(!(e&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(u))){var d=r(h[u]);c[1].push(d)}s.push(c)}return s}},{key:"getFilteredColumnData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getFilteredDataCol(t,e,!0,i,!1)}},{key:"getVisibleColumnData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getFilteredDataCol(t,e,!0,i,!0)}},{key:"getFilteredColumnValues",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getFilteredDataCol(t,e,!1,i,!1)}},{key:"getVisibleColumnValues",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getFilteredDataCol(t,e,!1,i,!0)}},{key:"getFilteredDataCol",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(Object(l.isUndef)(t))return[];var o=this.dom().rows,a=n?this.getCellData.bind(this):this.getCellValue.bind(this),c=this.getValidRows(!0).filter(function(t){return-1===s.indexOf(t)&&(!r||"none"!==e.getRowDisplay(o[t]))}).map(function(e){return a(o[e].cells[t])});return i&&c.unshift(this.getHeadersText()[t]),c}},{key:"getRowDisplay",value:function(t){return t.style.display}},{key:"validateRow",value:function(t,e){var i=this.dom().rows[t];if(i&&Object(l.isBoolean)(e)){-1!==this.excludeRows.indexOf(t)&&(e=!0);var n=e?"":g.NONE,s=e?"true":"false";i.style.display=n,this.paging&&i.setAttribute("validRow",s),e&&(-1===this.validRowsIndex.indexOf(t)&&this.validRowsIndex.push(t),
this.onRowValidated(this,t),this.emitter.emit("row-validated",this,t))}}},{key:"validateAllRows",value:function(){if(this.initialized){this.validRowsIndex=[];for(var t=this.refRow;t<this.nbFilterableRows;t++)this.validateRow(t,!0)}}},{key:"setFilterValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.fltGrid){var i=this.getFilterElement(t),n=this.getFilterType(t);if(i)if(n===g.MULTIPLE){var s=Object(l.isArray)(e)?e:e.split(" "+this.orOperator+" ");this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt()),this.emitter.emit("select-options",this,t,s)}else if(n===g.CHECKLIST){var r=[];this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-checklist-filter",this,t,this.linkedFilters),r=Object(l.isArray)(e)?e:(e=Object(a.matchCase)(e,this.caseSensitive)).split(" "+this.orOperator+" "),this.emitter.emit("select-checklist-options",this,t,r)}else this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt()),i.value=e}}},{key:"setFixedLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dom(),e=this.colWidths,i=t.clientWidth;if(e.length>0){var n=this.defaultColWidth;i=e.reduce(function(t,e){return parseInt(t||n,10)+parseInt(e||n,10)})}t.style.width="".concat(i,"px"),t.style.tableLayout="fixed"}},{key:"setColWidths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dom(),e=this.colWidths;if(0!==e.length){var i=Object(o.tag)(t,"col"),n=i.length>0,s=n?null:m.createDocumentFragment();this.eachCol(function(t){var r;n?r=i[t]:(r=Object(o.createElm)("col"),s.appendChild(r)),r.style.width=e[t]}),n||t.insertBefore(s,t.firstChild)}}},{key:"setExcludeRows",value:function(){var t=this;this.hasExcludedRows&&this.excludeRows.forEach(function(e){return t.validateRow(e,!0)})}},{key:"clearFilters",value:function(){if(this.fltGrid){this.emitter.emit("before-clearing-filters",this),this.onBeforeReset(this,this.getFiltersValue());for(var t=0,e=this.fltIds.length;t<e;t++)this.setFilterValue(t,"");this.filter(),this.onAfterReset(this),this.emitter.emit("after-clearing-filters",this)}}},{key:"getActiveFilterId",value:function(){return this.activeFilterId}},{key:"setActiveFilterId",value:function(t){this.activeFilterId=t}},{key:"getColumnIndexFromFilterId",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_")[0];return t=t.split(this.prfxFlt)[1],parseInt(t,10)}},{key:"buildFilterId",value:function(t){return"".concat(this.prfxFlt).concat(t,"_").concat(this.id)}},{key:"isExternalFlt",value:function(){return this.externalFltIds.length>0}},{key:"getStylePath",value:function(){return Object(h.defaultsStr)(this.config.style_path,this.basePath+"style/")}},{key:"getStylesheetPath",value:function(){return Object(h.defaultsStr)(this.config.stylesheet,this.getStylePath()+"tablefilter.css")}},{key:"getThemesPath",value:function(){return Object(h.defaultsStr)(this.config.themes_path,this.getStylePath()+"themes/")}},{key:"activateFilter",value:function(t){Object(l.isUndef)(t)||this.setActiveFilterId(this.getFilterId(t))}},{key:"isExactMatch",value:function(t){var e=this.getFilterType(t);return this.exactMatchByCol[t]||this.exactMatch||e!==g.INPUT}},{key:"isRowValid",value:function(t){return-1!==this.getValidRows().indexOf(t)}},{key:"isRowDisplayed",value:function(t){var e=this.dom().rows[t];return""===this.getRowDisplay(e)}},{key:"ignoresDiacritics",value:function(t){var e=this.ignoreDiacritics;return Object(l.isArray)(e)?e[t]:Boolean(e)}},{key:"getClearFilterText",value:function(t){var e=this.clearFilterText;return Object(l.isArray)(e)?e[t]:e}},{key:"eachCol",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.EMPTY_FN,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.EMPTY_FN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.EMPTY_FN,n=this.getCellsNb(this.refRow),s=0;s<n;s++)if(!0!==e(s)){if(!0===i(s))break;t(s)}}},{key:"eachRow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.refRow;return function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.EMPTY_FN,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.EMPTY_FN,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.EMPTY_FN,r=t.dom().rows,o=t.getRowsNb(!0),a=e;a<o;a++)if(!0!==n(r[a],a)){if(!0===s(r[a],a))break;i(r[a],a)}}}},{key:"isImported",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script",i=!1,n="script"===e?"src":"href",s=Object(o.tag)(m,e),r=0,a=s.length;r<a;r++)if(!Object(l.isUndef)(s[r][n])&&s[r][n].match(t)){i=!0;break}return i}},{key:"import",value:function(t,e,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"script";if(!this.isImported(e,s)){var r,a=this,l=!1,c=Object(o.tag)(m,"head")[0];(r="link"===s.toLowerCase()?Object(o.createElm)("link",["id",t],["type","text/css"],["rel","stylesheet"],["href",e]):Object(o.createElm)("script",["id",t],["type","text/javascript"],["src",e])).onload=r.onreadystatechange=function(){l||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(l=!0,"function"==typeof i&&i.call(null,a))},r.onerror=function(){throw new Error("TableFilter could not load: ".concat(e))},c.appendChild(r)}}},{key:"isInitialized",value:function(){return this.initialized}},{key:"getFiltersId",value:function(){return this.fltIds||[]}},{key:"getValidRows",value:function(t){var e=this;return t?(this.validRowsIndex=[],this.eachRow()(function(t){e.paging?"true"!==t.getAttribute("validRow")&&null!==t.getAttribute("validRow")||e.validRowsIndex.push(t.rowIndex):e.getRowDisplay(t)!==g.NONE&&e.validRowsIndex.push(t.rowIndex)}),this.validRowsIndex):this.validRowsIndex}},{key:"getFiltersRowIndex",value:function(){return this.filtersRowIndex}},{key:"getHeadersRowIndex",value:function(){return this.headersRow}},{key:"getStartRowIndex",value:function(){return this.refRow}},{key:"getLastRowIndex",value:function(){return this.getRowsNb(!0)-1}},{key:"hasType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===this.colTypes.length)return!1;var i=this.colTypes[t];return Object(l.isObj)(i)&&(i=i.type),-1!==e.indexOf(i)}},{key:"getHeaderElement",value:function(t){var e,i=this.gridLayout?this.Mod.gridLayout.headTbl:this.dom(),n=Object(o.tag)(i,"thead"),s=this.getHeadersRowIndex();return 0===n.length&&(e=i.rows[s].cells[t]),1===n.length&&(e=n[0].rows[s].cells[t]),e}},{key:"getHeadersText",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=[];return this.eachCol(function(e){var n=t.getHeaderElement(e),s=Object(o.getFirstTextNode)(n);i.push(s)},function(i){return!(!e||!t.hasExtension("colsVisibility"))&&t.extension("colsVisibility").isColHidden(i)}),i}},{key:"getFilterType",value:function(t){return this.filterTypes[t]}},{key:"getFilterableRowsNb",value:function(){return this.getRowsNb(!1)}},{key:"getValidRowsNb",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getValidRows(t).length}},{key:"dom",value:function(){return this.tbl}},{key:"getDecimal",value:function(t){var e=this.decimalSeparator;if(this.hasType(t,[g.FORMATTED_NUMBER])){var i=this.colTypes[t];i.hasOwnProperty("decimal")&&(e=i.decimal)}return e}},{key:"config",value:function(){return this.cfg}}]),t}()},function(t,e,i){"use strict";i(13)("zh-TW",{ampmFront:!0,numeralUnits:!0,allowsFullWidth:!0,timeMarkerOptional:!0,units:"\u6beb\u79d2,\u79d2\u9418,\u5206\u9418,\u5c0f\u6642,\u5929,\u500b\u661f\u671f|\u9031,\u500b\u6708,\u5e74",weekdays:"\u661f\u671f\u65e5|\u65e5|\u9031\u65e5|\u661f\u671f\u5929,\u661f\u671f\u4e00|\u4e00|\u9031\u4e00,\u661f\u671f\u4e8c|\u4e8c|\u9031\u4e8c,\u661f\u671f\u4e09|\u4e09|\u9031\u4e09,\u661f\u671f\u56db|\u56db|\u9031\u56db,\u661f\u671f\u4e94|\u4e94|\u9031\u4e94,\u661f\u671f\u516d|\u516d|\u9031\u516d",numerals:"\u3007,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d,\u4e03,\u516b,\u4e5d",placeholders:"\u5341,\u767e,\u5343,\u4e07","short":"{yyyy}/{MM}/{dd}",medium:"{yyyy}\u5e74{M}\u6708{d}\u65e5","long":"{yyyy}\u5e74{M}\u6708{d}\u65e5{time}",full:"{yyyy}\u5e74{M}\u6708{d}\u65e5{weekday}{time}",stamp:"{yyyy}\u5e74{M}\u6708{d}\u65e5{H}:{mm}{dow}",time:"{tt}{h}\u9ede{mm}\u5206",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:",\u79d2,\u5206\u9418?,\u9ede|\u6642,\u65e5|\u865f,,\u6708,\u5e74",ampm:"\u4e0a\u5348,\u4e0b\u5348",modifiers:[{name:"day",src:"\u5927\u524d\u5929",value:-3},{name:"day",src:"\u524d\u5929",value:-2},{name:"day",src:"\u6628\u5929",value:-1},{name:"day",src:"\u4eca\u5929",value:0},{name:"day",src:"\u660e\u5929",value:1},{name:"day",src:"\u5f8c\u5929",value:2},{name:"day",src:"\u5927\u5f8c\u5929",value:3},{name:"sign",src:"\u524d",value:-1},{name:"sign",src:"\u5f8c",value:1},{name:"shift",src:"\u4e0a|\u53bb",value:-1},{name:"shift",src:"\u9019",value:0},{name:"shift",src:"\u4e0b|\u660e",value:1}],parse:["{num}{unit}{sign}","{shift}{unit:5-7}","{year?}{month}","{year}"],timeParse:["{day|weekday}","{shift}{weekday}","{year?}{month?}{date}"]})},function(t,e,i){"use strict";i(13)("zh-CN",{ampmFront:!0,numeralUnits:!0,allowsFullWidth:!0,timeMarkerOptional:!0,units:"\u6beb\u79d2,\u79d2\u949f,\u5206\u949f,\u5c0f\u65f6,\u5929,\u4e2a\u661f\u671f|\u5468,\u4e2a\u6708,\u5e74",weekdays:"\u661f\u671f\u65e5|\u65e5|\u5468\u65e5|\u661f\u671f\u5929,\u661f\u671f\u4e00|\u4e00|\u5468\u4e00,\u661f\u671f\u4e8c|\u4e8c|\u5468\u4e8c,\u661f\u671f\u4e09|\u4e09|\u5468\u4e09,\u661f\u671f\u56db|\u56db|\u5468\u56db,\u661f\u671f\u4e94|\u4e94|\u5468\u4e94,\u661f\u671f\u516d|\u516d|\u5468\u516d",numerals:"\u3007,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d,\u4e03,\u516b,\u4e5d",placeholders:"\u5341,\u767e,\u5343,\u4e07","short":"{yyyy}-{MM}-{dd}",medium:"{yyyy}\u5e74{M}\u6708{d}\u65e5","long":"{yyyy}\u5e74{M}\u6708{d}\u65e5{time}",full:"{yyyy}\u5e74{M}\u6708{d}\u65e5{weekday}{time}",stamp:"{yyyy}\u5e74{M}\u6708{d}\u65e5{H}:{mm}{dow}",time:"{tt}{h}\u70b9{mm}\u5206",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",timeSuffixes:",\u79d2,\u5206\u949f?,\u70b9|\u65f6,\u65e5|\u53f7,,\u6708,\u5e74",ampm:"\u4e0a\u5348,\u4e0b\u5348",modifiers:[{name:"day",src:"\u5927\u524d\u5929",value:-3},{name:"day",src:"\u524d\u5929",value:-2},{name:"day",src:"\u6628\u5929",value:-1},{name:"day",src:"\u4eca\u5929",value:0},{name:"day",src:"\u660e\u5929",value:1},{name:"day",src:"\u540e\u5929",value:2},{name:"day",src:"\u5927\u540e\u5929",value:3},{name:"sign",src:"\u524d",value:-1},{name:"sign",src:"\u540e",value:1},{name:"shift",src:"\u4e0a|\u53bb",value:-1},{name:"shift",src:"\u8fd9",value:0},{name:"shift",src:"\u4e0b|\u660e",value:1}],parse:["{num}{unit}{sign}","{shift}{unit:5-7}","{year?}{month}","{year}"],timeParse:["{day|weekday}","{shift}{weekday}","{year?}{month?}{date}"]})},function(t,e,i){"use strict";i(13)("sv",{plural:!0,units:"millisekund:|er,sekund:|er,minut:|er,timm:e|ar,dag:|ar,veck:a|or|an,m\xe5nad:|er|en+manad:|er|en,\xe5r:||et+ar:||et",months:"jan:uari|,feb:ruari|,mar:s|,apr:il|,maj,jun:i|,jul:i|,aug:usti|,sep:tember|,okt:ober|,nov:ember|,dec:ember|",weekdays:"s\xf6n:dag|+son:dag|,m\xe5n:dag||dagen+man:dag||dagen,tis:dag|,ons:dag|,tor:sdag|,fre:dag|,l\xf6r:dag||dag",numerals:"noll,en|ett,tv\xe5|tva,tre,fyra,fem,sex,sju,\xe5tta|atta,nio,tio",tokens:"den,f\xf6r|for",articles:"den","short":"{yyyy}-{MM}-{dd}",medium:"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {time}",full:"{weekday} {d} {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"f\xf6rrg\xe5r|i f\xf6rrg\xe5r|if\xf6rrg\xe5r|forrgar|i forrgar|iforrgar",value:-2},{name:"day",src:"g\xe5r|i g\xe5r|ig\xe5r|gar|i gar|igar",value:-1},{name:"day",src:"dag|i dag|idag",value:0},{name:"day",src:"morgon|i morgon|imorgon",value:1},{name:"day",src:"\xf6ver morgon|\xf6vermorgon|i \xf6ver morgon|i \xf6vermorgon|i\xf6vermorgon|over morgon|overmorgon|i over morgon|i overmorgon|iovermorgon",value:2},{name:"sign",src:"sedan|sen",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i f\xf6rra|f\xf6rra|i forra|forra",value:-1},{name:"shift",src:"denna",value:0},{name:"shift",src:"n\xe4sta|nasta",value:1}],parse:["{months} {year?}","{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit:5-7}"],timeParse:["{day|weekday}","{shift} {weekday}","{0?} {weekday?},? {date} {months?}\\.? {year?}"],timeFrontParse:["{day|weekday}","{shift} {weekday}","{0?} {weekday?},? {date} {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("ru",{firstDayOfWeekYear:1,units:"\u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434:\u0430|\u0443|\u044b|,\u0441\u0435\u043a\u0443\u043d\u0434:\u0430|\u0443|\u044b|,\u043c\u0438\u043d\u0443\u0442:\u0430|\u0443|\u044b|,\u0447\u0430\u0441:||\u0430|\u043e\u0432,\u0434\u0435\u043d\u044c|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0434\u043d\u0435\u0439,\u043d\u0435\u0434\u0435\u043b:\u044f|\u044e|\u0438|\u044c|\u0435,\u043c\u0435\u0441\u044f\u0446:||\u0430|\u0435\u0432|\u0435,\u0433\u043e\u0434|\u0433\u043e\u0434|\u0433\u043e\u0434\u0430|\u043b\u0435\u0442|\u0433\u043e\u0434\u0443",months:"\u044f\u043d\u0432:\u0430\u0440\u044f||.|\u0430\u0440\u044c,\u0444\u0435\u0432:\u0440\u0430\u043b\u044f||\u0440.|\u0440\u0430\u043b\u044c,\u043c\u0430\u0440:\u0442\u0430||\u0442,\u0430\u043f\u0440:\u0435\u043b\u044f||.|\u0435\u043b\u044c,\u043c\u0430\u044f|\u043c\u0430\u0439,\u0438\u044e\u043d:\u044f||\u044c,\u0438\u044e\u043b:\u044f||\u044c,\u0430\u0432\u0433:\u0443\u0441\u0442\u0430||.|\u0443\u0441\u0442,\u0441\u0435\u043d:\u0442\u044f\u0431\u0440\u044f||\u0442.|\u0442\u044f\u0431\u0440\u044c,\u043e\u043a\u0442:\u044f\u0431\u0440\u044f||.|\u044f\u0431\u0440\u044c,\u043d\u043e\u044f:\u0431\u0440\u044f||\u0431\u0440\u044c,\u0434\u0435\u043a:\u0430\u0431\u0440\u044f||.|\u0430\u0431\u0440\u044c",weekdays:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435|\u0432\u0441,\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a|\u043f\u043d,\u0432\u0442\u043e\u0440\u043d\u0438\u043a|\u0432\u0442,\u0441\u0440\u0435\u0434\u0430|\u0441\u0440,\u0447\u0435\u0442\u0432\u0435\u0440\u0433|\u0447\u0442,\u043f\u044f\u0442\u043d\u0438\u0446\u0430|\u043f\u0442,\u0441\u0443\u0431\u0431\u043e\u0442\u0430|\u0441\u0431",numerals:"\u043d\u043e\u043b\u044c,\u043e\u0434:\u0438\u043d|\u043d\u0443,\u0434\u0432:\u0430|\u0435,\u0442\u0440\u0438,\u0447\u0435\u0442\u044b\u0440\u0435,\u043f\u044f\u0442\u044c,\u0448\u0435\u0441\u0442\u044c,\u0441\u0435\u043c\u044c,\u0432\u043e\u0441\u0435\u043c\u044c,\u0434\u0435\u0432\u044f\u0442\u044c,\u0434\u0435\u0441\u044f\u0442\u044c",tokens:"\u0432|\u043d\u0430,\u0433\\.?(?:\u043e\u0434\u0430)?","short":"{dd}.{MM}.{yyyy}",medium:"{d} {month} {yyyy} \u0433.","long":"{d} {month} {yyyy} \u0433., {time}",full:"{weekday}, {d} {month} {yyyy} \u0433., {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",timeMarkers:"\u0432",ampm:" \u0443\u0442\u0440\u0430, \u0432\u0435\u0447\u0435\u0440\u0430",modifiers:[{name:"day",src:"\u043f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430",value:-2},{name:"day",src:"\u0432\u0447\u0435\u0440\u0430",value:-1},{name:"day",src:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f",value:0},{name:"day",src:"\u0437\u0430\u0432\u0442\u0440\u0430",value:1},{name:"day",src:"\u043f\u043e\u0441\u043b\u0435\u0437\u0430\u0432\u0442\u0440\u0430",value:2},{name:"sign",src:"\u043d\u0430\u0437\u0430\u0434",value:-1},{name:"sign",src:"\u0447\u0435\u0440\u0435\u0437",value:1},{name:"shift",src:"\u043f\u0440\u043e\u0448\u043b:\u044b\u0439|\u043e\u0439|\u043e\u043c",value:-1},{name:"shift",src:"\u0441\u043b\u0435\u0434\u0443\u044e\u0449:\u0438\u0439|\u0435\u0439|\u0435\u043c",value:1}],relative:function(t,e,i,n){var s,r,o=t.toString().slice(-1);switch(!0){case t>=11&&t<=15:r=3;break;case 1==o:r=1;break;case o>=2&&o<=4:r=2;break;default:r=3}switch(s=t+" "+this.units[8*r+e],n){case"duration":return s;case"past":return s+" \u043d\u0430\u0437\u0430\u0434";case"future":return"\u0447\u0435\u0440\u0435\u0437 "+s}},parse:["{num} {unit} {sign}","{sign} {num} {unit}","{months} {year?}","{0?} {shift} {unit:5-7}"],timeParse:["{day|weekday}","{0?} {shift} {weekday}","{date} {months?} {year?} {1?}"],timeFrontParse:["{0?} {shift} {weekday}","{date} {months?} {year?} {1?}"]})},function(t,e,i){"use strict";i(13)("pt",{plural:!0,units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,dia:|s,semana:|s,m\xeas|m\xeases|mes|meses,ano:|s",months:"jan:eiro|,fev:ereiro|,mar:\xe7o|,abr:il|,mai:o|,jun:ho|,jul:ho|,ago:sto|,set:embro|,out:ubro|,nov:embro|,dez:embro|",weekdays:"dom:ingo|,seg:unda-feira|,ter:\xe7a-feira|,qua:rta-feira|,qui:nta-feira|,sex:ta-feira|,s\xe1b:ado||ado",numerals:"zero,um:|a,dois|duas,tr\xeas|tres,quatro,cinco,seis,sete,oito,nove,dez",tokens:"a,de","short":"{dd}/{MM}/{yyyy}",medium:"{d} de {Month} de {yyyy}","long":"{d} de {Month} de {yyyy} {time}",full:"{Weekday}, {d} de {Month} de {yyyy} {time}",stamp:"{Dow} {d} {Mon} {yyyy} {time}",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarkers:"\xe0s",ampm:"am,pm",modifiers:[{name:"day",src:"anteontem",value:-2},{name:"day",src:"ontem",value:-1},{name:"day",src:"hoje",value:0},{name:"day",src:"amanh:\xe3|a",value:1},{name:"sign",src:"atr\xe1s|atras|h\xe1|ha",value:-1},{name:"sign",src:"daqui a",value:1},{name:"shift",src:"passad:o|a",value:-1},{name:"shift",src:"pr\xf3ximo|pr\xf3xima|proximo|proxima",value:1}],parse:["{months} {1?} {year?}","{num} {unit} {sign}","{sign} {num} {unit}","{0?} {unit:5-7} {shift}","{0?} {shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday}","{0?} {shift} {weekday}","{date} {1?} {months?} {1?} {year?}"],timeFrontParse:["{shift?} {day|weekday}","{date} {1?} {months?} {1?} {year?}"]})},function(t,e,i){"use strict";i(13)("pl",{plural:!0,units:"milisekund:a|y|,sekund:a|y|,minut:a|y|,godzin:a|y|,dzie\u0144|dni|dni,tydzie\u0144|tygodnie|tygodni,miesi\u0105c|miesi\u0105ce|miesi\u0119cy,rok|lata|lat",months:"sty:cznia||cze\u0144,lut:ego||y,mar:ca||zec,kwi:etnia||ecie\u0144,maj:a|,cze:rwca||rwiec,lip:ca||iec,sie:rpnia||rpie\u0144,wrz:e\u015bnia||esie\u0144,pa\u017a:dziernika||dziernik,lis:topada||topad,gru:dnia||dzie\u0144",weekdays:"nie:dziela||dziel\u0119,pon:iedzia\u0142ek|,wt:orek|,\u015br:oda||od\u0119,czw:artek|,pi\u0105tek|pt,sobota|sb|sobot\u0119",numerals:"zero,jeden|jedn\u0105,dwa|dwie,trzy,cztery,pi\u0119\u0107,sze\u015b\u0107,siedem,osiem,dziewi\u0119\u0107,dziesi\u0119\u0107",tokens:"w|we,roku","short":"{dd}.{MM}.{yyyy}",medium:"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {time}",full:"{weekday}, {d} {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",timeMarkers:"o",ampm:"am,pm",modifiers:[{name:"day",src:"przedwczoraj",value:-2},{name:"day",src:"wczoraj",value:-1},{name:"day",src:"dzisiaj|dzi\u015b",value:0},{name:"day",src:"jutro",value:1},{name:"day",src:"pojutrze",value:2},{name:"sign",src:"temu|przed",value:-1},{name:"sign",src:"za",value:1},{name:"shift",src:"zesz\u0142y|zesz\u0142a|ostatni|ostatnia",value:-1},{name:"shift",src:"nast\u0119pny|nast\u0119pna|nast\u0119pnego|przysz\u0142y|przysz\u0142a|przysz\u0142ego",value:1}],relative:function(t,e,i,n){var s;if(4===e){if(1===t&&"past"===n)return"wczoraj";if(1===t&&"future"===n)return"jutro";if(2===t&&"past"===n)return"przedwczoraj";if(2===t&&"future"===n)return"pojutrze"}var r=+t.toFixed(0).slice(-1),o=+t.toFixed(0).slice(-2);switch(!0){case 1===t:s=0;break;case o>=12&&o<=14:s=2;break;case r>=2&&r<=4:s=1;break;default:s=2}var a=this.units[8*s+e],l=t+" ";switch("past"!==n&&"future"!==n||1!==t||(a=a.replace(/a$/,"\u0119")),a=l+a,n){case"duration":return a;case"past":return a+" temu";case"future":return"za "+a}},parse:["{num} {unit} {sign}","{sign} {num} {unit}","{months} {year?}","{shift} {unit:5-7}","{0} {shift?} {weekday}"],timeFrontParse:["{day|weekday}","{date} {months} {year?} {1?}","{0?} {shift?} {weekday}"]})},function(t,e,i){"use strict";i(13)("no",{plural:!0,units:"millisekund:|er,sekund:|er,minutt:|er,tim:e|er,dag:|er,uk:e|er|en,m\xe5ned:|er|en+maaned:|er|en,\xe5r:||et+aar:||et",months:"januar,februar,mars,april,mai,juni,juli,august,september,oktober,november,desember",weekdays:"s\xf8ndag|sondag,mandag,tirsdag,onsdag,torsdag,fredag,l\xf8rdag|lordag",numerals:"en|et,to,tre,fire,fem,seks,sju|syv,\xe5tte,ni,ti",tokens:"den,for",articles:"den","short":"d. {d}. {month} {yyyy}","long":"den {d}. {month} {yyyy} {H}:{mm}",full:"{Weekday} den {d}. {month} {yyyy} {H}:{mm}:{ss}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forg\xe5rs|i forg\xe5rs|forgaars|i forgaars",value:-2},{name:"day",src:"i g\xe5r|ig\xe5r|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"overimorgen|overmorgen|over i morgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i siste|siste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"neste",value:1}],parse:["{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit:5-7}"],timeParse:["{date} {month}","{shift} {weekday}","{0?} {weekday?},? {date?} {month}\\.? {year}"]})},function(t,e,i){"use strict";i(13)("nl",{plural:!0,units:"milliseconde:|n,seconde:|n,minu:ut|ten,uur,dag:|en,we:ek|ken,maand:|en,jaar",months:"jan:uari|,feb:ruari|,maart|mrt,apr:il|,mei,jun:i|,jul:i|,aug:ustus|,sep:tember|,okt:ober|,nov:ember|,dec:ember|",weekdays:"zondag|zo,maandag|ma,dinsdag|di,woensdag|wo|woe,donderdag|do,vrijdag|vr|vrij,zaterdag|za",numerals:"nul,een,twee,drie,vier,vijf,zes,zeven,acht,negen,tien","short":"{dd}-{MM}-{yyyy}",medium:"{d} {month} {yyyy}","long":"{d} {Month} {yyyy} {time}",full:"{weekday} {d} {Month} {yyyy} {time}",stamp:"{dow} {d} {Mon} {yyyy} {time}",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarkers:"'s,om",modifiers:[{name:"day",src:"gisteren",value:-1},{name:"day",src:"vandaag",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"overmorgen",value:2},{name:"sign",src:"geleden",value:-1},{name:"sign",src:"vanaf nu",value:1},{name:"shift",src:"laatste|vorige|afgelopen",value:-1},{name:"shift",src:"volgend:|e",value:1}],parse:["{months} {year?}","{num} {unit} {sign}","{0?} {unit:5-7} {shift}","{0?} {shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday}","{weekday?},? {date} {months?}\\.? {year?}"],timeFrontParse:["{shift?} {day|weekday}","{weekday?},? {date} {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("ko",{ampmFront:!0,numeralUnits:!0,units:"\ubc00\ub9ac\ucd08,\ucd08,\ubd84,\uc2dc\uac04,\uc77c,\uc8fc,\uac1c\uc6d4|\ub2ec,\ub144|\ud574",weekdays:"\uc77c:\uc694\uc77c|,\uc6d4:\uc694\uc77c|,\ud654:\uc694\uc77c|,\uc218:\uc694\uc77c|,\ubaa9:\uc694\uc77c|,\uae08:\uc694\uc77c|,\ud1a0:\uc694\uc77c|",numerals:"\uc601|\uc81c\ub85c,\uc77c|\ud55c,\uc774,\uc0bc,\uc0ac,\uc624,\uc721,\uce60,\ud314,\uad6c,\uc2ed","short":"{yyyy}.{MM}.{dd}",medium:"{yyyy}\ub144 {M}\uc6d4 {d}\uc77c","long":"{yyyy}\ub144 {M}\uc6d4 {d}\uc77c {time}",full:"{yyyy}\ub144 {M}\uc6d4 {d}\uc77c {weekday} {time}",stamp:"{yyyy}\ub144 {M}\uc6d4 {d}\uc77c {H}:{mm} {dow}",time:"{tt} {h}\uc2dc {mm}\ubd84",past:"{num}{unit} {sign}",future:"{num}{unit} {sign}",duration:"{num}{unit}",timeSuffixes:",\ucd08,\ubd84,\uc2dc,\uc77c,,\uc6d4,\ub144",ampm:"\uc624\uc804,\uc624\ud6c4",modifiers:[{name:"day",src:"\uadf8\uc800\uaed8",value:-2},{name:"day",src:"\uc5b4\uc81c",value:-1},{name:"day",src:"\uc624\ub298",value:0},{name:"day",src:"\ub0b4\uc77c",value:1},{name:"day",src:"\ubaa8\ub808",value:2},{name:"sign",src:"\uc804",value:-1},{name:"sign",src:"\ud6c4",value:1},{name:"shift",src:"\uc9c0\ub09c|\uc791",value:-1},{name:"shift",src:"\uc774\ubc88|\uc62c",value:0},{name:"shift",src:"\ub2e4\uc74c|\ub0b4",value:1}],parse:["{num}{unit} {sign}","{shift?} {unit:5-7}","{year?} {month}","{year}"],timeParse:["{day|weekday}","{shift} {unit:5?} {weekday}","{year?} {month?} {date} {weekday?}"]})},function(t,e,i){"use strict";i(13)("ja",{ampmFront:!0,numeralUnits:!0,allowsFullWidth:!0,timeMarkerOptional:!0,firstDayOfWeek:0,firstDayOfWeekYear:1,units:"\u30df\u30ea\u79d2,\u79d2,\u5206,\u6642\u9593,\u65e5,\u9031\u9593|\u9031,\u30f6\u6708|\u30f5\u6708|\u6708,\u5e74|\u5e74\u5ea6",weekdays:"\u65e5:\u66dc\u65e5||\u66dc,\u6708:\u66dc\u65e5||\u66dc,\u706b:\u66dc\u65e5||\u66dc,\u6c34:\u66dc\u65e5||\u66dc,\u6728:\u66dc\u65e5||\u66dc,\u91d1:\u66dc\u65e5||\u66dc,\u571f:\u66dc\u65e5||\u66dc",numerals:"\u3007,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d,\u4e03,\u516b,\u4e5d",placeholders:"\u5341,\u767e,\u5343,\u4e07",timeSuffixes:",\u79d2,\u5206,\u6642,\u65e5,,\u6708,\u5e74\u5ea6?","short":"{yyyy}/{MM}/{dd}",medium:"{yyyy}\u5e74{M}\u6708{d}\u65e5","long":"{yyyy}\u5e74{M}\u6708{d}\u65e5{time}",full:"{yyyy}\u5e74{M}\u6708{d}\u65e5{time} {weekday}",stamp:"{yyyy}\u5e74{M}\u6708{d}\u65e5 {H}:{mm} {dow}",time:"{tt}{h}\u6642{mm}\u5206",past:"{num}{unit}{sign}",future:"{num}{unit}{sign}",duration:"{num}{unit}",ampm:"\u5348\u524d,\u5348\u5f8c",modifiers:[{name:"day",src:"\u4e00\u6628\u3005\u65e5|\u524d\u3005\u3005\u65e5",value:-3},{name:"day",src:"\u4e00\u6628\u65e5|\u304a\u3068\u3068\u3044|\u524d\u3005\u65e5",value:-2},{name:"day",src:"\u6628\u65e5|\u524d\u65e5",value:-1},{name:"day",src:"\u4eca\u65e5|\u5f53\u65e5|\u672c\u65e5",value:0},{name:"day",src:"\u660e\u65e5|\u7fcc\u65e5|\u6b21\u65e5",value:1},{name:"day",src:"\u660e\u5f8c\u65e5|\u7fcc\u3005\u65e5",value:2},{name:"day",src:"\u660e\u3005\u5f8c\u65e5|\u7fcc\u3005\u3005\u65e5",value:3},{name:"sign",src:"\u524d",value:-1},{name:"sign",src:"\u5f8c",value:1},{name:"edge",src:"\u59cb|\u521d\u65e5|\u982d",value:-2},{name:"edge",src:"\u672b|\u5c3b",value:2},{name:"edge",src:"\u672b\u65e5",value:1},{name:"shift",src:"\u4e00\u6628\u3005|\u524d\u3005\u3005",value:-3},{name:"shift",src:"\u4e00\u6628|\u524d\u3005|\u5148\u3005",value:-2},{name:"shift",src:"\u5148|\u6628|\u53bb|\u524d",value:-1},{name:"shift",src:"\u4eca|\u672c|\u5f53",value:0},{name:"shift",src:"\u6765|\u660e|\u7fcc|\u6b21",value:1},{name:"shift",src:"\u660e\u5f8c|\u7fcc\u3005|\u6b21\u3005|\u518d\u6765|\u3055\u6765",value:2},{name:"shift",src:"\u660e\u3005\u5f8c|\u7fcc\u3005\u3005",value:3}],parse:["{month}{edge}","{num}{unit}{sign}","{year?}{month}","{year}"],timeParse:["{day|weekday}","{shift}{unit:5}{weekday?}","{shift}{unit:7}{month}{edge}","{shift}{unit:7}{month?}{date?}","{shift}{unit:6}{edge?}{date?}","{year?}{month?}{date}"]})},function(t,e,i){"use strict";i(13)("it",{plural:!0,units:"millisecond:o|i,second:o|i,minut:o|i,or:a|e,giorn:o|i,settiman:a|e,mes:e|i,ann:o|i",months:"gen:naio|,feb:braio|,mar:zo|,apr:ile|,mag:gio|,giu:gno|,lug:lio|,ago:sto|,set:tembre|,ott:obre|,nov:embre|,dic:embre|",weekdays:"dom:enica|,lun:ed\xec||edi,mar:ted\xec||tedi,mer:coled\xec||coledi,gio:ved\xec||vedi,ven:erd\xec||erdi,sab:ato|",numerals:"zero,un:|a|o|',due,tre,quattro,cinque,sei,sette,otto,nove,dieci",tokens:"l'|la|il","short":"{dd}/{MM}/{yyyy}",medium:"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {time}",full:"{weekday}, {d} {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",timeMarkers:"alle",ampm:"am,pm",modifiers:[{name:"day",src:"ieri",value:-1},{name:"day",src:"oggi",value:0},{name:"day",src:"domani",value:1},{name:"day",src:"dopodomani",value:2},{name:"sign",src:"fa",value:-1},{name:"sign",src:"da adesso",value:1},{name:"shift",src:"scors:o|a",value:-1},{name:"shift",src:"prossim:o|a",value:1}],parse:["{months} {year?}","{num} {unit} {sign}","{0?} {unit:5-7} {shift}","{0?} {shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday}","{weekday?},? {date} {months?}\\.? {year?}"],timeFrontParse:["{shift?} {day|weekday}","{weekday?},? {date} {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("fr",{plural:!0,units:"milliseconde:|s,seconde:|s,minute:|s,heure:|s,jour:|s,semaine:|s,mois,an:|s|n\xe9e|nee",months:"janv:ier|,f\xe9vr:ier|+fevr:ier|,mars,avr:il|,mai,juin,juil:let|,ao\xfbt,sept:embre|,oct:obre|,nov:embre|,d\xe9c:embre|+dec:embre|",weekdays:"dim:anche|,lun:di|,mar:di|,mer:credi|,jeu:di|,ven:dredi|,sam:edi|",numerals:"z\xe9ro,un:|e,deux,trois,quatre,cinq,six,sept,huit,neuf,dix",tokens:"l'|la|le,er","short":"{dd}/{MM}/{yyyy}",medium:"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {time}",full:"{weekday} {d} {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarkers:"\xe0",ampm:"am,pm",modifiers:[{name:"day",src:"hier",value:-1},{name:"day",src:"aujourd'hui",value:0},{name:"day",src:"demain",value:1},{name:"sign",src:"il y a",value:-1},{name:"sign",src:"dans|d'ici",value:1},{name:"shift",src:"derni:\xe8r|er|\xe8re|ere",value:-1},{name:"shift",src:"prochain:|e",value:1}],parse:["{months} {year?}","{sign} {num} {unit}","{0?} {unit:5-7} {shift}"],timeParse:["{day|weekday} {shift?}","{weekday?},? {0?} {date}{1?} {months}\\.? {year?}"],timeFrontParse:["{0?} {weekday} {shift}","{weekday?},? {0?} {date}{1?} {months}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("fi",{plural:!0,units:"millisekun:ti|tia|nin|teja|tina,sekun:ti|tia|nin|teja|tina,minuut:ti|tia|in|teja|tina,tun:ti|tia|nin|teja|tina,p\xe4iv:\xe4|\xe4\xe4|\xe4n|i\xe4|\xe4n\xe4,viik:ko|koa|on|olla|koja|kona,kuukau:si|tta|den+kuussa,vuo:si|tta|den|sia|tena|nna",months:"tammi:kuuta||kuu,helmi:kuuta||kuu,maalis:kuuta||kuu,huhti:kuuta||kuu,touko:kuuta||kuu,kes\xe4:kuuta||kuu,hein\xe4:kuuta||kuu,elo:kuuta||kuu,syys:kuuta||kuu,loka:kuuta||kuu,marras:kuuta||kuu,joulu:kuuta||kuu",weekdays:"su:nnuntai||nnuntaina,ma:anantai||anantaina,ti:istai||istaina,ke:skiviikko||skiviikkona,to:rstai||rstaina,pe:rjantai||rjantaina,la:uantai||uantaina",numerals:"nolla,yksi|ensimm\xe4inen,kaksi|toinen,kolm:e|as,nelj\xe4:|s,vii:si|des,kuu:si|des,seitsem\xe4:n|s,kahdeksa:n|s,yhdeks\xe4:n|s,kymmene:n|s","short":"{d}.{M}.{yyyy}",medium:"{d}. {month} {yyyy}","long":"{d}. {month} {yyyy} klo {time}",full:"{weekday} {d}. {month} {yyyy} klo {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}.{mm}",timeMarkers:"klo,kello",ordinalSuffix:".",relative:function(t,e,i,n){function s(i){return t+" "+o[8*i+e]}function r(){return s(1===t?0:1)}var o=this.units;switch(n){case"duration":return r();case"past":return r()+" sitten";case"future":return s(2)+" kuluttua"}},modifiers:[{name:"day",src:"toissa p\xe4iv\xe4n\xe4",value:-2},{name:"day",src:"eilen|eilist\xe4",value:-1},{name:"day",src:"t\xe4n\xe4\xe4n",value:0},{name:"day",src:"huomenna|huomista",value:1},{name:"day",src:"ylihuomenna|ylihuomista",value:2},{name:"sign",src:"sitten|aiemmin",value:-1},{name:"sign",src:"p\xe4\xe4st\xe4|kuluttua|my\xf6hemmin",value:1},{name:"edge",src:"lopussa",value:2},{name:"edge",src:"ensimm\xe4inen|ensimm\xe4isen\xe4",value:-2},{name:"shift",src:"edel:linen|lisen\xe4",value:-1},{name:"shift",src:"viime",value:-1},{name:"shift",src:"t\xe4:ll\xe4|ss\xe4|n\xe4|m\xe4",value:0},{name:"shift",src:"seuraava|seuraavana|tuleva|tulevana|ensi",value:1}],parse:["{months} {year?}","{shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday}","{weekday?},? {date}\\.? {months?}\\.? {year?}"],timeFrontParse:["{shift?} {day|weekday}","{num?} {unit} {sign}","{weekday?},? {date}\\.? {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("es",{plural:!0,units:"milisegundo:|s,segundo:|s,minuto:|s,hora:|s,d\xeda|d\xedas|dia|dias,semana:|s,mes:|es,a\xf1o|a\xf1os|ano|anos",months:"ene:ro|,feb:rero|,mar:zo|,abr:il|,may:o|,jun:io|,jul:io|,ago:sto|,sep:tiembre|,oct:ubre|,nov:iembre|,dic:iembre|",weekdays:"dom:ingo|,lun:es|,mar:tes|,mi\xe9:rcoles|+mie:rcoles|,jue:ves|,vie:rnes|,s\xe1b:ado|+sab:ado|",numerals:"cero,uno,dos,tres,cuatro,cinco,seis,siete,ocho,nueve,diez",tokens:"el,la,de","short":"{dd}/{MM}/{yyyy}",medium:"{d} de {Month} de {yyyy}","long":"{d} de {Month} de {yyyy} {time}",full:"{weekday}, {d} de {month} de {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarkers:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"anteayer",value:-2},{name:"day",src:"ayer",value:-1},{name:"day",src:"hoy",value:0},{name:"day",src:"ma\xf1ana|manana",value:1},{name:"sign",src:"hace",value:-1},{name:"sign",src:"dentro de",value:1},{name:"shift",src:"pasad:o|a",value:-1},{name:"shift",
src:"pr\xf3ximo|pr\xf3xima|proximo|proxima",value:1}],parse:["{months} {2?} {year?}","{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit:5-7} {shift}","{0?}{1?} {shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday} {shift?}","{date} {2?} {months?}\\.? {2?} {year?}"],timeFrontParse:["{shift?} {weekday} {shift?}","{date} {2?} {months?}\\.? {2?} {year?}"]})},function(t,e,i){"use strict";i(13)("de",{plural:!0,units:"Millisekunde:|n,Sekunde:|n,Minute:|n,Stunde:|n,Tag:|en,Woche:|n,Monat:|en,Jahr:|en|e",months:"Jan:uar|,Feb:ruar|,M:\xe4r|\xe4rz|ar|arz,Apr:il|,Mai,Juni,Juli,Aug:ust|,Sept:ember|,Okt:ober|,Nov:ember|,Dez:ember|",weekdays:"So:nntag|,Mo:ntag|,Di:enstag|,Mi:ttwoch|,Do:nnerstag|,Fr:eitag|,Sa:mstag|",numerals:"null,ein:|e|er|en|em,zwei,drei,vier,fuenf,sechs,sieben,acht,neun,zehn",tokens:"der","short":"{dd}.{MM}.{yyyy}",medium:"{d}. {Month} {yyyy}","long":"{d}. {Month} {yyyy} {time}",full:"{Weekday}, {d}. {Month} {yyyy} {time}",stamp:"{Dow} {d} {Mon} {yyyy} {time}",time:"{H}:{mm}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarkers:"um",ampm:"am,pm",modifiers:[{name:"day",src:"vorgestern",value:-2},{name:"day",src:"gestern",value:-1},{name:"day",src:"heute",value:0},{name:"day",src:"morgen",value:1},{name:"day",src:"\xfcbermorgen|ubermorgen|uebermorgen",value:2},{name:"sign",src:"vor:|her",value:-1},{name:"sign",src:"in",value:1},{name:"shift",src:"letzte:|r|n|s",value:-1},{name:"shift",src:"n\xe4chste:|r|n|s+nachste:|r|n|s+naechste:|r|n|s+kommende:n|r",value:1}],parse:["{months} {year?}","{sign} {num} {unit}","{num} {unit} {sign}","{shift} {unit:5-7}"],timeParse:["{shift?} {day|weekday}","{weekday?},? {date}\\.? {months?}\\.? {year?}"],timeFrontParse:["{shift} {weekday}","{weekday?},? {date}\\.? {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("da",{plural:!0,units:"millisekund:|er,sekund:|er,minut:|ter,tim:e|er,dag:|e,ug:e|er|en,m\xe5ned:|er|en+maaned:|er|en,\xe5r:||et+aar:||et",months:"jan:uar|,feb:ruar|,mar:ts|,apr:il|,maj,jun:i|,jul:i|,aug:ust|,sep:tember|,okt:ober|,nov:ember|,dec:ember|",weekdays:"s\xf8n:dag|+son:dag|,man:dag|,tir:sdag|,ons:dag|,tor:sdag|,fre:dag|,l\xf8r:dag|+lor:dag|",numerals:"nul,en|et,to,tre,fire,fem,seks,syv,otte,ni,ti",tokens:"den,for",articles:"den","short":"{dd}-{MM}-{yyyy}",medium:"{d}. {month} {yyyy}","long":"{d}. {month} {yyyy} {time}",full:"{weekday} d. {d}. {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{sign} {num} {unit}",duration:"{num} {unit}",ampm:"am,pm",modifiers:[{name:"day",src:"forg\xe5rs|i forg\xe5rs|forgaars|i forgaars",value:-2},{name:"day",src:"i g\xe5r|ig\xe5r|i gaar|igaar",value:-1},{name:"day",src:"i dag|idag",value:0},{name:"day",src:"i morgen|imorgen",value:1},{name:"day",src:"over morgon|overmorgen|i over morgen|i overmorgen|iovermorgen",value:2},{name:"sign",src:"siden",value:-1},{name:"sign",src:"om",value:1},{name:"shift",src:"i sidste|sidste",value:-1},{name:"shift",src:"denne",value:0},{name:"shift",src:"n\xe6ste|naeste",value:1}],parse:["{months} {year?}","{num} {unit} {sign}","{sign} {num} {unit}","{1?} {num} {unit} {sign}","{shift} {unit:5-7}"],timeParse:["{day|weekday}","{date} {months?}\\.? {year?}"],timeFrontParse:["{shift} {weekday}","{0?} {weekday?},? {date}\\.? {months?}\\.? {year?}"]})},function(t,e,i){"use strict";i(13)("ca",{plural:!0,units:"milisegon:|s,segon:|s,minut:|s,hor:a|es,di:a|es,setman:a|es,mes:|os,any:|s",months:"gen:er|,febr:er|,mar:\xe7|,abr:il|,mai:g|,jun:y|,jul:iol|,ag:ost|,set:embre|,oct:ubre|,nov:embre|,des:embre|",weekdays:"diumenge|dg,dilluns|dl,dimarts|dt,dimecres|dc,dijous|dj,divendres|dv,dissabte|ds",numerals:"zero,un,dos,tres,quatre,cinc,sis,set,vuit,nou,deu",tokens:"el,la,de","short":"{dd}/{MM}/{yyyy}",medium:"{d} {month} {yyyy}","long":"{d} {month} {yyyy} {time}",full:"{weekday} {d} {month} {yyyy} {time}",stamp:"{dow} {d} {mon} {yyyy} {time}",time:"{H}:{mm}",past:"{sign} {num} {unit}",future:"{sign} {num} {unit}",duration:"{num} {unit}",timeMarkers:"a las",ampm:"am,pm",modifiers:[{name:"day",src:"abans d'ahir",value:-2},{name:"day",src:"ahir",value:-1},{name:"day",src:"avui",value:0},{name:"day",src:"dem\xe0|dema",value:1},{name:"sign",src:"fa",value:-1},{name:"sign",src:"en",value:1},{name:"shift",src:"passat",value:-1},{name:"shift",src:"el proper|la propera",value:1}],parse:["{sign} {num} {unit}","{num} {unit} {sign}","{0?}{1?} {unit:5-7} {shift}","{0?}{1?} {shift} {unit:5-7}"],timeParse:["{shift} {weekday}","{weekday} {shift}","{date?} {2?} {months}\\.? {2?} {year?}"]})},function(t,e,i){"use strict";i(146),i(145),i(144),i(143),i(142),i(141),i(140),i(139),i(138),i(137),i(136),i(135),i(134),i(133),i(132),i(131),i(130),t.exports=i(0)},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";var n=i(18);i(21)(n,{union:function(t){return new n(this.start<t.start?this.start:t.start,this.end>t.end?this.end:t.end)}})},function(t,e,i){"use strict";var n=i(18),s=i(47);i(21)(n,{toString:function(){return s(this)?this.start+".."+this.end:"Invalid Range"}})},function(t,e,i){"use strict";var n=i(18),s=i(60);i(21)(n,{toArray:function(){return s(this)}})},function(t,e,i){"use strict";var n=i(12).isString;t.exports=function(t){return n(t)?t.charCodeAt(0):t}},function(t,e,i){"use strict";var n=i(18),s=i(14),r=i(47),o=i(21),a=i(153),l=s.abs;o(n,{span:function(){var t=a(this.end)-a(this.start);return r(this)?l(t)+1:NaN}})},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";var n=i(18),s=i(47);i(21)(n,{isValid:function(){return s(this)}})},function(t,e,i){"use strict";var n=i(18);i(21)(n,{intersect:function(t){return t.start>this.end||t.end<this.start?new n(NaN,NaN):new n(this.start>t.start?this.start:t.start,this.end<t.end?this.end:t.end)}})},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";var n=i(18),s=i(60);i(21)(n,{every:function(t,e){return s(this,t,!1,e)}})},function(t,e,i){"use strict";var n=i(56).HALF_WIDTH_PERIOD;t.exports=function(t){return t.split(n)}},function(t,e,i){"use strict";var n=i(163);t.exports=function(t){var e=n(t.toString());return e[1]?e[1].length:0}},function(t,e,i){"use strict";var n=i(14),s=i(164),r=n.max;t.exports=function(t,e){return r(s(t),s(e))}},function(t,e,i){"use strict";var n=i(120);t.exports=function(t,e){return n(t.charCodeAt(0)+e)}},function(t,e,i){"use strict";var n=i(119);t.exports=function(t,e,i){return n(t+e,i)}},function(t){"use strict";t.exports=function(t){return t!==-1/0&&t!==1/0}},function(t,e,i){"use strict";var n=i(168),s=i(98);t.exports=function(t){var e=s(t);return(!!e||0===e)&&n(t)}},function(t,e,i){"use strict";var n=i(95),s=i(61),r=i(18),o=i(28),a=i(35),l=i(60),c=i(65),h=i(21);t.exports=function(){var t={};a(s.split("|"),function(e,i){var s,r,a=e+"s";i<4?r=function(){return l(this,e,!0)}:(s=n[c(a)],r=function(){return o((this.end-this.start)/s)}),t[a]=r}),h(r,t)}},function(t,e,i){"use strict";i(25)},function(t,e,i){"use strict";var n=i(18);i(21)(n,{contains:function(t){return null!=t&&(t.start&&t.end?t.start>=this.start&&t.start<=this.end&&t.end>=this.start&&t.end<=this.end:t>=this.start&&t<=this.end)}})},function(t,e,i){"use strict";var n=i(18);i(21)(n,{clone:function(){return new n(this.start,this.end)}})},function(t,e,i){"use strict";var n=i(99);t.exports=function(t,e){var i=t.start,s=t.end,r=s<i?s:i,o=i>s?i:s;return n(e<r?r:e>o?o:e)}},function(t,e,i){"use strict";var n=i(18),s=i(174);i(21)(n,{clamp:function(t){return s(this,t)}})},function(t,e,i){"use strict";var n=i(61);t.exports=RegExp("(\\d+)?\\s*("+n+")s?","i")},function(t,e,i){"use strict";var n=i(61);t.exports="((?:\\d+)?\\s*(?:"+n+"))s?"},function(t,e,i){"use strict";var n=i(177);t.exports={RANGE_REG_FROM_TO:/(?:from)?\s*(.+)\s+(?:to|until)\s+(.+)$/i,RANGE_REG_REAR_DURATION:RegExp("(.+)\\s*for\\s*"+n,"i"),RANGE_REG_FRONT_DURATION:RegExp("(?:for)?\\s*"+n+"\\s*(?:starting)?\\s(?:at\\s)?(.+)","i")}},function(t,e,i){"use strict";var n=i(18),s=i(178),r=i(96),o=i(97),a=i(26),l=i(94),c=a.sugarDate,h=s.RANGE_REG_FROM_TO,u=s.RANGE_REG_REAR_DURATION,d=s.RANGE_REG_FRONT_DURATION;t.exports=function(t){var e,i,s,a,p,f;return c.get&&(e=t.match(h))?(p=o(e[1].replace("from","at")),f=c.get(p,e[2]),new n(p,f)):((e=t.match(d))&&(s=e[1],i=e[2]),(e=t.match(u))&&(i=e[1],s=e[2]),i&&s?(p=o(i),a=l(s),f=r(p,a[0],a[1])):p=t,new n(o(p),o(f)))}},function(t,e,i){"use strict";var n=i(18),s=i(12),r=i(97),o=i(179),a=s.isString;t.exports=function(t,e){return 1===arguments.length&&a(t)?o(t):new n(r(t),r(e))}},function(t,e,i){"use strict";var n=i(0),s=i(180);n.Date.defineStatic({range:s}),t.exports=n.Date.range},function(t,e,i){"use strict";i(181),i(175),i(173),i(172),i(171),i(162),i(161),i(160),i(159),i(158),i(157),i(156),i(155),i(154),i(152),i(151),i(150),i(149),i(148),t.exports=i(0)},function(t,e,i){"use strict";var n=i(0);i(67),t.exports=n.Date.setOption},function(t,e,i){"use strict";var n=i(0);i(67),t.exports=n.Date.getOption},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.yearsUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.yearsSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.yearsFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.yearsAgo},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.weeksUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.weeksSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.weeksFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.weeksAgo},function(t,e,i){"use strict";var n=i(0),s=i(27);n.Date.defineInstance({setWeekday:function(t,e){return s(t,e)}}),t.exports=n.Date.setWeekday},function(t,e,i){"use strict";var n=i(0),s=i(29);n.Date.defineInstance({setUTC:function(t,e){return s(t,e)}}),t.exports=n.Date.setUTC},function(t,e,i){"use strict";var n=i(0),s=i(114);n.Date.defineInstance({setISOWeek:function(t,e){return s(t,e)}}),t.exports=n.Date.setISOWeek},function(t,e,i){"use strict";var n=i(0),s=i(53),r=i(107);n.Date.defineInstanceWithArguments({set:function(t,e){return e=r(e),s(t,e[0],e[1])}}),t.exports=n.Date.set},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.secondsUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.secondsSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.secondsFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.secondsAgo},function(t,e,i){"use strict";var n=i(0),s=i(108);n.Date.defineInstanceWithArguments({rewind:function(t,e){return s(t,e,-1)}}),t.exports=n.Date.rewind},function(t,e,i){"use strict";var n=i(52);t.exports=function(t){var e,i={};return i[t]=1,n(i,function(t,i,n,s){return e=s,!1}),e}},function(t,e,i){"use strict";var n=i(0),s=i(11),r=i(50),o=i(202),a=s.DAY_INDEX;n.Date.defineInstance({reset:function(t,e,i){var n=e?o(e):a;return r(t,n,i),t}}),t.exports=n.Date.reset},function(t,e,i){"use strict";var n=i(0),s=i(30),r=i(100);n.Date.defineInstance({relativeTo:function(t,e,i){return r(t,s(e),i)}}),t.exports=n.Date.relativeTo},function(t,e,i){"use strict";var n=i(43),s=i(14),r=i(118),o=i(64),a=s.abs;t.exports=function(t,e){return e||(e=n(),t>e&&(e=new Date(e.getTime()-10))),r(t-e,function(i){return a(o(t,e,i))})}},function(t,e,i){"use strict";var n=i(0),s=i(100);n.Date.defineInstance({relative:function(t,e,i){return s(t,null,e,i)}}),t.exports=n.Date.relative},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.monthsUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.monthsSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.monthsFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.monthsAgo},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.minutesUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.minutesSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.minutesFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.minutesAgo},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.millisecondsUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.millisecondsSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.millisecondsFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.millisecondsAgo},function(t,e,i){"use strict";var n=i(0);n.Date.defineInstance({iso:function(t){return t.toISOString()}}),t.exports=n.Date.iso},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isYesterday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isWeekend},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isWeekday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isWednesday},function(t,e,i){"use strict";var n=i(0),s=i(48);n.Date.defineInstance({isValid:function(t){return s(t)}}),t.exports=n.Date.isValid},function(t,e,i){"use strict";var n=i(29),s=i(54);t.exports=function(t){return!!n(t)||0===s(t)}},function(t,e,i){"use strict";var n=i(0),s=i(225);n.Date.defineInstance({isUTC:function(t){return s(t)}}),t.exports=n.Date.isUTC},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isTuesday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isTomorrow},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isToday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isThursday},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isThisYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isThisWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isThisMonth},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isSunday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isSaturday},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isPast},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isNextYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isNextWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isNextMonth},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isMonday},function(t,e,i){"use strict";var n=i(0),s=i(32);n.Date.defineInstance({isLeapYear:function(t){var e=s(t);return e%4==0&&e%100!=0||e%400==0}}),t.exports=n.Date.isLeapYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isLastYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isLastWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.isLastMonth},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isFuture},function(t,e,i){"use strict";var n=i(15),s=i(55),r=i(101),o=i(26),a=i(49),l=n.English,c=o.sugarDate;t.exports=function(){var t=s("Today Yesterday Tomorrow Weekday Weekend Future Past"),e=l.weekdays.slice(0,7),i=l.months.slice(0,12),n=t.concat(e).concat(i);a(c,n,function(t,e){t["is"+e]=function(t){return r(t,e)}})}},function(t,e,i){"use strict";var n=i(0);i(17),t.exports=n.Date.isFriday},function(t,e,i){"use strict";var n=i(0),s=i(30),r=i(14),o=r.min,a=r.max;n.Date.defineInstance({isBetween:function(t,e,i,n){var r=t.getTime(),l=s(e).getTime(),c=s(i).getTime(),h=o(l,c),u=a(l,c);return h-(n=n||0)<=r&&u+n>=r}}),t.exports=n.Date.isBetween},function(t,e,i){"use strict";var n=i(0),s=i(30);n.Date.defineInstance({isBefore:function(t,e,i){return t.getTime()<s(e).getTime()+(i||0)}}),t.exports=n.Date.isBefore},function(t,e,i){"use strict";var n=i(0),s=i(30);n.Date.defineInstance({isAfter:function(t,e,i){return t.getTime()>s(e).getTime()-(i||0)}}),t.exports=n.Date.isAfter},function(t,e,i){"use strict";var n=i(39),s=i(38),r=i(32),o=i(31),a=i(43);t.exports=function(t,e){var i=a();return e&&n(i,s(i)+e),r(t)===r(i)&&o(t)===o(i)&&s(t)===s(i)}},function(t){"use strict";t.exports=function(t){return t.trim()}},function(t,e,i){"use strict";var n=i(0),s=i(101);n.Date.defineInstance({is:function(t,e,i){return s(t,e,i)}}),t.exports=n.Date.is},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.hoursUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.hoursSince},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.hoursFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.hoursAgo},function(t,e,i){"use strict";var n=i(0),s=i(24);n.Date.defineInstance({getWeekday:function(t){return s(t)}}),t.exports=n.Date.getWeekday},function(t,e,i){"use strict";var n=i(0);n.Date.defineInstance({getUTCWeekday:function(t){return t.getUTCDay()}}),t.exports=n.Date.getUTCWeekday},function(t,e,i){"use strict";var n=i(0),s=i(103);n.Date.defineInstance({getUTCOffset:function(t,e){return s(t,e)}}),t.exports=n.Date.getUTCOffset},function(t,e,i){"use strict";var n=i(0),s=i(62);n.Date.defineInstance({getISOWeek:function(t){return s(t,!0)}}),t.exports=n.Date.getISOWeek},function(t,e,i){"use strict";var n=i(0),s=i(109);n.Date.defineInstance({get:function(t,e,i){return s(t,e,i)}}),t.exports=n.Date.get},function(t){"use strict";t.exports=1e3},function(t,e,i){"use strict";var n=i(263),s=i(16).hasOwn;t.exports=function(t){var e={},i=0;return function(r){return s(e,r)?e[r]:(i===n&&(e={},i=0),i++,e[r]=t(r))}}},function(t){"use strict";t.exports=/([{}])\1|\{([^}]*)\}|(%)%|(%(\w*))/g},function(t,e,i){"use strict";var n=i(265),s=i(56),r=i(264),o=s.OPEN_BRACE,a=s.CLOSE_BRACE;t.exports=function(t,e,i){function s(n,s){var r,o,a,l,c=s[2],h=s[3],u=s[5];s[4]&&e?(o=u,r=e):c?(o=c,r=t):a=h&&e?h:s[1]||s[0],r&&(function(t,e,i){if(t&&!t(e,i))throw new TypeError("Invalid token "+(e||i)+" in format string")}(i,c,u),l=function(t,e){return r(t,o,e)}),n.push(l||function(t){return function(){return t}}(a))}function l(t,e,i,n){if(n>i){var s=e.slice(i,n);c(s,o),c(s,a),t.push(function(){return s})}}function c(t,e){if(-1!==t.indexOf(e))throw new TypeError("Unmatched "+e+" in format string")}var h=n,u=r(function(t){var e,i=[],n=0;for(h.lastIndex=0;e=h.exec(t);)l(i,t,n,e.index),s(i,e),n=h.lastIndex;return l(i,t,n,t.length),i});return function(t,e,i){for(var n=u(t),s="",r=0;r<n.length;r++)s+=n[r](e,i);return s}}},function(t,e,i){"use strict";var n=i(15),s=i(28),r=i(104),o=n.localeManager;t.exports=function(t,e){var i=r(t);return o.get(e).ampm[s(i/12)]||""}},function(t,e,i){"use strict";var n=i(33),s=i(11),r=i(64),o=s.DAY_INDEX;t.exports=function(t,e){return r(t,e,n[o])}},function(t,e,i){"use strict";var n=i(15),s=i(32),r=i(31),o=i(62),a=n.localeManager;t.exports=function(t,e,i){var n,l,c,h,u,d;return n=s(t),0!==(l=r(t))&&11!==l||(i||(c=(d=a.get(e)).getFirstDayOfWeek(e),h=d.getFirstDayOfWeekYear(e)),u=o(t,!1,c,h),0===l&&0===u?n-=1:11===l&&1===u&&(n+=1)),n}},function(t){"use strict";t.exports=function(t,e){var i="";for(t=t.toString();e>0;)1&e&&(i+=t),(e>>=1)&&(t+=t);return i}},function(t){"use strict";t.exports=/(\w{3})[()\s\d]*$/},function(t,e,i){"use strict";var n=i(271),s=i(15),r=i(11),o=i(28),a=i(38),l=i(32),c=i(104),h=i(31),u=i(37),d=i(63),p=i(24),f=i(23),g=i(14),m=i(269),v=i(103),b=i(268),y=i(62),x=i(267),w=i(41),_=s.localeManager,k=r.MONTH_INDEX,C=g.ceil,T=[{ldml:"Dow",strf:"a",lowerToken:"dow",get:function(t,e){return _.get(e).getWeekdayName(p(t),2)}},{ldml:"Weekday",strf:"A",lowerToken:"weekday",allowAlternates:!0,get:function(t,e,i){return _.get(e).getWeekdayName(p(t),i)}},{ldml:"Mon",strf:"b h",lowerToken:"mon",get:function(t,e){return _.get(e).getMonthName(h(t),2)}},{ldml:"Month",strf:"B",lowerToken:"month",allowAlternates:!0,get:function(t,e,i){return _.get(e).getMonthName(h(t),i)}},{strf:"C",get:function(t){return l(t).toString().slice(0,2)}},{ldml:"d date day",strf:"d",strfPadding:2,ldmlPaddedToken:"dd",ordinalToken:"do",get:function(t){return a(t)}},{strf:"e",get:function(t){return d(a(t),2,!1,10," ")}},{ldml:"H 24hr",strf:"H",strfPadding:2,ldmlPaddedToken:"HH",get:function(t){return c(t)}},{ldml:"h hours 12hr",strf:"I",strfPadding:2,ldmlPaddedToken:"hh",get:function(t){return c(t)%12||12}},{ldml:"D",strf:"j",strfPadding:3,ldmlPaddedToken:"DDD",get:function(t){var e=w(u(t),k);return b(t,e)+1}},{ldml:"M",strf:"m",strfPadding:2,ordinalToken:"Mo",ldmlPaddedToken:"MM",get:function(t){return h(t)+1}},{ldml:"m minutes",strf:"M",strfPadding:2,ldmlPaddedToken:"mm",get:function(t){return f(t,"Minutes")}},{ldml:"Q",get:function(t){return C((h(t)+1)/3)}},{ldml:"TT",strf:"p",get:function(t,e){return x(t,e)}},{ldml:"tt",strf:"P",get:function(t,e){return x(t,e).toLowerCase()}},{ldml:"T",lowerToken:"t",get:function(t,e){return x(t,e).charAt(0)}},{ldml:"s seconds",strf:"S",strfPadding:2,ldmlPaddedToken:"ss",get:function(t){return f(t,"Seconds")}},{ldml:"S ms",strfPadding:3,ldmlPaddedToken:"SSS",get:function(t){return f(t,"Milliseconds")}},{ldml:"e",strf:"u",ordinalToken:"eo",get:function(t){return p(t)||7}},{strf:"U",strfPadding:2,get:function(t){return y(t,!1,0)}},{ldml:"W",strf:"V",strfPadding:2,ordinalToken:"Wo",ldmlPaddedToken:"WW",get:function(t){return y(t,!0)}},{strf:"w",get:function(t){return p(t)}},{ldml:"w",ordinalToken:"wo",ldmlPaddedToken:"ww",get:function(t,e){var i=_.get(e),n=i.getFirstDayOfWeek(e),s=i.getFirstDayOfWeekYear(e);return y(t,!0,n,s)}},{strf:"W",strfPadding:2,get:function(t){return y(t,!1)}},{ldmlPaddedToken:"gggg",ldmlTwoDigitToken:"gg",get:function(t,e){return m(t,e)}},{strf:"G",strfPadding:4,strfTwoDigitToken:"g",ldmlPaddedToken:"GGGG",ldmlTwoDigitToken:"GG",get:function(t,e){return m(t,e,!0)}},{ldml:"year",ldmlPaddedToken:"yyyy",ldmlTwoDigitToken:"yy",strf:"Y",strfPadding:4,strfTwoDigitToken:"y",get:function(t){return l(t)}},{ldml:"ZZ",strf:"z",get:function(t){return v(t)}},{ldml:"X",get:function(t){return o(t.getTime()/1e3)}},{ldml:"x",get:function(t){return t.getTime()}},{ldml:"Z",get:function(t){return v(t,!0)}},{ldml:"z",strf:"Z",get:function(t){var e=t.toString().match(n);return e?e[1]:""}},{strf:"D",alias:"%m/%d/%y"},{strf:"F",alias:"%Y-%m-%d"},{strf:"r",alias:"%I:%M:%S %p"},{strf:"R",alias:"%H:%M"},{strf:"T",alias:"%H:%M:%S"},{strf:"x",alias:"{short}"},{strf:"X",alias:"{time}"},{strf:"c",alias:"{stamp}"}];t.exports=T},function(t,e,i){"use strict";var n,s,r,o=i(15),a=i(272),l=i(105),c=i(35),h=i(63),u=i(55),d=i(26),p=i(16),f=i(266),g=i(49),m=o.localeManager,v=p.hasOwn,b=p.getOwn,y=p.forEachProperty,x=d.sugarDate;!function(){function t(t,e,i){e&&c(u(e),function(e){t[e]=i})}function e(t){return function(e,i){return t(e,i).toLowerCase()}}function i(t,e){return function(i,n){return h(t(i,n),e)}}function o(t){return function(e,i){return t(e,i)%100}}function d(t){return function(e,i){return r(t,e,i)}}function p(i,s){var r=function(t,e){return i.get(t,e,s)};t(n,i.ldml+s,r),i.lowerToken&&(n[i.lowerToken+s]=e(r))}function f(t){return function(e,i){var n=m.get(i);return r(n[t],e,i)}}n={},s={},c(a,function(r){var a,l=r.get;r.lowerToken&&(n[r.lowerToken]=e(l)),r.ordinalToken&&(n[r.ordinalToken]=function(t){return function(e,i){var n=t(e,i);return n+m.get(i).getOrdinal(n)}}(l)),r.ldmlPaddedToken&&(n[r.ldmlPaddedToken]=i(l,r.ldmlPaddedToken.length)),r.ldmlTwoDigitToken&&(n[r.ldmlTwoDigitToken]=i(o(l),2)),r.strfTwoDigitToken&&(s[r.strfTwoDigitToken]=i(o(l),2)),r.strfPadding&&(a=i(l,r.strfPadding)),r.alias&&(l=d(r.alias)),r.allowAlternates&&function(t){for(var e=1;e<=5;e++)p(t,e)}(r),t(n,r.ldml,l),t(s,r.strf,a||l)}),y(l,function(e,i){t(n,i,d(e))}),g(x,"short medium long full",function(e,i){var s=f(i);t(n,i,s),e[i]=s}),t(n,"time",f("time")),t(n,"stamp",f("stamp"))}(),function(){r=f(function(t,e,i){return b(n,e)(t,i)},function(t,e,i){return b(s,e)(t,i)},function(t,e){return v(n,t)||v(s,e)})}(),t.exports={ldmlTokens:n,strfTokens:s,dateFormatMatcher:r}},function(t,e,i){"use strict";var n=i(0),s=i(106);n.Date.defineInstance({format:function(t,e,i){return s(t,e,i)}}),t.exports=n.Date.format},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.endOfYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.endOfWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.endOfMonth},function(t,e,i){"use strict";var n=i(0),s=i(11),r=i(24),o=i(27),a=i(51),l=s.DAY_INDEX;n.Date.defineInstance({endOfISOWeek:function(t){return 0!==r(t)&&o(t,7),a(t,l)}}),t.exports=n.Date.endOfISOWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.endOfDay},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.daysUntil},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.daysSince},function(t,e,i){"use strict";var n=i(0),s=i(121);n.Date.defineInstance({daysInMonth:function(t){return s(t)}}),t.exports=n.Date.daysInMonth},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.daysFromNow},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.daysAgo},function(t,e,i){"use strict";var n=i(0),s=i(37);n.Date.defineInstance({clone:function(t){return s(t)}}),t.exports=n.Date.clone},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.beginningOfYear},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.beginningOfWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.beginningOfMonth},function(t,e,i){"use strict";var n=i(0),s=i(116),r=i(24),o=i(27);n.Date.defineInstance({beginningOfISOWeek:function(t){var e=r(t);return 0===e?e=-6:1!==e&&(e=1),o(t,e),s(t)}}),t.exports=n.Date.beginningOfISOWeek},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.beginningOfDay},function(t,e,i){"use strict";var n=i(11),s=i(34),r=i(115),o=n.YEAR_INDEX;t.exports=function(t){var e={},i=0;return r(o,function(n){var r=t[i++];s(r)&&(e[n.name]=r)}),e}},function(t,e,i){"use strict";var n=i(45);t.exports=function(t){var e,i,s={};return(e=t.match(/^(-?\d*[\d.]\d*)?\s?(\w+?)s?$/i))&&(n(i)&&(i=+e[1],isNaN(i)&&(i=1)),s[e[2].toLowerCase()]=i),s}},function(t,e,i){"use strict";var n=i(0),s=i(108);n.Date.defineInstanceWithArguments({advance:function(t,e){return s(t,e,1)}}),t.exports=n.Date.advance},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addYears},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addWeeks},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addSeconds},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addMonths},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addMinutes},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addMilliseconds},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addHours},function(t,e,i){"use strict";var n=i(33),s=i(11),r=i(35),o=i(110),a=i(42),l=i(51),c=i(65),h=i(26),u=i(49),d=i(50),p=i(109),f=i(64),g=h.sugarDate,m=s.HOURS_INDEX,v=s.DAY_INDEX;t.exports=function(){u(g,n,function(t,e,i){var n=e.name,s=c(n);i>v&&r(["Last","This","Next"],function(e){t["is"+e+s]=function(t,i){return o(t,e+" "+n,0,i,{locale:"en"})}}),i>m&&(t["beginningOf"+s]=function(t,e){return d(t,i,e)},t["endOf"+s]=function(t,e){return l(t,i,e)}),t["add"+s+"s"]=function(t,e,i){return a(t,n,e,i)},t[n+"sAgo"]=t[n+"sUntil"]=function(t,i,n){return f(p(t,i,n,!0),t,e)},t[n+"sSince"]=t[n+"sFromNow"]=function(t,i,n){return f(t,p(t,i,n,!0),e)}})}},function(t,e,i){"use strict";var n=i(0);i(7),t.exports=n.Date.addDays},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearsFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearsBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearsAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearsAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.years},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.yearAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.year},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weeksFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weeksBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weeksAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weeksAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weeks},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weekFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weekBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weekAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.weekAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.week},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondsFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondsBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondsAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondsAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.seconds},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.secondAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.second},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthsFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthsBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthsAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthsAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.months},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.monthAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.month},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minutesFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minutesBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minutesAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minutesAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minutes},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minuteFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minuteBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minuteAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minuteAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.minute},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondsFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondsBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondsAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondsAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.milliseconds},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecondAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.millisecond},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hoursFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hoursBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hoursAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hoursAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hours},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hourFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hourBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hourAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hourAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.hour},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Number.defineInstance({duration:function(t,e){return s.get(e).getDuration(t)}}),t.exports=n.Number.duration},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.daysFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.daysBefore
},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.daysAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.daysAfter},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.days},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.dayFromNow},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.dayBefore},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.dayAgo},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.dayAfter},function(t,e,i){"use strict";var n=i(35),s=i(55),r=i(12).isString;t.exports=function(t,e){var i={};return r(t)&&(t=s(t)),n(t,function(t,n){e(i,t,n)}),i}},function(t){"use strict";t.exports=function(t){return function(e,i,n){e[t](i,n)}}},function(t,e,i){"use strict";var n=i(384);t.exports={alias:n("alias"),defineStatic:n("defineStatic"),defineInstance:n("defineInstance"),defineStaticPolyfill:n("defineStaticPolyfill"),defineInstancePolyfill:n("defineInstancePolyfill"),defineInstanceAndStatic:n("defineInstanceAndStatic"),defineInstanceWithArguments:n("defineInstanceWithArguments")}},function(t,e,i){"use strict";var n=i(33),s=i(30),r=i(14),o=i(42),a=i(26),l=i(49),c=a.sugarNumber,h=r.round;t.exports=function(){l(c,n,function(t,e){var i,n,r,a=e.name;i=function(t){return h(t*e.multiplier)},n=function(t,e,i){return o(s(e,i,!0),a,t)},r=function(t,e,i){return o(s(e,i,!0),a,-t)},t[a]=i,t[a+"s"]=i,t[a+"Before"]=r,t[a+"sBefore"]=r,t[a+"Ago"]=r,t[a+"sAgo"]=r,t[a+"After"]=n,t[a+"sAfter"]=n,t[a+"FromNow"]=n,t[a+"sFromNow"]=n})}},function(t,e,i){"use strict";var n=i(0);i(6),t.exports=n.Number.day},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Date.defineStatic({setLocale:function(t){return s.set(t)}}),t.exports=n.Date.setLocale},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Date.defineStatic({removeLocale:function(t){return s.remove(t)}}),t.exports=n.Date.removeLocale},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Date.defineStatic({getLocale:function(t){return s.get(t,!t)}}),t.exports=n.Date.getLocale},function(t,e,i){"use strict";var n=i(0),s=i(15).localeManager;n.Date.defineStatic({getAllLocales:function(){return s.getAll()}}),t.exports=n.Date.getAllLocales},function(t){"use strict";t.exports=function(t){return Object.keys(t)}},function(t,e,i){"use strict";var n=i(0),s=i(15),r=i(392),o=s.localeManager;n.Date.defineStatic({getAllLocaleCodes:function(){return r(o.getAll())}}),t.exports=n.Date.getAllLocaleCodes},function(t){"use strict";t.exports=function(t,e){t.prototype.constructor=function(){return e.apply(this,arguments)}}},function(t,e,i){"use strict";var n=i(30),s=i(26),r=i(394),o=s.sugarDate;t.exports=function(){r(o,n)}},function(t,e,i){"use strict";i(395)()},function(t,e,i){"use strict";var n=i(11),s=i(52),r=n.DAY_INDEX,o=n.YEAR_INDEX;t.exports=function(t,e){s(t,e,o,r)}},function(t,e,i){"use strict";var n=i(32),s=i(14).abs;t.exports=function(t,e,i){var r,o=+t;return o+=o<50?2e3:1900,i&&(r=o-n(e))/s(r)!==i&&(o+=100*i),o}},function(t){"use strict";t.exports=function(t,e){var i;return i=t.val?t.val:t.sign?"+"===e?1:-1:t.bool?!!i:+e.replace(/,/,"."),"month"===t.param&&(i-=1),i}},function(t,e,i){"use strict";var n=i(112);t.exports=function(t,e){delete t[n(t,e)]}},function(t,e,i){"use strict";var n=i(16).hasOwn;t.exports=function(t,e){if(n(t,e))return e}},function(t,e,i){"use strict";var n=i(112),s=i(16).getOwn;t.exports=function(t,e){return s(t,n(t,e))}},function(t,e,i){"use strict";var n=i(40);t.exports=function(t,e){n(t,"Month",e)}},function(t,e,i){"use strict";var n=i(40);t.exports=function(t,e){n(t,"FullYear",e)}},function(t,e,i){"use strict";var n=i(40),s=i(114);t.exports=function(t,e,i,r){"ISOWeek"===e?s(t,i):n(t,e,i,r)}},function(t,e,i){"use strict";var n=i(11),s=n.DAY_INDEX,r=n.MONTH_INDEX;t.exports=function(t){return t===s?r:t+1}},function(t,e,i){"use strict";var n=i(44),s=i(41);t.exports=function(t,e){return s(t,n(e))}},function(t,e,i){"use strict";var n=i(16).setProperty;t.exports=function(t,e,i){n(t,e,i)}},function(t,e,i){"use strict";var n=i(57),s=i(408),r=i(16).forEachProperty;t.exports=function(t,e){function i(t){return o[t]}var o=n(e);return s(t,"getOption",i),s(t,"setOption",function(t,i){var n;1===arguments.length?n=t:(n={})[t]=i,r(n,function(t,i){null===t&&(t=e[i]),o[i]=t})}),i}},function(t){"use strict";t.exports=function(){return new Date}},function(t,e,i){"use strict";var n={newDateInternal:i(410)};t.exports=n},function(t,e,i){"use strict";var n=i(0),s=i(30);i(396),n.Date.defineStatic({create:function(t,e){return s(t,e)}}),t.exports=n.Date.create},function(t,e,i){"use strict";var n=i(125),s=i(122);t.exports=function(t,e,i){var r=n[t];return r.requiresSuffix?e=s(e+s(i)):r.requiresSuffixOr?e+=s(r.requiresSuffixOr+"|"+i):e+=s(i,!0),e}},function(t,e,i){"use strict";var n=i(28),s=i(119),r=i(118);t.exports=function(t){return r(t,function(e){return n(s(t/e.multiplier,1))})}},function(t){"use strict";t.exports=function(t){return RegExp("["+t+"]","g")}},function(t,e,i){"use strict";var n,s,r,o=i(56),a=i(120),l=i(415),c=o.HALF_WIDTH_ZERO,h=o.FULL_WIDTH_ZERO,u=o.HALF_WIDTH_PERIOD,d=o.FULL_WIDTH_PERIOD,p=o.HALF_WIDTH_COMMA;!function(){var t=d,e=u,i=p,o="";s={};for(var f,g=0;g<=9;g++)o+=f=a(g+h),s[f]=a(g+c);s[i]="",s[t]=e,s[e]=e,n=l(o+t+i+e),r=o}(),t.exports={fullWidthNumberReg:n,fullWidthNumberMap:s,fullWidthNumbers:r}},function(t,e,i){"use strict";var n=i(12).isString;t.exports=function(t){return n(t)||(t=String(t)),t.replace(/([\\\/\'*+?|()\[\]{}.^$-])/g,"\\$1")}},function(t,e,i){"use strict";var n=i(124),s=i(417);t.exports=function(t){var e=t.join("");return t&&t.length?e.length===t.length?"["+e+"]":n(t,s).join("|"):""}},function(t){"use strict";t.exports="_sugar_"},function(t,e,i){"use strict";var n=i(419),s=i(16).setProperty;t.exports=function(t){var e=n+t;return function(t,i){return arguments.length>1?(s(t,e,i),t):t[e]}}},function(t){"use strict";t.exports=function(t,e,i,n){var s;return i>1&&(s=t[e+(i-1)*n]),s||t[e]}},function(t){"use strict";t.exports=function(t){if(t>=11&&t<=13)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},function(t,e,i){"use strict";var n=i(16).hasOwn;t.exports=function(t){var e="constructor"in t;return!e&&!("toString"in t)||e&&!n(t,"constructor")&&n(t.constructor.prototype,"isPrototypeOf")}},function(t,e,i){"use strict";var n=i(16).hasOwn;t.exports=function(t){var e=Object.prototype;for(var i in t){var s=t[i];if(!n(t,i)&&s!==e[i])return!1}return!0}},function(t,e,i){"use strict";var n=i(123),s=i(70),r=i(424),o=i(423);t.exports=function(t,e){return s(t)&&n(t,"Object",e)&&o(t)&&r(t)}},function(t){"use strict";t.exports="Boolean Number String Date RegExp Function Array Error Set Map"},function(t,e,i){"use strict";var n=i(56).HALF_WIDTH_COMMA;t.exports=function(t){return t.split(n)}},function(t){"use strict";t.exports=function(t){return t>>>0==t&&4294967295!=t}},function(t,e,i){"use strict";var n=i(428);t.exports=function(t,e,i,s){var r,o=[];for(r in t)n(r)&&(i||(s?r<=e:r>=e))&&o.push(+r);return o.sort(function(t,i){var n=t>e;return n!==i>e?n?-1:1:t-i}),o}},function(t,e,i){"use strict";var n=i(429);t.exports=function(t,e,i,s){for(var r,o=n(t,i,s),a=0,l=o.length;a<l;a++)r=o[a],e.call(t,t[r],r,t);return t}},function(t){"use strict";t.exports=function(t,e){for(var i=[],n=0,s=t.length;n<s;n++){var r=t[n];n in t&&e(r,n)&&i.push(r)}return i}},function(t){"use strict";t.exports=[{src:"{MM}[-.\\/]{yyyy}"},{time:!0,src:"{dd}[-.\\/]{MM}(?:[-.\\/]{yyyy|yy|y})?",mdy:"{MM}[-.\\/]{dd}(?:[-.\\/]{yyyy|yy|y})?"},{time:!0,src:"{yyyy}[-.\\/]{MM}(?:[-.\\/]{dd})?"},{src:"\\\\/Date\\({timestamp}(?:[+-]\\d{4,4})?\\)\\\\/"},{src:"{yearSign?}{yyyy}(?:-?{MM}(?:-?{dd}(?:T{ihh}(?::?{imm}(?::?{ss})?)?)?)?)?{tzOffset?}"}]},function(t){"use strict";t.exports=["months","weekdays","units","numerals","placeholders","articles","tokens","timeMarkers","ampm","timeSuffixes","parse","timeParse","timeFrontParse","modifiers"]},function(t,e,i){"use strict";var n=i(433),s=i(71),r=i(126),o=i(432),a=i(125),l=i(124),c=i(431),h=i(35),u=i(34),d=i(427),p=i(12),f=i(45),g=i(14),m=i(72),v=i(422),b=i(122),y=i(16),x=i(421),w=i(69),_=i(418),k=i(416),C=i(414),T=i(413),S=y.getOwn,E=y.forEachProperty,O=k.fullWidthNumberMap,P=k.fullWidthNumbers,M=g.pow,D=g.max,A=s.ISO_FIRST_DAY_OF_WEEK,I=s.ISO_FIRST_DAY_OF_WEEK_YEAR,N=p.isString,j=p.isFunction;t.exports=function(t){function e(t){this.init(t)}return e.prototype={getMonthName:function(t,e){return this.monthSuffix?t+1+this.monthSuffix:x(this.months,t,e,12)},getWeekdayName:function(t,e){return x(this.weekdays,t,e,7)},getTokenValue:function(t,e){var i,n=this[t+"Map"];return n&&(i=n[e]),f(i)&&(i=this.getNumber(e),"month"===t&&(i-=1)),i},getNumber:function(t){var e=this.numeralMap[t];return u(e)?e:(e=+t.replace(/,/,"."),isNaN(e)?(e=this.getNumeralValue(t),isNaN(e)?e:(this.numeralMap[t]=e,e)):e)},getNumeralValue:function(t){for(var e,i,n,s,r,o=1,a=0,l=(r=t.split("")).length-1;n=r[l];l--)s=S(this.numeralMap,n),f(s)&&(s=S(O,n)||0),(i=s>0&&s%10==0)?(e&&(a+=o),l?o=s:a+=s):(a+=s*o,o*=10),e=i;return a},getOrdinal:function(t){return this.ordinalSuffix||v(t)},getRelativeFormat:function(t,e){return this.convertAdjustedToFormat(t,e)},getDuration:function(t){return this.convertAdjustedToFormat(C(D(0,t)),"duration")},getFirstDayOfWeek:function(){var t=this.firstDayOfWeek;return u(t)?t:A},getFirstDayOfWeekYear:function(){return this.firstDayOfWeekYear||I},convertAdjustedToFormat:function(t,e){var i,n,s,r=t[0],o=t[1],a=t[2],l=this[e]||this.relative;return j(l)?l.call(this,r,o,a,e):(s=this.plural&&1!==r?1:0,n=this.units[8*s+o]||this.units[o],i=this[a>0?"fromNow":"ago"],l.replace(/\{(.*?)\}/g,function(t,e){switch(e){case"num":return r;case"unit":return n;case"sign":return i}}))},cacheFormat:function(t,e){this.compiledFormats.splice(e,1),this.compiledFormats.unshift(t)},addFormat:function(t,e){function i(t){var i,o,a,l=t.match(/\?$/),h=t.match(/^(\d+)\??$/),u=t.match(/(\d)(?:-(\d))?/),d=t.replace(/[^a-z]+$/i,"");return(a=S(s.parsingAliases,d))?(o=n(a),l&&(o=b(o,!0)),o):(h?o=s.tokens[h[1]]:(a=S(r,d))?o=a.src:(a=S(s.parsingTokens,d)||S(s,d),d=d.replace(/s$/,""),a||(a=S(s.parsingTokens,d)||S(s,d+"s")),N(a)?(o=a,i=s[d+"Suffix"]):(u&&(a=c(a,function(t,e){var i=e%(s.units?8:a.length);return i>=u[1]&&i<=(u[2]||u[1])})),o=_(a))),o?(h?o=b(o):(e.push(d),o="("+o+")"),i&&(o=T(d,o,i)),l&&(o+="?"),o):"")}function n(t){return(t=t.replace(/ /g," ?")).replace(/\{([^,]+?)\}/g,function(t,e){var n=e.split("|");return n.length>1?b(l(n,i).join("|")):i(e)})}var s=this;e||(e=[],t=n(t)),s.addRawFormat(t,e)},addRawFormat:function(t,e){this.compiledFormats.unshift({reg:RegExp("^ *"+t+" *$","i"),to:e})},init:function(t){function e(t,e,n,s){var r,o=t,a=[];u[o]||(o+="s"),n||(n={},r=!0),function(t,e){h(u[t],function(t,n){i(t,function(t,i){e(t,i,n)})})}(o,function(t,i,r){var o,l=i*e+r;o=s?s(r):r,n[t]=o,n[t.toLowerCase()]=o,a[l]=t}),u[o]=a,r&&(u[t+"Map"]=n)}function i(t,e){var i=l(t.split("+"),function(t){return t.replace(/(.+):(.+)$/,function(t,e,i){return l(i.split("|"),function(t){return e+t}).join("|")})}).join("|");h(i.split("|"),e)}function s(t,e,i){h(u[t],function(t){e&&(t=c(t,i)),u.addFormat(t)})}function c(t,e){return e?function(){return b("{time}[,\\s\\u3000]",!0)}()+t:t+function(){var t,e=",?[\\s\\u3000]";return(t=_(u.timeMarkers))&&(e+="| (?:"+t+") "),e=b(e,u.timeMarkerOptional),b(e+"{time}",!0)}()}var u=this;!function(){u.compiledFormats=[],u.parsingAliases={},u.parsingTokens={}}(),function(){m(u,t)}(),function(){h(n,function(t){var e=u[t];N(e)?u[t]=d(e):e||(u[t]=[])})}(),e("month",12),e("weekday",7),e("unit",8),e("ampm",2),function(){var t={};e("numeral",10,t),e("article",1,t,function(){return 1}),e("placeholder",4,t,function(t){return M(10,t+1)}),u.numeralMap=t}(),function(){u.parsingAliases.time=function(){return u.ampmFront?"{ampm?} {hour} (?:{minute} (?::?{second})?)?":u.ampm.length?"{hour}(?:[.:]{minute}(?:[.:]{second})? {ampm?}| {ampm})":"{hour}(?:[.:]{minute}(?:[.:]{second})?)"}(),u.parsingAliases.tzOffset="(?:{Z}|{GMT?}(?:{tzSign}{tzHour}(?::?{tzMinute}(?: \\([\\w\\s]+\\))?)?)?)?"}(),function(){E(a,function(t,e){var i,n;i=t.base?r[t.base].src:t.src,(t.requiresNumerals||u.numeralUnits)&&(i+=function(){var t,e="";return t=u.numerals.concat(u.placeholders).concat(u.articles),u.allowsFullWidth&&(t=t.concat(P.split(""))),t.length&&(e="|(?:"+_(t)+")+"),e}()),(n=u[e+"s"])&&n.length&&(i+="|"+_(n)),u.parsingTokens[e]=i})}(),function(){w(function(t,e){var i=u.timeSuffixes[e];i&&(u[(t.alias||t.name)+"Suffix"]=i)})}(),function(){h(u.modifiers,function(t){var e,n=t.name,s=n+"Map";e=u[s]||{},i(t.src,function(i,s){var r=S(u.parsingTokens,n),o=t.value;e[i]=o,u.parsingTokens[n]=r?r+"|"+i:i,"sign"===t.name&&0===s&&(u[1===o?"fromNow":"ago"]=i)}),u[s]=e})}(),function(){h(o,function(t){var e=t.src;t.mdy&&u.mdy&&(e=t.mdy),t.time?(u.addFormat(c(e,!0)),u.addFormat(c(e))):u.addFormat(e)}),u.addFormat("{time}")}(),function(){s("parse"),s("timeParse",!0),s("timeFrontParse",!0,!0)}()}},new e(t)}},function(t,e,i){"use strict";var n=i(73)({"short":"{yyyy}-{MM}-{dd}",medium:"{d} {Month}, {yyyy}","long":"{d} {Month}, {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month}, {yyyy} {time}",stamp:"{Dow} {d} {Mon} {yyyy} {time}"});t.exports=n},function(t){"use strict";t.exports={code:"en",plural:!0,timeMarkers:"at",ampm:"AM|A.M.|a,PM|P.M.|p",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",months:"Jan:uary|,Feb:ruary|,Mar:ch|,Apr:il|,May,Jun:e|,Jul:y|,Aug:ust|,Sep:tember|t|,Oct:ober|,Nov:ember|,Dec:ember|",weekdays:"Sun:day|,Mon:day|,Tue:sday|,Wed:nesday|,Thu:rsday|,Fri:day|,Sat:urday|+weekend",numerals:"zero,one|first,two|second,three|third,four:|th,five|fifth,six:|th,seven:|th,eight:|h,nin:e|th,ten:|th",articles:"a,an,the",tokens:"the,st|nd|rd|th,of|in,a|an,on",time:"{H}:{mm}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"half",src:"half",value:.5},{name:"midday",src:"noon",value:12},{name:"midday",src:"midnight",value:24},{name:"day",src:"yesterday",value:-1},{name:"day",src:"today|tonight",value:0},{name:"day",src:"tomorrow",value:1},{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"first day|first|beginning",value:-2},{name:"edge",src:"last day",value:1},{name:"edge",src:"end|last",value:2},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],parse:["(?:just)? now","{shift} {unit:5-7}","{months?} (?:{year}|'{yy})","{midday} {4?} {day|weekday}","{months},?(?:[-.\\/\\s]{year})?","{edge} of (?:day)? {day|weekday}","{0} {num}{1?} {weekday} {2} {months},? {year?}","{shift?} {day?} {weekday?} {timeMarker?} {midday}","{sign?} {3?} {half} {3?} {unit:3-4|unit:7} {sign?}","{0?} {edge} {weekday?} {2} {shift?} {unit:4-7?} {months?},? {year?}"],timeParse:["{day|weekday}","{shift} {unit:5?} {weekday}","{0?} {date}{1?} {2?} {months?}","{weekday} {2?} {shift} {unit:5}","{0?} {num} {2?} {months}\\.?,? {year?}","{num?} {unit:4-5} {sign} {day|weekday}","{year}[-.\\/\\s]{months}[-.\\/\\s]{date}","{0|months} {date?}{1?} of {shift} {unit:6-7}","{0?} {num}{1?} {weekday} of {shift} {unit:6}","{date}[-.\\/\\s]{months}[-.\\/\\s](?:{year}|'?{yy})","{weekday?}\\.?,? {months}\\.?,? {date}{1?},? (?:{year}|'{yy})?"],timeFrontParse:["{sign} {num} {unit}","{num} {unit} {sign}","{4?} {day|weekday}"]}},function(t,e,i){"use strict";var n=i(73)({"short":"{dd}/{MM}/{yyyy}",medium:"{d} {Month} {yyyy}","long":"{d} {Month} {yyyy} {H}:{mm}",full:"{Weekday}, {d} {Month}, {yyyy} {time}",stamp:"{Dow} {d} {Mon} {yyyy} {time}"});t.exports=n},function(t,e,i){"use strict";var n=i(437),s={"en-US":i(127),"en-GB":n,"en-AU":n,"en-CA":i(435)};t.exports=s},function(t,e,i){"use strict";i(13),i(412),i(393),i(391),i(390),i(389),i(388),i(387),i(382),i(381),i(380),i(379),i(378),i(377),i(376),i(375),i(374),i(373),i(372),i(371),i(370),i(369),i(368),i(367),i(366),i(365),i(364),i(363),i(362),i(361),i(360),i(359),i(358),i(357),i(356),i(355),i(354),i(353),i(352),i(351),i(350),i(349),i(348),i(347),i(346),i(345),i(344),i(343),i(342),i(341),i(340),i(339),i(338),i(337),i(336),i(335),i(334),i(333),i(332),i(331),i(330),i(329),i(328),i(327),i(326),i(325),i(324),i(323),i(322),i(321),i(320),i(319),i(318),i(317),i(316),i(315),i(314),i(313),i(312),i(311),i(310),i(309),i(308),i(307),i(306),i(305),i(304),i(303),i(302),i(300),i(299),i(298),i(297),i(296),i(295),i(294),i(293),i(290),i(289),i(288),i(287),i(286),i(285),i(284),i(283),i(282),i(281),i(280),i(279),i(278),i(277),i(276),i(275),i(274),i(262),i(261),i(260),i(259),i(258),i(257),i(256),i(255),i(254),i(253),i(250),i(249),i(248),i(247),i(245),i(244),i(243),i(242),i(241),i(240),i(239),i(238),i(237),i(236),i(235),i(234),i(233),i(232),i(231),i(230),i(229),i(228),i(227),i(226),i(224),i(223),i(222),i(221),i(220),i(219),i(218),i(217),i(216),i(215),i(214),i(213),i(212),i(211),i(210),i(209),i(208),i(207),i(206),i(204),i(203),i(201),i(200),i(199),i(198),i(197),i(196),i(195),i(194),i(193),i(192),i(191),i(190),i(189),i(188),i(187),i(186),i(185),i(184),i(183),t.exports=i(0)}])});var recaptchaWidgets={};$(document).ready(function(){Cookies.set("old_visit","true",{expires:1/24})});